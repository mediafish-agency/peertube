import{$ as c,Ca as h,Cc as Z,Da as R,Dc as H,F as y,O as P,Oa as v,Q as _,R as x,Ra as S,Sa as u,Sb as F,T as I,Ta as p,Tb as V,Y as B,Z as $,_ as w,ab as T,b as M,ba as k,bb as q,c as f,ca as L,cb as b,db as N,eb as A,j as g,m as s,n as O,pb as a,rc as G,t as m,ta as j,wa as D,xc as E}from"./chunk-4A7FW7VV.js";import{a as o,b as l}from"./chunk-K6ICEIKK.js";function W(n,t){if(n&1&&(T(0,"div",3),b(1,"div",4),q()),n&2){let e=a(2);h(),p("width",e.diameter)("height",e.diameter)}}function z(n,t){if(n&1&&b(0,"div",5),n&2){let e=a().ngIf,i=a();p("background",i.color)("height",i.height)("width",e+"%")}}function J(n,t){if(n&1&&(N(0),v(1,W,2,4,"div",1)(2,z,1,6,"div",2),A()),n&2){let e=a();h(),u("ngIf",e.includeSpinner),h(),u("ngIf",e.includeBar)}}var C=class{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new f,this._value$=null,this.timer$=e=>{let i=g(e);switch(e.action){case"start":case"increment":case"set":{e.action==="start"&&this.config.latencyThreshold===0&&e.value===0&&(e.value=e.initialValue),this.requests>0&&(i=m(this.config.latencyThreshold,250).pipe(s(r=>l(o({},e),{value:r===0?this.state.value||e.initialValue:this._increment()}))));break}case"complete":case"stop":{i=e.value===0?g(o({},e)):m(0,500).pipe(y(2),s(r=>({value:r===0?100:0})));break}}return i.pipe(s(r=>l(o({},r),{action:"set"})),I(r=>this.next(r,!1)))},this.config=o({latencyThreshold:0},t)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(_(this.state),x(t=>this.timer$(t)),P(),s(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,e=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value);break}this.state=o(l(o({},this.state),{action:null}),t),e&&this.stream$.next(this.state)}_increment(t=0){let e=this.state.value;return e>=99&&(t=0),t===0&&(e>=0&&e<25?t=Math.random()*3+3:e>=25&&e<65?t=Math.random()*3:e>=65&&e<90?t=Math.random()*2:e>=90&&e<99?t=.5:t=0),t+e}},K=new w("LOADING_BAR_CONFIG"),Q=(()=>{class n{constructor(e,i={},r){this.platformId=e,this.config=i,this.zone=r,this.refs={},this.streams$=new f,this.value$=this.streams$.pipe(_(null),x(()=>O(Object.keys(this.refs).map(d=>this.refs[d].value$))),U(this.zone),s(d=>Math.max(0,...d)))}get progress$(){return this.value$}start(e=2){this.useRef().start(e)}set(e){this.useRef().set(e)}increment(e){this.useRef().increment(e)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(e="default"){return this.refs[e]||(this.refs[e]=new C(this.config),this.streams$.next(),H(this.platformId)||this.refs[e].disable()),this.refs[e]}}return n.\u0275fac=function(e){return new(e||n)(c(D),c(K,8),c(j,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U(n){return n?t=>new M(e=>t.subscribe(i=>n.run(()=>e.next(i)),i=>n.run(()=>e.error(i)),()=>n.run(()=>e.complete()))):t=>t}var pe=(()=>{class n{constructor(e){this.loader=e,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}}return n.\u0275fac=function(e){return new(e||n)(R(Q))},n.\u0275cmp=k({type:n,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(e,i){e&2&&(S("fixed",i.fixed),p("color",i.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(e,i){e&1&&(v(0,J,3,2,"ng-container",0),F(1,"async")),e&2&&u("ngIf",i.value!=null?i.value:V(1,1,i.value$))},dependencies:[G,E],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0}),n})(),de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=L({type:n}),n.\u0275inj=$({imports:[[Z]]}),n})();export{Q as a,pe as b,de as c};
/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/
