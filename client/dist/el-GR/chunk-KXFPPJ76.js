import{Da as s,Ib as S,Te as a,Zc as C,_f as y,ab as g,ad as b,ba as c,bb as m,gb as f,la as l,ma as p,ob as d,rg as P,vb as v,wb as h,xb as R}from"./chunk-4A7FW7VV.js";import{j as n,k as u}from"./chunk-K6ICEIKK.js";var I=["root"],o=class o{constructor(t,e,i,r){this.metaService=t;this.route=e;this.router=i;this.pluginService=r;n(this,"root");n(this,"urlSub")}ngAfterViewInit(){this.urlSub=this.route.url.subscribe(()=>{this.loadRoute()})}ngOnDestroy(){this.urlSub&&this.urlSub.unsubscribe()}onRootClick(t){let e=t.target;if(!e)return;let i=e.closest("a");if(!i)return;let r=i.getAttribute("href")||"";!i.target&&r.startsWith("/")&&(t.preventDefault(),t.stopPropagation(),this.router.navigateByUrl(r))}loadRoute(){return u(this,null,function*(){if(yield this.pluginService.ensurePluginsAreLoaded(this.route.snapshot.data.pluginScope||"common"),!this.route.snapshot.data.parentRoute){a.error('Missing "parentRoute" URL data to load plugin route '+this.route.snapshot.url);return}let t="/"+this.route.snapshot.url.map(i=>i.path).join("/"),e=this.pluginService.getRegisteredClientRoute(t,this.route.snapshot.data.parentRoute);if(!e)return a.info(`Could not find registered route ${t}`,{routes:this.pluginService.getAllRegisteredClientRoutes()}),this.router.navigate(["/404"],{skipLocationChange:!0});e.title&&this.metaService.setTitle(e.title),e.onMount({rootEl:this.root.nativeElement})})}};n(o,"\u0275fac",function(e){return new(e||o)(s(y),s(C),s(b),s(P))}),n(o,"\u0275cmp",c({type:o,selectors:[["ng-component"]],viewQuery:function(e,i){if(e&1&&v(I,5),e&2){let r;h(r=R())&&(i.root=r.first)}},standalone:!0,features:[S],decls:2,vars:0,consts:[["root",""],[3,"click"]],template:function(e,i){if(e&1){let r=f();g(0,"div",1,0),d("click",function(A){return l(r),p(i.onRootClick(A))}),m()}},encapsulation:2}));var w=o;export{w as a};
/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/
