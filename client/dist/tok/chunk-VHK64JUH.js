import{a as s}from"./chunk-K67EGD4G.js";import{B as E}from"./chunk-XEFO2OX5.js";import{Ab as d,Ca as o,Da as p,Ib as O,K as Q,Kb as M,Oa as y,Ra as _,Sa as g,Sb as S,Ub as f,Va as m,ab as r,ba as P,bb as a,cb as v,hg as U,kb as C,pb as h,rc as D,ug as b,zb as l}from"./chunk-4A7FW7VV.js";import{j as n}from"./chunk-K6ICEIKK.js";var A=c=>({width:c});function R(c,i){if(c&1&&(r(0,"div",7)(1,"div",3),C(2,1),a(),r(3,"div",4),v(4,"div",8),r(5,"span"),l(6),S(7,"bytes"),a(),r(8,"span"),l(9),a()()()),c&2){let e=h();o(3),g("ngbTooltip",e.titleVideoQuotaDaily()),o(),m(M(10,A,e.userVideoQuotaDailyPercentage+"%")),_("aria-valuenow",e.userVideoQuotaUsedDaily)("aria-valuemax",e.user==null?null:e.user.videoQuotaDaily),o(2),d(f(7,7,e.userVideoQuotaUsedDaily,1)),o(3),d(e.userVideoQuotaDaily);}}var u=class u{constructor(i,e){this.userService=i;this.auth=e;n(this,"userVideoQuota","0");n(this,"userVideoQuotaUsed",0);n(this,"userVideoQuotaPercentage",15);n(this,"userVideoQuotaDaily","0");n(this,"userVideoQuotaUsedDaily",0);n(this,"userVideoQuotaDailyPercentage",15);}get user(){return this.auth.getUser();}ngOnInit(){this.auth.userInformationLoaded.pipe(Q()).subscribe(()=>{this.user.videoQuota!==-1?this.userVideoQuota=new s().transform(this.user.videoQuota,0).toString():this.userVideoQuota="ale",this.user.videoQuotaDaily!==-1?this.userVideoQuotaDaily=new s().transform(this.user.videoQuotaDaily,0).toString():this.userVideoQuotaDaily="ale";}),this.userService.getMyVideoQuotaUsed().subscribe(i=>{this.userVideoQuotaUsed=i.videoQuotaUsed,this.userVideoQuotaPercentage=this.userVideoQuotaUsed*100/this.user.videoQuota,this.userVideoQuotaUsedDaily=i.videoQuotaUsedDaily,this.userVideoQuotaDailyPercentage=this.userVideoQuotaUsedDaily*100/this.user.videoQuotaDaily;});}hasDailyQuota(){return this.user.videoQuotaDaily!==-1;}titleVideoQuota(){return`${new s().transform(this.userVideoQuotaUsed,0).toString()} / ${this.userVideoQuota}`;}titleVideoQuotaDaily(){return`${new s().transform(this.userVideoQuotaUsedDaily,0).toString()} / ${this.userVideoQuotaDaily}`;}};n(u,"\u0275fac",function(e){return new(e||u)(p(b),p(U));}),n(u,"\u0275cmp",P({type:u,selectors:[["my-user-quota"]],standalone:!0,features:[O],decls:12,vars:13,consts:()=>{let i;i="ken pi pana sitelen";let e;return e="ona o ken pana e sitelen pi mute seme lon tenpo suno wan",[i,e,[1,"user-quota","mb-3"],[1,"mb-2","fw-bold"],["tabindex","0",1,"progress",3,"ngbTooltip"],["tabindex","0","role","progressbar","aria-valuemin","0",1,"progress-bar"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["role","progressbar","aria-valuemin","0",1,"progress-bar"]];},template:function(e,t){e&1&&(r(0,"div",2)(1,"div")(2,"div",3),C(3,0),a(),r(4,"div",4),v(5,"div",5),r(6,"span"),l(7),S(8,"bytes"),a(),r(9,"span"),l(10),a()()(),y(11,R,10,12,"div",6),a()),e&2&&(o(4),g("ngbTooltip",t.titleVideoQuota()),o(),m(M(11,A,t.userVideoQuotaPercentage+"%")),_("aria-valuenow",t.userVideoQuotaUsed)("aria-valuemax",t.user==null?null:t.user.videoQuota),o(2),d(f(8,8,t.userVideoQuotaUsed,1)),o(3),d(t.userVideoQuota),o(),g("ngIf",t.hasDailyQuota()));},dependencies:[E,D,s],styles:[".user-quota[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-inline-end:.3125rem}.user-quota[_ngcontent-%COMP%], .user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:100%!important}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor);display:flex;height:2rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;position:relative}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:focus, .user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:var(--greyForegroundColor)}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(1){left:.2rem}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){right:.2rem}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.red[_ngcontent-%COMP%]{background-color:#d56253}.user-quota[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}"]}));var V=u;export{V as a};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/