import{$ as v,Dc as C,E,Ja as u,T as y,Y as A,a as I,c,fc as N,m as g,ua as T,va as d,wa as w,x as b}from"./chunk-4A7FW7VV.js";var _;try{_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_=!1}var te=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?C(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(n){return new(n||e)(v(w))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var a;function M(){if(a==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>a=!0}))}finally{a=a||!1}return a}function se(t){return M()?t:!!t.capture}var l;function D(){if(l==null){let t=typeof document<"u"?document.head:null;l=!!(t&&(t.createShadowRoot||t.attachShadow))}return l}function ie(t){if(D()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ne(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function re(t){return t.composedPath?t.composedPath()[0]:t.target}function F(t,...e){return e.length?e.some(s=>t[s]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function he(t,e=0){return L(t)?Number(t):arguments.length===2?e:0}function L(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function de(t){return Array.isArray(t)?t:[t]}function ue(t){return t instanceof T?t.nativeElement:t}var Z=200,f=class{constructor(e,s){this._letterKeyStream=new c,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new c,this.selectedItem=this._selectedItem;let i=typeof(s==null?void 0:s.debounceInterval)=="number"?s.debounceInterval:Z;s!=null&&s.skipPredicate&&(this._skipPredicateFn=s.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let s=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(s>=65&&s<=90||s>=48&&s<=57)&&this._letterKeyStream.next(String.fromCharCode(s))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(y(s=>this._pressedLetters.push(s)),E(e),b(()=>this._pressedLetters.length>0),g(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(s=>{var i,n;for(let o=1;o<this._items.length+1;o++){let h=(this._selectedItemIndex+o)%this._items.length,r=this._items[h];if(!((i=this._skipPredicateFn)!=null&&i.call(this,r))&&((n=r.getLabel)==null?void 0:n.call(r).toLocaleUpperCase().trim().indexOf(s))===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}},m=class{constructor(e,s){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=I.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new c,this.change=new c,e instanceof d?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):u(e)&&(this._effectRef=N(()=>this._itemsChanged(e()),{injector:s}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let s=this._getItemsArray();return this._typeahead=new f(s,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){var e;return(e=this._typeahead)==null||e.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,s=10){return this._pageUpAndDown={enabled:e,delta:s},this}setActiveItem(e){let s=this._activeItem;this.updateActiveItem(e),this._activeItem!==s&&this.change.next(this._activeItemIndex)}onKeydown(e){var o,h;let s=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!e[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(s){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let r=this._activeItemIndex+this._pageUpAndDown.delta,p=this._getItemsArray().length;this._setActiveItemByIndex(r<p?r:p-1,-1);break}else return;default:(n||F(e,"shiftKey"))&&((o=this._typeahead)==null||o.handleKey(e));return}(h=this._typeahead)==null||h.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){var o;let s=this._getItemsArray(),i=typeof e=="number"?e:s.indexOf(e),n=s[i];this._activeItem=n==null?null:n,this._activeItemIndex=i,(o=this._typeahead)==null||o.setCurrentSelectedItemIndex(i)}destroy(){var e,s,i;this._typeaheadSubscription.unsubscribe(),(e=this._itemChangesSubscription)==null||e.unsubscribe(),(s=this._effectRef)==null||s.destroy(),(i=this._typeahead)==null||i.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let s=this._getItemsArray();for(let i=1;i<=s.length;i++){let n=(this._activeItemIndex+e*i+s.length)%s.length,o=s[n];if(!this._skipPredicateFn(o)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,s){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=s,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return u(this._items)?this._items():this._items instanceof d?this._items.toArray():this._items}_itemsChanged(e){var s,i;if((s=this._typeahead)==null||s.setItems(e),this._activeItem){let n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,(i=this._typeahead)==null||i.setCurrentSelectedItemIndex(n))}}};var O=class extends m{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};function Ve(t){return t.buttons===0||t.detail===0}function Ge(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}export{te as a,se as b,ie as c,ne as d,re as e,F as f,he as g,de as h,ue as i,m as j,O as k,Ve as l,Ge as m};
/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/
