import{a as bt,b as Dt}from"./chunk-XURUAWB6.js";import{a as Gt}from"./chunk-JGX4RESL.js";import{a as yt}from"./chunk-R6TMV3L2.js";import{a as Ot,b as At}from"./chunk-TI2TDVQM.js";import{a as ht}from"./chunk-K67EGD4G.js";import{a as Ft}from"./chunk-EBTUWTIZ.js";import{a as j,b as Oe}from"./chunk-LRNUW7WF.js";import{a as ft}from"./chunk-OALCD7CC.js";import"./chunk-KOE64Z5J.js";import{d as Rt,f as Pt,k as Nt}from"./chunk-TXALZPCW.js";import{a as Tt}from"./chunk-4V7EB4W6.js";import{a as Et}from"./chunk-KG4UYECH.js";import{b as Ct}from"./chunk-NO6VG5DO.js";import"./chunk-XEFO2OX5.js";import{a as St}from"./chunk-WRZZAQTV.js";import{b as It,d as Mt,h as Xe,n as vt}from"./chunk-5CNYD3QV.js";import{b as le,c as ce}from"./chunk-RZGVOE4L.js";import{A as _e,c as te,d as fe,f as ne,g as ie,l as oe,o as re,r as ae,z as se}from"./chunk-AHXSH3AS.js";import{Ab as P,Bb as Z,Ca as r,Da as T,Ea as Ie,Hb as it,Ib as O,Kb as w,L as Re,La as X,Lb as ot,Na as ke,Oa as d,Q as Pe,Qf as he,Ra as Je,S as Ne,Sa as l,Sb as ve,Ta as Ze,Tb as rt,Ub as at,X as Qe,Zc as pt,_ as Ye,ab as s,ac as st,ba as v,bb as a,bc as ee,bd as ut,c as je,cb as p,cc as _t,cg as Be,da as J,db as G,dg as dt,eb as b,fb as et,gb as V,hb as we,hg as gt,ib as f,j as W,jb as F,ka as Ke,kb as g,la as A,lb as I,ma as y,mb as M,nb as Y,oa as We,ob as h,p as Fe,pb as u,pc as H,qb as tt,qc as lt,rb as nt,rc as D,sa as U,sg as mt,ua as Le,ub as Me,va as Ue,vb as Ce,wb as q,wc as ct,xb as z,zb as S}from"./chunk-4A7FW7VV.js";import"./chunk-BERSDMCF.js";import"./chunk-ONF7AOBQ.js";import{j as c,k as He}from"./chunk-K6ICEIKK.js";var zt=["*"];function Ht(o,i){o&1&&nt(0);}var jt=(()=>{let i=class i{constructor(e){this._elementRef=e;}focus(){this._elementRef.nativeElement.focus();}};i.ɵfac=function(n){return new(n||i)(T(Le));},i.ɵdir=J({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0});let o=i;return o;})(),Qt=(()=>{let i=class i{constructor(e){this.template=e;}};i.ɵfac=function(n){return new(n||i)(T(Ie));},i.ɵdir=J({type:i,selectors:[["","cdkStepLabel",""]],standalone:!0});let o=i;return o;})(),Yt=0;var B={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},Kt=new Ye("STEPPER_GLOBAL_OPTIONS"),Ve=(()=>{let i=class i{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride;}set completed(e){this._completedOverride=e;}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted;}get hasError(){return this._customError==null?this._getDefaultError():this._customError;}set hasError(e){this._customError=e;}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted;}constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new U(),this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1;}select(){this._stepper.selected=this;}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset();}ngOnChanges(){this._stepper._stateChanged();}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this));}_showError(){var e;return(e=this._stepperOptions.showError)!=null?e:this._customError!=null;}};i.ɵfac=function(n){return new(n||i)(T(Qe(()=>pe)),T(Kt,8));},i.ɵcmp=v({type:i,selectors:[["cdk-step"]],contentQueries:function(n,_,m){if(n&1&&Me(m,Qt,5),n&2){let C;q(C=z())&&(_.stepLabel=C.first);}},viewQuery:function(n,_){if(n&1&&Ce(Ie,7),n&2){let m;q(m=z())&&(_.content=m.first);}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",ee],optional:[2,"optional","optional",ee],completed:[2,"completed","completed",ee],hasError:[2,"hasError","hasError",ee]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[ke,Ke,O],ngContentSelectors:zt,decls:1,vars:0,template:function(n,_){n&1&&(tt(),d(0,Ht,1,0,"ng-template"));},encapsulation:2,changeDetection:0});let o=i;return o;})(),pe=(()=>{let i=class i{get selectedIndex(){return this._selectedIndex;}set selectedIndex(e){var n;this.steps&&this._steps?(this._isValidIndex(e),(n=this.selected)==null||n._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e;}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0;}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1;}get orientation(){return this._orientation;}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical");}constructor(e,n,_){this._dir=e,this._changeDetectorRef=n,this._elementRef=_,this._destroyed=new je(),this.steps=new Ue(),this._sortedHeaders=new Ue(),this.linear=!1,this._selectedIndex=0,this.selectionChange=new U(),this.selectedIndexChange=new U(),this._orientation="horizontal",this._groupId=Yt++;}ngAfterContentInit(){this._steps.changes.pipe(Pe(this._steps),Ne(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges();});}ngAfterViewInit(){this._stepHeader.changes.pipe(Pe(this._stepHeader),Ne(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,_)=>n._elementRef.nativeElement.compareDocumentPosition(_._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges();}),this._keyManager=new Nt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:W()).pipe(Pe(this._layoutDirection()),Ne(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0));}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0);}ngOnDestroy(){var e;(e=this._keyManager)==null||e.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete();}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1);}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0);}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged();}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`;}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`;}_stateChanged(){this._changeDetectorRef.markForCheck();}_getAnimationDirection(e){let n=e-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current";}_getIndicatorType(e,n=B.NUMBER){let _=this.steps.toArray()[e],m=this._isCurrentStep(e);return _._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(_,m):this._getGuidelineLogic(_,m,n);}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?B.ERROR:!e.completed||n?B.NUMBER:e.editable?B.EDIT:B.DONE;}_getGuidelineLogic(e,n,_=B.NUMBER){return e._showError()&&e.hasError&&!n?B.ERROR:e.completed&&!n?B.DONE:e.completed&&n?_:e.editable&&n?B.EDIT:_;}_isCurrentStep(e){return this._selectedIndex===e;}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex;}_updateSelectedItemIndex(e){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged();}_onKeydown(e){let n=Pt(e),_=e.keyCode,m=this._keyManager;m.activeItemIndex!=null&&!n&&(_===32||_===13)?(this.selectedIndex=m.activeItemIndex,e.preventDefault()):m.setFocusOrigin("keyboard").onKeydown(e);}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(n=>{let _=n.stepControl;return(_?_.invalid||_.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride;}):!1;}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr";}_containsFocus(){let e=this._elementRef.nativeElement,n=Rt();return e===n||e.contains(n);}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length);}};i.ɵfac=function(n){return new(n||i)(T(yt,8),T(st),T(Le));},i.ɵdir=J({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(n,_,m){if(n&1&&(Me(m,Ve,5),Me(m,jt,5)),n&2){let C;q(C=z())&&(_._steps=C),q(C=z())&&(_._stepHeader=C);}},inputs:{linear:[2,"linear","linear",ee],selectedIndex:[2,"selectedIndex","selectedIndex",_t],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[ke]});let o=i;return o;})(),$t=(()=>{let i=class i{constructor(e){this._stepper=e,this.type="submit";}};i.ɵfac=function(n){return new(n||i)(T(pe));},i.ɵdir=J({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(n,_){n&1&&h("click",function(){return _._stepper.next();}),n&2&&we("type",_.type);},inputs:{type:"type"},standalone:!0});let o=i;return o;})(),xt=(()=>{let i=class i{constructor(e){this._stepper=e,this.type="button";}};i.ɵfac=function(n){return new(n||i)(T(pe));},i.ɵdir=J({type:i,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(n,_){n&1&&h("click",function(){return _._stepper.previous();}),n&2&&we("type",_.type);},inputs:{type:"type"},standalone:!0});let o=i;return o;})();function Wt(o,i){o&1&&(G(0),s(1,"strong"),g(2,0),a(),b());}function Jt(o,i){if(o&1&&(G(0),f(1,1),p(2,"strong")(3,"div"),F(),b()),o&2){let t=u();r(3),I(t.instanceName),M(1);}}function Zt(o,i){o&1&&(s(0,"p"),g(1,2),a());}function en(o,i){o&1&&(s(0,"p"),g(1,3),a());}function tn(o,i){o&1&&(s(0,"p"),f(1,4),p(2,"strong"),F(),a());}function nn(o,i){o&1&&(s(0,"p"),f(1,5),p(2,"strong"),F(),a());}function on(o,i){if(o&1&&(G(0),d(1,tn,3,0,"p",9)(2,nn,3,0,"p",9),b()),o&2){let t=u();r(),l("ngIf",t.requiresApproval),r(),l("ngIf",!t.requiresApproval);}}function rn(o,i){o&1&&(s(0,"p"),g(1,6),a());}function an(o,i){o&1&&(s(0,"p"),f(1,7),p(2,"a",11),F(),a());}function sn(o,i){if(o&1&&(G(0),d(1,rn,2,0,"p",9)(2,an,3,0,"p",9),b()),o&2){let t=u();r(),l("ngIf",t.requiresApproval),r(),l("ngIf",!t.requiresApproval);}}var ue=class ue{constructor(){c(this,"requiresApproval");c(this,"requiresEmailVerification");c(this,"instanceName");}};c(ue,"\u0275fac",function(t){return new(t||ue)();}),c(ue,"\u0275cmp",v({type:ue,selectors:[["my-signup-success-before-email"]],inputs:{requiresApproval:"requiresApproval",requiresEmailVerification:"requiresEmailVerification",instanceName:"instanceName"},standalone:!0,features:[O],decls:8,vars:6,consts:()=>{let i;i="Solicita\xE7\xE3o de conta enviada";let t;t=""+"\uFFFD#2\uFFFD"+"Bem-vindo"+"\uFFFD/#2\uFFFD"+""+"\uFFFD#3\uFFFD"+"a "+"\uFFFD0\uFFFD"+""+"\uFFFD/#3\uFFFD"+"";let e;e="Sua solicita\xE7\xE3o de conta foi enviada!";let n;n="Sua conta foi criada!";let _;_=""+"\uFFFD#2\uFFFD"+"Confira seu e-mail"+"\uFFFD/#2\uFFFD"+" para validar sua conta e completa seu pedido de inscri\xE7\xE3o. ";let m;m=""+"\uFFFD#2\uFFFD"+"Confira seu e-mail"+"\uFFFD/#2\uFFFD"+" para validar sua conta e completar sua inscri\xE7\xE3o. ";let C;C="Um moderador verificar\xE1 sua solicita\xE7\xE3o de inscri\xE7\xE3o em breve e voc\xEA receber\xE1 um e-mail quando ela for aceita ou rejeitada.";let N;return N="Se precisar de ajuda para usar o PeerTube, voc\xEA pode dar uma olhada na "+"\uFFFD#2\uFFFD"+"documenta\xE7\xE3o"+"\uFFFD/#2\uFFFD"+". ",[i,t,e,n,_,m,C,N,["mascotImageName","success"],[4,"ngIf"],[1,"alert","pt-alert-primary"],["href","https://docs.joinpeertube.org/use/setup-account","target","_blank","rel","noopener noreferrer",1,"link-orange"]];},template:function(t,e){t&1&&(s(0,"my-signup-step-title",8),d(1,Wt,3,0,"ng-container",9)(2,Jt,4,1,"ng-container",9),a(),s(3,"div",10),d(4,Zt,2,0,"p",9)(5,en,2,0,"p",9)(6,on,3,2,"ng-container",9)(7,sn,3,2,"ng-container",9),a()),t&2&&(r(),l("ngIf",e.requiresApproval),r(),l("ngIf",!e.requiresApproval),r(2),l("ngIf",e.requiresApproval),r(),l("ngIf",!e.requiresApproval),r(),l("ngIf",e.requiresEmailVerification),r(),l("ngIf",!e.requiresEmailVerification));},dependencies:[Oe,D],styles:[".alert[_ngcontent-%COMP%]{font-size:18px;max-width:900px;text-align:center;margin:auto}"]}));var Ae=ue;var Lt=o=>({"input-error":o});function _n(o,i){if(o&1&&(s(0,"p"),f(1,6),p(2,"strong"),ve(3,"bytes"),F(),a()),o&2){let t=u();r(3),I(t.instanceName)(at(3,2,t.videoQuota,0)),M(1);}}function ln(o,i){if(o&1&&(s(0,"div",21),S(1),a()),o&2){let t=u();r(),P(t.formErrors.displayName);}}function cn(o,i){if(o&1&&(s(0,"div",21),S(1),a()),o&2){let t=u();r(),P(t.formErrors.name);}}function pn(o,i){o&1&&(s(0,"div",21),g(1,7),a());}var ge=class ge extends ce{constructor(t,e){super();this.formReactiveService=t;this.signupService=e;c(this,"username");c(this,"instanceName");c(this,"videoQuota");c(this,"formBuilt",new U());}get instanceHost(){return window.location.host;}ngOnInit(){this.buildForm({displayName:At,name:Ot}),setTimeout(()=>this.formBuilt.emit(this.form)),Fe(W(""),this.form.get("displayName").valueChanges).pipe(Re()).subscribe(([t,e])=>this.onDisplayNameChange(t,e));}isSameThanUsername(){return this.username&&this.username===this.form.value.name;}onDisplayNameChange(t,e){let n=this.form.value.name||"",_=this.signupService.getNewUsername(t,e,n);this.form.patchValue({name:_});}};c(ge,"\u0275fac",function(e){return new(e||ge)(T(le),T(j));}),c(ge,"\u0275cmp",v({type:ge,selectors:[["my-register-step-channel"]],inputs:{username:"username",instanceName:"instanceName",videoQuota:"videoQuota"},outputs:{formBuilt:"formBuilt"},standalone:!0,features:[X,O],decls:30,vars:13,consts:()=>{let t;t="Exemplo: Doces Melodias";let e;e="Exemplo: sweetmelodies24";let n;n="Voc\xEA quer "+"[\uFFFD#3\uFFFD|\uFFFD#4\uFFFD]"+"publicar v\xEDdeos"+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+" em "+"\uFFFD0\uFFFD"+"? Ent\xE3o voc\xEA precisa criar seu primeiro "+"[\uFFFD#3\uFFFD|\uFFFD#4\uFFFD]"+"canal"+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+". ",n=Y(n);let _;_="Talvez voc\xEA queira "+"\uFFFD#7\uFFFD"+"criar um canal por tema:"+"\uFFFD/#7\uFFFD"+" por exemplo, voc\xEA pode criar um canal chamado\"DocesMelodias\" para publicar seus concertos de piano e outro \"Ecologia\" no qual publicar\xE1 seus v\xEDdeos falando sobre ecologia. ";let m;m="Nome do canal a ser mostrado";let C;C="Este \xE9 o nome que ficar\xE1 publicamente vis\xEDvel para outros usu\xE1rios.";let N;N="Identificador de canal";let R;R="Este \xE9 o nome que ser\xE1 exibido em sua URL de perfil.";let $;$="Os administradores de "+"\uFFFD0\uFFFD"+" permitem que voc\xEA publique at\xE9 "+"\uFFFD#2\uFFFD"+""+"\uFFFD1\uFFFD"+" de v\xEDdeos"+"\uFFFD/#2\uFFFD"+" no website deles. ";let k;return k="Identificador de canal n\xE3o pode ser o mesmo que o seu nome de conta. Voc\xEA pode clicar no primeiro passo e atualizar o seu nome de conta.",[n,_,m,C,N,R,$,k,[1,"mb-5"],[4,"ngIf"],["role","form",3,"formGroup"],[1,"row"],[1,"col-md-12","col-xl-6","form-group"],["for","displayName"],[1,"form-group-description"],[1,"input-group"],["type","text","id","displayName","placeholder",t,"formControlName","displayName",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],["for","name"],["type","text","id","name","placeholder",e,"formControlName","name",3,"ngClass"],[1,"input-group-text"],["role","alert",1,"form-error"]];},template:function(e,n){e&1&&(s(0,"div",8)(1,"p"),f(2,0),p(3,"strong")(4,"strong"),F(),a(),s(5,"p"),f(6,1),p(7,"strong"),F(),a(),d(8,_n,4,5,"p",9),a(),s(9,"form",10)(10,"div",11)(11,"div",12)(12,"label",13),g(13,2),a(),s(14,"div",14),g(15,3),a(),s(16,"div",15),p(17,"input",16),a(),d(18,ln,2,1,"div",17),a(),s(19,"div",12)(20,"label",18),g(21,4),a(),s(22,"div",14),g(23,5),a(),s(24,"div",15),p(25,"input",19),s(26,"div",20),S(27),a()(),d(28,cn,2,1,"div",17)(29,pn,2,0,"div",17),a()()()),e&2&&(r(4),I(n.instanceName),M(2),r(4),l("ngIf",n.videoQuota!==-1),r(),l("formGroup",n.form),r(8),l("ngClass",w(9,Lt,n.formErrors.displayName)),r(),l("ngIf",n.formErrors.displayName),r(7),l("ngClass",w(11,Lt,n.formErrors.name)),r(2),Z("@",n.instanceHost,""),r(),l("ngIf",n.formErrors.name),r(),l("ngIf",n.isSameThanUsername()));},dependencies:[D,se,oe,te,ne,ie,_e,re,ae,H,ht],styles:["input[_ngcontent-%COMP%]:not([type=submit]){font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}input[_ngcontent-%COMP%]:not([type=submit])#username, input[_ngcontent-%COMP%]:not([type=submit])#name{width:auto!important;flex-grow:1}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}label[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}.row[_ngcontent-%COMP%]{margin-bottom:30px}"]}));var ye=ge;var qe=o=>({"input-error":o});function un(o,i){o&1&&(s(0,"div",25),g(1,6),a());}function dn(o,i){if(o&1&&(s(0,"div",26),S(1),a()),o&2){let t=u();r(),P(t.formErrors.displayName);}}function gn(o,i){if(o&1&&(s(0,"div",26),S(1),a()),o&2){let t=u();r(),P(t.formErrors.username);}}function mn(o,i){o&1&&(s(0,"div",13),g(1,7),a());}function Sn(o,i){if(o&1&&(s(0,"div",26),S(1),a()),o&2){let t=u();r(),P(t.formErrors.email);}}var me=class me extends ce{constructor(t,e){super();this.formReactiveService=t;this.signupService=e;c(this,"videoUploadDisabled",!1);c(this,"requiresEmailVerification",!1);c(this,"formBuilt",new U());}get instanceHost(){return window.location.host;}ngOnInit(){this.buildForm({displayName:vt,username:It,password:Xe,email:Mt}),setTimeout(()=>this.formBuilt.emit(this.form)),Fe(W(""),this.form.get("displayName").valueChanges).pipe(Re()).subscribe(([t,e])=>this.onDisplayNameChange(t,e));}getMinPasswordLengthMessage(){return Xe.MESSAGES.minlength;}onDisplayNameChange(t,e){let n=this.form.value.username||"",_=this.signupService.getNewUsername(t,e,n);this.form.patchValue({username:_});}};c(me,"\u0275fac",function(e){return new(e||me)(T(le),T(j));}),c(me,"\u0275cmp",v({type:me,selectors:[["my-register-step-user"]],inputs:{videoUploadDisabled:"videoUploadDisabled",requiresEmailVerification:"requiresEmailVerification"},outputs:{formBuilt:"formBuilt"},standalone:!0,features:[X,O],decls:34,vars:18,consts:()=>{let t;t="Exemplo: Fulano de Tal";let e;e="Exemplo: fulano_de_tal_82";let n;n="Exemplo: john@example.com";let _;_="Nome p\xFAblico";let m;m="Este \xE9 o nome que estar\xE1 vis\xEDvel publicamente para outros usu\xE1rios.";let C;C="Nome de usu\xE1rio";let N;N="Este \xE9 o nome que ser\xE1 exibido em sua URL de perfil.";let R;R="E-mail";let $;$="Senha";let k;k="Envio de v\xEDdeos est\xE1 desabilitado nesta inst\xE2ncia, deste modo sua conta n\xE3o poder\xE1 enviar v\xEDdeos.";let E;return E="Este \xE9 o endere\xE7o de e-mail que ser\xE1 usado para validar sua conta.",[_,m,C,N,R,$,k,E,["class","alert pt-alert-primary",4,"ngIf"],["role","form",3,"formGroup"],[1,"row"],[1,"col-md-12","col-xl-6","form-group"],["for","displayName"],[1,"form-group-description"],[1,"input-group"],["type","text","id","displayName","placeholder",t,"formControlName","displayName","autocomplete","nickname",1,"form-control",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],["for","username"],["type","text","id","username","placeholder",e,"formControlName","username","autocomplete","username",1,"form-control",3,"ngClass"],[1,"input-group-text"],["for","email"],["class","form-group-description",4,"ngIf"],["type","text","id","email","placeholder",n,"autocomplete","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["formControlName","password","inputId","password","autocomplete","new-password",3,"formError"],[1,"alert","pt-alert-primary"],["role","alert",1,"form-error"]];},template:function(e,n){e&1&&(d(0,un,2,0,"div",8),s(1,"form",9)(2,"div",10)(3,"div",11)(4,"label",12),g(5,0),a(),s(6,"div",13),g(7,1),a(),s(8,"div",14),p(9,"input",15),a(),d(10,dn,2,1,"div",16),a(),s(11,"div",11)(12,"label",17),g(13,2),a(),s(14,"div",13),g(15,3),a(),s(16,"div",14),p(17,"input",18),s(18,"span",19),S(19),a()(),d(20,gn,2,1,"div",16),a()(),s(21,"div",10)(22,"div",11)(23,"label",20),g(24,4),a(),d(25,mn,2,0,"div",21),p(26,"input",22),d(27,Sn,2,1,"div",16),a(),s(28,"div",11)(29,"label",23),g(30,5),a(),s(31,"div",13),S(32),a(),p(33,"my-input-text",24),a()()()),e&2&&(l("ngIf",n.videoUploadDisabled),r(),l("formGroup",n.form),r(8),l("ngClass",w(12,qe,n.formErrors.displayName)),r(),l("ngIf",n.formErrors.displayName),r(7),l("ngClass",w(14,qe,n.formErrors.username)),r(2),Z("@",n.instanceHost,""),r(),l("ngIf",n.formErrors.username),r(5),l("ngIf",n.requiresEmailVerification),r(),l("ngClass",w(16,qe,n.formErrors.email)),r(),l("ngIf",n.formErrors.email),r(5),P(n.getMinPasswordLengthMessage()),r(),l("formError",n.formErrors.password));},dependencies:[D,se,oe,te,ne,ie,_e,re,ae,H,Ct],styles:["input[_ngcontent-%COMP%]:not([type=submit]){font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}input[_ngcontent-%COMP%]:not([type=submit])#username, input[_ngcontent-%COMP%]:not([type=submit])#name{width:auto!important;flex-grow:1}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}label[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}.row[_ngcontent-%COMP%]{margin-bottom:30px}"]}));var Ge=me;var Bt={VALIDATORS:[fe.requiredTrue],MESSAGES:{required:"Voc\xEA precisa concordar com os termos da inst\xE2ncia para se inscrever."}},Xt={VALIDATORS:[fe.required,fe.minLength(2),fe.maxLength(3e3)],MESSAGES:{required:"O motivo da inscri\xE7\xE3o \xE9 necess\xE1rio.",minlength:"O motivo da inscri\xE7\xE3o deve ter pelo menos 2 caracteres.",maxlength:"O motivo da inscri\xE7\xE3o n\xE3o pode ultrapassar 3000 caracteres."}};var En=o=>({"input-error":o});function Tn(o,i){if(o&1&&(s(0,"div",10),S(1),a()),o&2){let t=u(2);r(),P(t.formErrors.registrationReason);}}function Cn(o,i){if(o&1&&(s(0,"div",4)(1,"label",8),g(2,0),a(),p(3,"textarea",9),d(4,Tn,2,1,"div",7),a()),o&2){let t=u();r(2),I(t.instanceName),M(2),r(),l("ngClass",w(3,En,t.formErrors.registrationReason)),r(),l("ngIf",t.formErrors.registrationReason);}}function fn(o,i){if(o&1){let t=V();f(0,1,1),G(1),s(2,"a",11),h("click",function(n){A(t);let _=u(2);return y(_.onCodeOfConductClick(n));}),a(),b(),F();}}function Fn(o,i){if(o&1){let t=V();G(0),f(1,1),s(2,"a",11),h("click",function(n){A(t);let _=u();return y(_.onTermsClick(n));}),a(),d(3,fn,3,0,"ng-container",12),F(),b();}if(o&2){let t=u();r(3),l("ngIf",t.hasCodeOfConduct),I(t.minimumAge)(t.instanceName),M(1);}}function Rn(o,i){if(o&1&&(s(0,"div",10),S(1),a()),o&2){let t=u();r(),P(t.formErrors.terms);}}var Se=class Se extends ce{constructor(t){super();this.formReactiveService=t;c(this,"hasCodeOfConduct",!1);c(this,"requiresApproval");c(this,"minimumAge",16);c(this,"instanceName");c(this,"formBuilt",new U());c(this,"termsClick",new U());c(this,"codeOfConductClick",new U());}get instanceHost(){return window.location.host;}ngOnInit(){this.buildForm({terms:Bt,registrationReason:this.requiresApproval?Xt:null}),setTimeout(()=>this.formBuilt.emit(this.form));}onTermsClick(t){t.preventDefault(),this.termsClick.emit();}onCodeOfConductClick(t){t.preventDefault(),this.codeOfConductClick.emit();}};c(Se,"\u0275fac",function(e){return new(e||Se)(T(le));}),c(Se,"\u0275cmp",v({type:Se,selectors:[["my-register-step-terms"]],inputs:{hasCodeOfConduct:"hasCodeOfConduct",requiresApproval:"requiresApproval",minimumAge:"minimumAge",instanceName:"instanceName"},outputs:{formBuilt:"formBuilt",termsClick:"termsClick",codeOfConductClick:"codeOfConductClick"},standalone:!0,features:[X,O],decls:6,vars:3,consts:()=>{let t;t="Por que voc\xEA quer ingressar em "+"\uFFFD0\uFFFD"+"?";let e;return e="Eu tenho pelo menos "+"\uFFFD0\uFFFD"+" anos e concordo com os "+"\uFFFD#2\uFFFD"+"Termos"+"[\uFFFD/#2\uFFFD|\uFFFD/#2:1\uFFFD]"+""+"\uFFFD*3:1\uFFFD\uFFFD#1:1\uFFFD"+" e com o "+"\uFFFD#2:1\uFFFD"+"C\xF3digo de Conduta"+"[\uFFFD/#2\uFFFD|\uFFFD/#2:1\uFFFD]"+""+"\uFFFD/#1:1\uFFFD\uFFFD/*3:1\uFFFD"+" de "+"\uFFFD1\uFFFD"+" ",e=Y(e),[t,e,["role","form",3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],["inputName","terms","formControlName","terms"],["ptTemplate","label"],["class","form-error","role","alert",4,"ngIf"],["for","registrationReason"],["id","registrationReason","formControlName","registrationReason","rows","4",1,"form-control",3,"ngClass"],["role","alert",1,"form-error"],["href","#",1,"link-orange",3,"click"],[4,"ngIf"]];},template:function(e,n){e&1&&(s(0,"form",2),d(1,Cn,5,5,"div",3),s(2,"div",4)(3,"my-peertube-checkbox",5),d(4,Fn,4,3,"ng-template",6),a(),d(5,Rn,2,1,"div",7),a()()),e&2&&(l("formGroup",n.form),r(),l("ngIf",n.requiresApproval),r(4),l("ngIf",n.formErrors.terms));},dependencies:[se,oe,te,ne,ie,_e,re,ae,D,H,Tt,Et],styles:["input[_ngcontent-%COMP%]:not([type=submit]){font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}input[_ngcontent-%COMP%]:not([type=submit])#username, input[_ngcontent-%COMP%]:not([type=submit])#name{width:auto!important;flex-grow:1}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}label[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}.row[_ngcontent-%COMP%]{margin-bottom:30px}"]}));var be=Se;function Nn(o,i){if(o&1&&(G(0),g(1,9),ve(2,"myDaysDurationFormatter"),b()),o&2){let t=u(2);r(2),I(rt(2,1,t.averageResponseTime)),M(1);}}function In(o,i){if(o&1&&(s(0,"p",22),G(1),g(2,8),b(),d(3,Nn,3,3,"ng-container",14),a()),o&2){let t=u();r(2),I(t.instanceName),M(2),r(),l("ngIf",t.averageResponseTime);}}function Mn(o,i){o&1&&(s(0,"li"),f(1,10),p(2,"strong"),F(),a());}var Ee=class Ee{constructor(i){this.serverService=i;c(this,"requiresApproval");c(this,"videoUploadDisabled");c(this,"serverStats");}get instanceName(){return this.serverService.getHTMLConfig().instance.name;}get averageResponseTime(){var i;return(i=this.serverStats)==null?void 0:i.averageRegistrationRequestResponseTimeMs;}};c(Ee,"\u0275fac",function(t){return new(t||Ee)(T(he));}),c(Ee,"\u0275cmp",v({type:Ee,selectors:[["my-register-step-about"]],inputs:{requiresApproval:"requiresApproval",videoUploadDisabled:"videoUploadDisabled",serverStats:"serverStats"},standalone:!0,features:[O],decls:34,vars:6,consts:()=>{let i;i="Por que criar uma conta?";let t;t="Como voc\xEA provavelmente j\xE1 percebeu: n\xE3o \xE9 necess\xE1rio criar uma conta para assistir um v\xEDdeo em "+"[\uFFFD0\uFFFD|\uFFFD1\uFFFD]"+". "+"\uFFFD#7\uFFFD\uFFFD/#7\uFFFD"+" Entretanto, criar uma conta em "+"[\uFFFD0\uFFFD|\uFFFD1\uFFFD]"+" lhe permitir\xE1: ",t=Y(t);let e;e=""+"\uFFFD#11\uFFFD"+"Comentar"+"\uFFFD/#11\uFFFD"+" v\xEDdeos";let n;n=""+"\uFFFD#14\uFFFD"+"Assine"+"\uFFFD/#14\uFFFD"+" canais para ser notificado de novos v\xEDdeos";let _;_="Ter acesso a seu "+"\uFFFD#17\uFFFD"+"hist\xF3rico de visualiza\xE7\xE3o"+"\uFFFD/#17\uFFFD"+"";let m;m="Voc\xEA usa Mastodon, ActivityPub ou um agregador RSS?";let C;C="Voc\xEA pode tamb\xE9m seguir "+"\uFFFD0\uFFFD"+" usando sua ferramenta favorita.";let N;N=""+"\uFFFD0\uFFFD"+" foi criada empregando "+"\uFFFD#32\uFFFD"+"PeerTube"+"[\uFFFD/#32\uFFFD|\uFFFD/#33\uFFFD]"+", uma plataforma de cria\xE7\xE3o de v\xEDdeos desenvolvida por Framasoft. "+"\uFFFD#33\uFFFD"+"Framasoft"+"[\uFFFD/#32\uFFFD|\uFFFD/#33\uFFFD]"+" \xE9 uma organiza\xE7\xE3o sem fins lucrativos que oferece alternativas \xE0s ferramentas digitais das Big Tech. ",N=Y(N);let R;R="Moderators of "+"\uFFFD0\uFFFD"+" will have to approve your registration request once you have finished to fill the form.";let $;$="They usually respond within "+"\uFFFD0\uFFFD"+".";let k;return k="Criar seu canal para "+"\uFFFD#2\uFFFD"+"publicar v\xEDdeos"+"\uFFFD/#2\uFFFD"+"",[i,t,e,n,_,m,C,N,R,$,k,["rounded","true",1,"d-block","mb-4"],["class","alert pt-alert-primary text-center",4,"ngIf"],[1,"why"],[4,"ngIf"],[1,"callout","callout-orange","callout-light"],[1,"mascot-container",2,"min-width","140px"],["width","140px","height","160px","src","/client/assets/images/mascot/happy.svg","alt","mascot",1,"mascot"],[1,"callout-content"],["i18",""],["target","_blank","rel","noopener noreferrer","href","https://joinpeertube.org",1,"link-orange"],["target","_blank","rel","noopener noreferrer","href","https://framasoft.org",1,"link-orange"],[1,"alert","pt-alert-primary","text-center"]];},template:function(t,e){t&1&&(p(0,"my-instance-banner",11),d(1,In,4,2,"p",12),s(2,"div",13)(3,"h3"),g(4,0),a(),s(5,"p"),f(6,1),p(7,"br"),F(),a(),s(8,"ul")(9,"li"),f(10,2),p(11,"strong"),F(),a(),s(12,"li"),f(13,3),p(14,"strong"),F(),a(),s(15,"li"),f(16,4),p(17,"strong"),F(),a(),d(18,Mn,3,0,"li",14),a()(),s(19,"div")(20,"h4"),g(21,5),a(),s(22,"p"),g(23,6),a()(),s(24,"div",15)(25,"div",16),p(26,"img",17),a(),s(27,"div",18)(28,"h4",19),S(29,"This website is a GAFAM alternative"),a(),s(30,"p"),f(31,7),p(32,"a",20)(33,"a",21),F(),a()()()),t&2&&(r(),l("ngIf",e.requiresApproval),r(6),I(e.instanceName)(e.instanceName),M(6),r(11),l("ngIf",!e.videoUploadDisabled),r(5),I(e.instanceName),M(23),r(10),I(e.instanceName),M(31));},dependencies:[bt,D,Gt],styles:["h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px}h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.why[_ngcontent-%COMP%]{margin-bottom:30px}.callout[_ngcontent-%COMP%]{margin:75px auto 25px;border-width:2px;display:flex}.callout[_ngcontent-%COMP%]   .mascot-container[_ngcontent-%COMP%]{position:relative}.callout[_ngcontent-%COMP%]   .mascot-container[_ngcontent-%COMP%]   .mascot[_ngcontent-%COMP%]{position:absolute;top:-65px}.callout[_ngcontent-%COMP%]   .callout-content[_ngcontent-%COMP%]{margin-inline-start:calc(1.3125rem + .75vw)}@media (min-width: 1200px){.callout[_ngcontent-%COMP%]   .callout-content[_ngcontent-%COMP%]{margin-inline-start:1.875rem}}.callout[_ngcontent-%COMP%]   .callout-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media screen and (max-width: 800px){.callout[_ngcontent-%COMP%]{margin-top:20px}.callout[_ngcontent-%COMP%]   .mascot-container[_ngcontent-%COMP%]{display:none}.callout[_ngcontent-%COMP%]   .callout-content[_ngcontent-%COMP%]{margin-inline-start:0}}"]}));var De=Ee;var vn=(o,i)=>({active:o,completed:i});function hn(o,i){o&1&&(s(0,"div",12),p(1,"my-global-icon",13),a());}function On(o,i){o&1&&p(0,"div",14);}function An(o,i){if(o&1){let t=V();G(0),s(1,"button",6),h("click",function(){let n=A(t).index,_=u(2);return y(_.onClick(n));}),s(2,"div",7)(3,"span",8),g(4,0),a(),S(5),d(6,hn,2,0,"div",9),a(),s(7,"div",10),S(8),a()(),d(9,On,1,0,"div",11),b();}if(o&2){let t=i.$implicit,e=i.index,n=i.last,_=u(2);r(),l("ngClass",ot(7,vn,_.selectedIndex===e,_.isCompleted(t)))("disabled",!_.isAccessible(t)),Je("aria-current",_.selectedIndex===e),r(4),Z(" ",e+1," "),r(),l("ngIf",_.isCompleted(t)),r(2),P(t.label),r(),l("ngIf",!n);}}function yn(o,i){if(o&1&&(s(0,"header")(1,"div",4),d(2,An,10,10,"ng-container",5),a()()),o&2){let t=u();r(2),l("ngForOf",t.steps);}}var Q=class Q extends pe{onClick(i){this.selectedIndex=i;}isCompleted(i){return i.completed;}isAccessible(i){return i.editable&&i.completed;}};c(Q,"\u0275fac",(()=>{let i;return function(e){return(i||(i=We(Q)))(e||Q);};})()),c(Q,"\u0275cmp",v({type:Q,selectors:[["my-custom-stepper"]],standalone:!0,features:[it([{provide:pe,useExisting:Q}]),X,O],decls:4,vars:4,consts:()=>{let i;return i="Passo",[i,[4,"ngIf"],[1,"margin-content"],[3,"ngTemplateOutlet"],[1,"header-steps"],[4,"ngFor","ngForOf"],[1,"step-info","button-unstyle",3,"click","ngClass","disabled"],[1,"step-index"],[1,"visually-hidden"],["class","completed-icon",4,"ngIf"],[1,"step-label"],["class","connector",4,"ngIf"],[1,"completed-icon"],["iconName","tick"],[1,"connector"]];},template:function(t,e){t&1&&(s(0,"section"),d(1,yn,3,1,"header",1),s(2,"div",2),et(3,3),a()()),t&2&&(r(),l("ngIf",e.steps.length>2),r(),Ze("display",e.selected?"block":"none"),r(),l("ngTemplateOutlet",e.selected.content));},dependencies:[D,lt,H,St,ct],styles:["header[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:25px;width:100%;background-color:var(--mainColorVeryLight)}.header-steps[_ngcontent-%COMP%]{max-width:800px;display:flex;justify-content:space-between;margin:auto;padding:0 20px}.step-index[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:40px;border:1px solid var(--mainColor);margin-bottom:10px;font-size:24px;position:relative}.step-index[_ngcontent-%COMP%]   .completed-icon[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:14px;background-color:var(--mainBackgroundColor);position:absolute;bottom:0;right:0;display:flex;justify-content:center;align-items:center;box-shadow:0 0 0 1px var(--mainColor);overflow:hidden}.step-index[_ngcontent-%COMP%]   .completed-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{display:flex;width:12px;height:12px}.step-index[_ngcontent-%COMP%]   .completed-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .step-index[_ngcontent-%COMP%]   .completed-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .step-index[_ngcontent-%COMP%]   .completed-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--mainColor)}.step-label[_ngcontent-%COMP%]{width:max-content;font-size:18px}.step-info[_ngcontent-%COMP%]{color:var(--mainColor);display:flex;flex-direction:column;align-items:center;width:40px;opacity:.5}.step-info.active[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%], .step-info.completed[_ngcontent-%COMP%]   .step-index[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainBackgroundColor)}.step-info.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%], .step-info.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--mainColor)}.step-info.active[_ngcontent-%COMP%]{opacity:1}.connector[_ngcontent-%COMP%]{flex:auto;margin:20px 10px 0;height:2px;background-color:var(--mainColor);opacity:.3}@media screen and (min-width: 800px){.margin-content[_ngcontent-%COMP%]{max-width:1000px;margin:auto}}@media screen and (max-width: 800px){.step-label[_ngcontent-%COMP%]{width:auto;text-align:center}}"]}));var $e=Q;var Gn=["lastStep"],bn=["instanceAboutAccordion"];function Dn(o,i){o&1&&(s(0,"div",13)(1,"div",14),g(2,2),a()());}function $n(o,i){if(o&1){let t=V();s(0,"cdk-step",42)(1,"my-signup-step-title",43),f(2,7),p(3,"div")(4,"strong"),F(),a(),s(5,"my-register-step-channel",44),h("formBuilt",function(n){A(t);let _=u(2);return y(_.onChannelFormBuilt(n));}),a(),s(6,"div",23)(7,"button",30),S(8),a(),s(9,"div",45)(10,"button",46),h("click",function(){A(t);let n=u(2);return y(n.skipChannelCreation());}),s(11,"strong"),g(12,8),a()(),s(13,"div",47),g(14,9),a()(),s(15,"button",35),h("click",function(){A(t);let n=u(2);return y(n.signup());}),p(16,"my-signup-label",17),a()()();}if(o&2){let t=u(2);l("optional",!0)("stepControl",t.formStepChannel)("editable",!t.signupSuccess),r(5),l("videoQuota",t.videoQuota)("instanceName",t.instanceName)("username",t.getUsername()),r(3),P(t.defaultPreviousStepButtonLabel),r(7),l("disabled",!t.formStepChannel||!t.formStepChannel.valid||t.hasSameChannelAndAccountNames()),r(),l("requiresApproval",t.requiresApproval);}}function xn(o,i){o&1&&(s(0,"div",48),p(1,"my-loader",49),s(2,"div"),g(3,10),a()()),o&2&&(r(),l("loading",!0));}function Ln(o,i){if(o&1&&(s(0,"div",50),S(1),a()),o&2){let t=u(2);r(),P(t.signupError);}}function Un(o,i){if(o&1&&p(0,"my-signup-success-before-email",51),o&2){let t=u(2);l("requiresEmailVerification",t.requiresEmailVerification)("requiresApproval",t.requiresApproval)("instanceName",t.instanceName);}}function kn(o,i){if(o&1&&(s(0,"div",23)(1,"button",30),S(2),a()()),o&2){let t=u(2);r(2),P(t.defaultPreviousStepButtonLabel);}}function wn(o,i){if(o&1){let t=V();G(0),s(1,"h1",15)(2,"strong",16),S(3),a(),S(4," > "),p(5,"my-signup-label",17),a(),s(6,"div",18)(7,"my-custom-stepper",19)(8,"cdk-step",20)(9,"my-signup-step-title",21)(10,"strong"),p(11,"my-signup-label",17),a(),s(12,"div"),g(13,3),a()(),p(14,"my-register-step-about",22),s(15,"div",23)(16,"a",24),f(17,4),p(18,"strong"),F(),a(),s(19,"button",25),p(20,"my-signup-label",17),a()()(),s(21,"cdk-step",26)(22,"my-signup-step-title",27),f(23,5),p(24,"strong")(25,"div"),F(),a(),s(26,"my-instance-about-accordion",28,0),h("init",function(n){A(t);let _=u();return y(_.onInstanceAboutAccordionInit(n));}),a(),s(28,"my-register-step-terms",29),h("formBuilt",function(n){A(t);let _=u();return y(_.onTermsFormBuilt(n));})("termsClick",function(){A(t);let n=u();return y(n.onTermsClick());})("codeOfConductClick",function(){A(t);let n=u();return y(n.onCodeOfConductClick());}),a(),s(29,"div",23)(30,"button",30),S(31),a(),s(32,"button",31),S(33),a()()(),s(34,"cdk-step",32)(35,"my-signup-step-title",33),f(36,6),p(37,"strong")(38,"div"),F(),a(),s(39,"my-register-step-user",34),h("formBuilt",function(n){A(t);let _=u();return y(_.onUserFormBuilt(n));}),a(),s(40,"div",23)(41,"button",30),S(42),a(),s(43,"button",35),h("click",function(){A(t);let n=u();return y(n.videoUploadDisabled&&n.signup());}),S(44),a()()(),d(45,$n,17,9,"cdk-step",36),s(46,"cdk-step",37,1),d(48,xn,4,1,"div",38)(49,Ln,2,1,"div",39)(50,Un,1,3,"my-signup-success-before-email",40)(51,kn,3,1,"div",41),a()()(),b();}if(o&2){let t=u();r(3),P(t.instanceName),r(2),l("requiresApproval",t.requiresApproval),r(3),l("editable",!t.signupSuccess),r(3),l("requiresApproval",t.requiresApproval),r(2),I(t.instanceName),M(13),r(),l("serverStats",t.serverStats)("requiresApproval",t.requiresApproval)("videoUploadDisabled",t.videoUploadDisabled),r(6),l("requiresApproval",t.requiresApproval),r(),l("stepControl",t.formStepTerms)("editable",!t.signupSuccess),r(4),I(t.instanceName),M(23),r(),l("displayInstanceName",!1)("panels",t.instanceInformationPanels),r(2),l("hasCodeOfConduct",!!t.aboutHtml.codeOfConduct)("minimumAge",t.minimumAge)("instanceName",t.instanceName)("requiresApproval",t.requiresApproval),r(3),P(t.defaultPreviousStepButtonLabel),r(),l("disabled",!t.formStepTerms||!t.formStepTerms.valid),r(),P(t.defaultNextStepButtonLabel),r(),l("stepControl",t.formStepUser)("editable",!t.signupSuccess),r(5),l("videoUploadDisabled",t.videoUploadDisabled)("requiresEmailVerification",t.requiresEmailVerification),r(3),P(t.defaultPreviousStepButtonLabel),r(),l("disabled",!t.formStepUser||!t.formStepUser.valid),r(),P(t.stepUserButtonLabel),r(),l("ngIf",!t.videoUploadDisabled),r(),l("editable",!1),r(2),l("ngIf",!t.requiresApproval&&!t.signupSuccess&&!t.signupError),r(),l("ngIf",t.signupError),r(),l("ngIf",t.signupSuccess),r(),l("ngIf",t.signupError);}}var Te=class Te{constructor(i,t,e,n,_){this.route=i;this.authService=t;this.signupService=e;this.server=n;this.hooks=_;c(this,"lastStep");c(this,"instanceAboutAccordion");c(this,"signupError");c(this,"signupSuccess",!1);c(this,"videoUploadDisabled");c(this,"videoQuota");c(this,"formStepTerms");c(this,"formStepUser");c(this,"formStepChannel");c(this,"aboutHtml",{codeOfConduct:""});c(this,"instanceInformationPanels",{codeOfConduct:!0,terms:!0,administrators:!1,features:!1,moderation:!1});c(this,"defaultPreviousStepButtonLabel","Voltar para a etapa anterior");c(this,"defaultNextStepButtonLabel","Ir para a pr\xF3xima etapa");c(this,"stepUserButtonLabel",this.defaultNextStepButtonLabel);c(this,"signupDisabled",!1);c(this,"serverStats");c(this,"serverConfig");}get requiresEmailVerification(){return this.serverConfig.signup.requiresEmailVerification;}get requiresApproval(){return this.serverConfig.signup.requiresApproval;}get minimumAge(){return this.serverConfig.signup.minimumAge;}get instanceName(){return this.serverConfig.instance.name;}ngOnInit(){if(this.serverConfig=this.route.snapshot.data.serverConfig,this.serverConfig.signup.allowed===!1||this.serverConfig.signup.allowedForCurrentIP===!1){this.signupDisabled=!0;return;}this.videoQuota=this.serverConfig.user.videoQuota,this.videoUploadDisabled=this.videoQuota===0,this.stepUserButtonLabel=this.videoUploadDisabled?"Cadastrar":this.defaultNextStepButtonLabel,this.server.getServerStats().subscribe(i=>this.serverStats=i),this.hooks.runAction("action:signup.register.init","signup");}hasSameChannelAndAccountNames(){return this.getUsername()===this.getChannelName();}getUsername(){if(this.formStepUser)return this.formStepUser.value.username;}getChannelName(){if(this.formStepChannel)return this.formStepChannel.value.name;}onTermsFormBuilt(i){this.formStepTerms=i;}onUserFormBuilt(i){this.formStepUser=i;}onChannelFormBuilt(i){this.formStepChannel=i;}onTermsClick(){this.instanceAboutAccordion.expandTerms();}onCodeOfConductClick(){this.instanceAboutAccordion.expandCodeOfConduct();}onInstanceAboutAccordionInit(i){this.aboutHtml=i.aboutHtml;}skipChannelCreation(){this.formStepChannel.reset(),this.lastStep.select(),this.signup();}signup(){return He(this,null,function*(){var C,N,R;this.signupError=void 0;let i=this.formStepTerms.value,t=this.formStepUser.value,e=(C=this.formStepChannel)==null?void 0:C.value,n=(R=(N=this.formStepChannel)==null?void 0:N.value)!=null&&R.name?{name:e==null?void 0:e.name,displayName:e==null?void 0:e.displayName}:void 0,_=yield this.hooks.wrapObject({username:t.username,password:t.password,email:t.email,displayName:t.displayName,registrationReason:i.registrationReason,channel:n},"signup","filter:api.signup.registration.create.params");(this.requiresApproval?this.signupService.requestSignup(_):this.signupService.directSignup(_)).subscribe({next:()=>{if(this.requiresEmailVerification||this.requiresApproval){this.signupSuccess=!0;return;}this.autoLogin(_);},error:$=>{this.signupError=$.message;}});});}autoLogin(i){this.authService.login({username:i.username,password:i.password}).subscribe({next:()=>{this.signupSuccess=!0;},error:t=>{this.signupError=t.message;}});}};c(Te,"\u0275fac",function(t){return new(t||Te)(T(pt),T(gt),T(j),T(he),T(mt));}),c(Te,"\u0275cmp",v({type:Te,selectors:[["my-register"]],viewQuery:function(t,e){if(t&1&&(Ce(Gn,5),Ce(bn,5)),t&2){let n;q(n=z())&&(e.lastStep=n.first),q(n=z())&&(e.instanceAboutAccordion=n.first);}},standalone:!0,features:[O],decls:3,vars:2,consts:()=>{let i;i="Signup is not enabled on this instance.";let t;t="Sobre";let e;e="Termos";let n;n="Minha conta";let _;_="Meu canal";let m;m="Feito!";let C;C="em "+"\uFFFD0\uFFFD"+"";let N;N=""+"\uFFFD#18\uFFFD"+"Eu j\xE1 possuo uma conta"+"\uFFFD/#18\uFFFD"+" em que fa\xE7o login ";let R;R=""+"\uFFFD#24\uFFFD"+"Termos"+"\uFFFD/#24\uFFFD"+""+"\uFFFD#25\uFFFD"+"de "+"\uFFFD0\uFFFD"+""+"\uFFFD/#25\uFFFD"+"";let $;$=""+"\uFFFD#37\uFFFD"+"Configure"+"\uFFFD/#37\uFFFD"+""+"\uFFFD#38\uFFFD"+"sua conta"+"\uFFFD/#38\uFFFD"+"";let k;k=""+"\uFFFD#3\uFFFD"+"Crie"+"\uFFFD/#3\uFFFD"+""+"\uFFFD#4\uFFFD"+"seu primeiro canal"+"\uFFFD/#4\uFFFD"+"";let E;E="N\xE3o desejo criar um canal";let x;x="Voc\xEA poder\xE1 criar um canal mais tarde";let ze;return ze="PeerTube est\xE1 criando sua conta...",[["instanceAboutAccordion",""],["lastStep",""],i,C,N,R,$,k,E,x,ze,["class","margin-content signup-disabled",4,"ngIf"],[4,"ngIf"],[1,"margin-content","signup-disabled"],[1,"alert","alert-warning"],[1,"title-page-v2"],[1,"underline-orange"],[3,"requiresApproval"],[1,"register-content"],["linear",""],["label",t,3,"editable"],["mascotImageName","about"],[3,"serverStats","requiresApproval","videoUploadDisabled"],[1,"step-buttons"],["routerLink","/login",1,"skip-step","underline-orange"],["cdkStepperNext",""],["label",e,3,"stepControl","editable"],["mascotImageName","terms"],["pluginScope","signup","pluginHook","filter:signup.instance-about-plugin-panels.create.result",3,"init","displayInstanceName","panels"],[3,"formBuilt","termsClick","codeOfConductClick","hasCodeOfConduct","minimumAge","instanceName","requiresApproval"],["cdkStepperPrevious",""],["cdkStepperNext","",3,"disabled"],["label",n,3,"stepControl","editable"],["mascotImageName","account"],[3,"formBuilt","videoUploadDisabled","requiresEmailVerification"],["cdkStepperNext","",3,"click","disabled"],["label",_,3,"optional","stepControl","editable",4,"ngIf"],["label",m,3,"editable"],["class","done-loader",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"requiresEmailVerification","requiresApproval","instanceName",4,"ngIf"],["class","step-buttons",4,"ngIf"],["label",_,3,"optional","stepControl","editable"],["mascotImageName","channel"],[3,"formBuilt","videoQuota","instanceName","username"],[1,"skip-step"],[1,"underline-orange","button-unstyle",3,"click"],[1,"skip-step-description"],[1,"done-loader"],[3,"loading"],[1,"alert","alert-danger"],[3,"requiresEmailVerification","requiresApproval","instanceName"]];},template:function(t,e){t&1&&(s(0,"div"),d(1,Dn,3,0,"div",11)(2,wn,52,34,"ng-container",12),a()),t&2&&(r(),l("ngIf",e.signupDisabled),r(),l("ngIf",!e.signupDisabled));},dependencies:[D,ft,$e,Ve,Oe,De,ut,$t,Dt,be,xt,Ge,ye,Ft,Ae],styles:["my-signup-step-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.signup-disabled[_ngcontent-%COMP%]{padding-top:30vh}.title-page-v2[_ngcontent-%COMP%]{background-color:var(--mainColorVeryLight);margin:0;padding-bottom:10px}my-instance-about-accordion[_ngcontent-%COMP%]{display:block;margin-bottom:30px}.step-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%]{display:inline-block;margin-inline-end:calc(1.3125rem + .75vw)}@media (min-width: 1200px){.step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%]{margin-inline-end:1.875rem}}.step-buttons[_ngcontent-%COMP%]   .skip-step-description[_ngcontent-%COMP%]{margin-top:5px;font-size:14px}.step-buttons[_ngcontent-%COMP%]   .underline-orange[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.step-buttons[_ngcontent-%COMP%]   .underline-orange[_ngcontent-%COMP%]:hover{opacity:.8}.step-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:auto;padding:10px 25px;font-size:18px;line-height:1.2;border:0;font-weight:600;border-radius:3px!important}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]:focus, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]:active, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][disabled][_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperNext][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor);color:var(--greyForegroundColor)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]:focus, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #5858580d}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]:hover, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]:active, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]:focus, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][disabled][_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious].disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:var(--greySecondaryBackgroundColor)}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][disabled][_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious].disabled[_ngcontent-%COMP%]{cursor:default}.step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .step-buttons[_ngcontent-%COMP%] > button[cdkStepperPrevious][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.step-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%]   button[cdkStepperNext][_ngcontent-%COMP%]{margin-inline-start:auto}.step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%] + button[cdkStepperNext][_ngcontent-%COMP%]{margin-inline-start:0}.done-loader[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.done-loader[_ngcontent-%COMP%]   my-loader[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (max-width: 800px){.step-buttons[_ngcontent-%COMP%]{justify-content:space-between}.step-buttons[_ngcontent-%COMP%]   .skip-step[_ngcontent-%COMP%], .step-buttons[_ngcontent-%COMP%]   button[cdkStepperNext][_ngcontent-%COMP%]{margin-inline-start:0}}"]}));var xe=Te;var wo=[{path:"",component:xe,canActivate:[dt],data:{meta:{title:"Inscrever-se"}},providers:[Be,j],resolve:{serverConfig:Be}}];export{wo as default};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/