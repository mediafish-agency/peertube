import{a as Bn}from"./chunk-VTUTDAHH.js";import{a as jn}from"./chunk-LOVXD4GQ.js";import{a as qn,b as at}from"./chunk-WLZVZYNX.js";import{a as Wn}from"./chunk-GPZBMIXX.js";import{a as lt}from"./chunk-ENSRLQ2F.js";import{a as Ln}from"./chunk-D3FHDE3Z.js";import{a as wn}from"./chunk-JKIUJPUH.js";import{a as Hn}from"./chunk-PZG7XDNU.js";import{a as Gn}from"./chunk-AJTAIDL7.js";import{e as kn,f as Xn}from"./chunk-XIGDB2RN.js";import{a as rt}from"./chunk-FCT3LKDI.js";import{a as ot}from"./chunk-K67EGD4G.js";import{a as Un}from"./chunk-3NN6IC32.js";import{a as Fn}from"./chunk-KOE64Z5J.js";import{a as zn}from"./chunk-CVTLOUPO.js";import{d as xn,e as $n}from"./chunk-CNM6TRJ3.js";import{c as xe}from"./chunk-GP5LX4CA.js";import{a as Nn}from"./chunk-4V7EB4W6.js";import{a as yn,b as bn}from"./chunk-KG4UYECH.js";import{b as Rn}from"./chunk-NO6VG5DO.js";import{p as mn,r as nt,t as un,u as En,v as gn,w as Cn,x as fn,y as In}from"./chunk-XEFO2OX5.js";import{a as ve}from"./chunk-WRZZAQTV.js";import{a as pn,b as tt,c as it}from"./chunk-RZGVOE4L.js";import{A as he,a as nn,c as Ze,d as x,f as Ie,g as Se,h as on,n as rn,o as Te,p as an,q as ln,r as De,x as _n,z as Oe}from"./chunk-AHXSH3AS.js";import{$ as ge,$d as dn,Ab as Ce,Bb as q,Ca as _,Cc as tn,Da as G,Dd as et,Ef as vn,Hb as Wt,Ib as ae,Kb as te,Kd as ce,La as Ye,Me as Sn,Na as Ut,Oa as f,Qd as sn,Qf as Z,Sa as s,Sb as Yt,Tb as Jt,Te as Tn,Wb as Ke,X as kt,Y as qe,Ya as ye,ab as a,ac as Kt,ba as ne,bb as o,bc as Re,be as cn,cb as I,db as O,eb as h,fb as gt,fg as Mn,gb as j,hg as An,ib as be,jb as Ne,kb as u,la as V,lb as Ct,lf as Dn,m as je,ma as y,mb as ft,nb as Bt,ob as $,pb as p,pc as Qe,qb as jt,qc as Qt,r as zt,rb as qt,rc as fe,rg as Pn,sa as de,sg as Vn,ta as Xt,uf as On,vb as ie,wb as oe,wc as Zt,wf as It,xb as re,yb as Je,yc as en,za as We,zb as R,zf as hn}from"./chunk-4A7FW7VV.js";import{a as Ue,b as Be,e as Di,g as Oi,j as l,k as P}from"./chunk-K6ICEIKK.js";var pi=Di((St,ci)=>{"use strict";(function(n,t){typeof St=="object"?ci.exports=t():typeof define=="function"&&define.amd?define([],function(){return n.Channel=t();}):n.Channel=t();})(St,function(){"use strict";var n=function(){var t=Math.floor(Math.random()*1000001),e={};function i(g,C,A,F){function v(U){for(var W=0;W<U.length;W++)if(U[W].win===g)return!0;return!1;}var b=!1;if(C==="*"){for(var D in e)if(e.hasOwnProperty(D)&&D!=="*"&&typeof e[D][A]=="object"&&(b=v(e[D][A]),b))break;}else e["*"]&&e["*"][A]&&(b=v(e["*"][A])),!b&&e[C]&&e[C][A]&&(b=v(e[C][A]));if(b)throw"A channel is already bound to the same window which overlaps with origin '"+C+"' and has scope '"+A+"'";typeof e[C]!="object"&&(e[C]={}),typeof e[C][A]!="object"&&(e[C][A]=[]),e[C][A].push({win:g,handler:F});}function r(g,C,A){for(var F=e[C][A],v=0;v<F.length;v++)F[v].win===g&&F.splice(v,1);e[C][A].length===0&&delete e[C][A];}function c(g){return Array.isArray?Array.isArray(g):g.constructor.toString().indexOf("Array")!=-1;}var T={},z=function(g){try{var C=JSON.parse(g.data);if(typeof C!="object"||C===null)throw"malformed";}catch{return;}var A=g.source,F=g.origin,v,b,D;if(typeof C.method=="string"){var U=C.method.split("::");U.length==2?(v=U[0],D=U[1]):D=C.method;}if(typeof C.id<"u"&&(b=C.id),typeof D=="string"){var W=!1;if(e[F]&&e[F][v]){for(var B=0;B<e[F][v].length;B++)if(e[F][v][B].win===A){e[F][v][B].handler(F,D,C),W=!0;break;}}if(!W&&e["*"]&&e["*"][v]){for(var B=0;B<e["*"][v].length;B++)if(e["*"][v][B].win===A){e["*"][v][B].handler(F,D,C);break;}}}else typeof b<"u"&&T[b]&&T[b](F,D,C);};return window.addEventListener?window.addEventListener("message",z,!1):window.attachEvent&&window.attachEvent("onmessage",z),{build:function(g){var C=function(d){if(g.debugOutput&&window.console&&window.console.log){try{typeof d!="string"&&(d=JSON.stringify(d));}catch{}window.console.log("["+v+"] "+d);}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof g!="object")throw"Channel build invoked without a proper object argument";if(!g.window||!g.window.postMessage)throw"Channel.build() called without a valid window argument";window===g.window&&C("target window is same as present window -- use at your own risk");var A=!1;if(typeof g.origin=="string"){var F;g.origin==="*"?A=!0:(F=g.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(g.origin=F[0].toLowerCase(),A=!0);}if(!A)throw"Channel.build() called with an invalid origin";if(typeof g.scope<"u"){if(typeof g.scope!="string")throw"scope, when specified, must be a string";if(g.scope.split("::").length>1)throw"scope may not contain double colons: '::'";}else g.scope="__default";var v=function(){for(var d="",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",m=0;m<5;m++)d+=S.charAt(Math.floor(Math.random()*S.length));return d;}(),b={},D={},U={},W=!1,B=[],ee=[],we=function(d,S,m){var L=!1,Y=!1;return{origin:S,invoke:function(w,k){if(!U[d])throw"attempting to invoke a callback of a nonexistent transaction: "+d;for(var N=!1,X=0;X<m.length;X++)if(w===m[X]){N=!0;break;}if(!N)throw"request supports no such callback '"+w+"'";K({id:d,callback:w,params:k});},error:function(w,k){if(Y=!0,!U[d])throw"error called for nonexistent message: "+d;delete U[d],K({id:d,error:w,message:k});},complete:function(w){if(Y=!0,!U[d])throw"complete called for nonexistent message: "+d;delete U[d],K({id:d,result:w});},delayReturn:function(w){return typeof w=="boolean"&&(L=w===!0),L;},completed:function(){return Y;}};},Ge=function(d,S,m){return window.setTimeout(function(){if(D[d]){var L="timeout ("+S+"ms) exceeded on method '"+m+"'";D[d].error&&D[d].error("timeout_error",L),delete D[d],delete T[d];}},S);},le=function(d,S,m){if(typeof g.gotMessageObserver=="function")try{g.gotMessageObserver(d,m);}catch(M){C("gotMessageObserver() raised an exception: "+M.toString());}if(m.id&&S){U[m.id]={};var L=we(m.id,d,m.callbacks?m.callbacks:[]);if(b[S])try{if(m.callbacks&&c(m.callbacks)&&m.callbacks.length>0)for(var Y=0;Y<m.callbacks.length;Y++){for(var w=m.callbacks[Y],k=m.params,N=w.split("/"),X=0;X<N.length-1;X++){var Q=N[X];typeof k[Q]!="object"&&(k[Q]={}),k=k[Q];}k[N[N.length-1]]=function(){var M=w;return function(Ve){return L.invoke(M,Ve);};}();}var Xe=b[S](L,m.params);!L.delayReturn()&&!L.completed()&&L.complete(Xe);}catch(M){var se="runtime_error",J=null;if(typeof M=="string"?J=M:typeof M=="object"&&(M instanceof Error?(se=M.constructor.name,J=M.message):M&&c(M)&&M.length==2?(se=M[0],J=M[1]):typeof M.error=="string"&&(se=M.error,M.message?typeof M.message=="string"?J=M.message:M=M.message:J="")),J===null)try{J=JSON.stringify(M),typeof J>"u"&&(J=M.toString());}catch{J=M.toString();}L.error(se,J);}else L.error("method_not_found","No method '"+S+"' was (yet) bound by the provider");}else m.id&&m.callback?!D[m.id]||!D[m.id].callbacks||!D[m.id].callbacks[m.callback]?C("ignoring invalid callback, id:"+m.id+" ("+m.callback+")"):D[m.id].callbacks[m.callback](m.params):m.id?D[m.id]?(m.error?D[m.id].error&&D[m.id].error(m.error,m.message):m.result!==void 0?D[m.id].success(m.result):D[m.id].success(),delete D[m.id],delete T[m.id]):C("ignoring invalid response: "+m.id):S&&b[S]&&b[S]({origin:d},m.params);};i(g.window,g.origin,g.scope,le);var _e=function(d){return[g.scope,d].join("::");},K=function(d,S){if(!d)throw"postMessage called with null message";if(!S&&!W)C("queue message: "+JSON.stringify(d)),B.push(d);else{if(typeof g.postMessageObserver=="function")try{g.postMessageObserver(g.origin,d);}catch(m){C("postMessageObserver() raised an exception: "+m.toString());}C("post message: "+JSON.stringify(d)+" with origin "+g.origin),g.window.postMessage(JSON.stringify(d),g.origin);}},He=function(d,S){if(C("ready msg received"),W&&!g.reconnect)throw"received ready message while in ready state.";W=!0,v.length<6&&(S.type==="publish-request"?v+="-R":v+="-L"),C("ready msg accepted."),S.type==="publish-request"&&H.notify({method:"__ready",params:{type:"publish-reply",publish:ee}});for(var m=0;m<S.publish.length;m++)S.publish[m].action==="bind"?Ee([S.publish[m].method],H.remote):delete H.remote[S.publish[m].method];for(g.reconnect||H.unbind("__ready",!0);B.length;)K(B.splice(0,1)[0]);ee=[],typeof g.onReady=="function"&&g.onReady(H);},Ee=function(d,S){d=[].concat(d);for(var m,L=0;L<d.length;L++)m=d[L].toString(),S[m]=function(Y){return function(w,k,N){k?H.call({method:Y,params:w,success:k,error:N}):H.notify({method:Y,params:w});};}(m);},ze=function(d,S){Ee([S],H.remote);},ke=function(d,S){H.remote[S]&&delete H.remote[S];},H={remote:{},unbind:function(d,S){if(b[d]){if(!delete b[d])throw"can't delete method: "+d;return g.publish&&!S&&(W?H.notify({method:"__unbind",params:d}):ee.push({action:"unbind",method:d})),!0;}return!1;},bind:function(d,S,m){if(!d||typeof d!="string")throw"'method' argument to bind must be string";if(!S||typeof S!="function")throw"callback missing from bind params";if(b[d])throw"method '"+d+"' is already bound!";return b[d]=S,g.publish&&!m&&(W?H.notify({method:"__bind",params:d}):ee.push({action:"bind",method:d})),this;},call:function(d){if(!d)throw"missing arguments to call function";if(!d.method||typeof d.method!="string")throw"'method' argument to call must be string";if(!d.success||typeof d.success!="function")throw"'success' callback missing from call";var S={},m=[],L=[],Y=function(k,N){if(L.indexOf(N)>=0)throw"params cannot be a recursive data structure";if(N&&L.push(N),typeof N=="object"){for(var X in N)if(N.hasOwnProperty(X)){var Q=k+(k.length?"/":"")+X;typeof N[X]=="function"?(S[Q]=N[X],m.push(Q),delete N[X]):typeof N[X]=="object"&&Y(Q,N[X]);}}};Y("",d.params);var w={id:t,method:_e(d.method),params:d.params};m.length&&(w.callbacks=m),d.timeout&&Ge(t,d.timeout,_e(d.method)),D[t]={callbacks:S,error:d.error,success:d.success},T[t]=le,t++,K(w);},notify:function(d){if(!d)throw"missing arguments to notify function";if(!d.method||typeof d.method!="string")throw"'method' argument to notify must be string";K({method:_e(d.method),params:d.params});},destroy:function(){r(g.window,g.origin,g.scope),window.removeEventListener?window.removeEventListener("message",le,!1):window.detachEvent&&window.detachEvent("onmessage",le),W=!1,b={},U={},D={},g.origin=null,B=[],C("channel destroyed"),v="";}};return H.bind("__ready",He,!0),H.bind("__bind",ze,!0),H.bind("__unbind",ke,!0),g.remote&&Ee(g.remote,H.remote),setTimeout(function(){v.length>0&&K({method:_e("__ready"),params:{type:"publish-request",publish:ee}},!0);},0),H;}};}();return n;});});var pe=class pe{constructor(t){this.config=t;this.config.setTranslation({dayNames:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"],dayNamesShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","Lr."],dayNamesMin:["Ig.","Al.","Ar.","Az.","Og.","Or.","Lr."],monthNames:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],monthNamesShort:["Urt.","Ots.","Mar.","Api.","Mai.","Eka.","Uzt.","Abu.","Ira.","Urr.","Aza.","Abe."],today:"Gaur",clear:"Garbitu"});}getTimezone(){let t=new Date().toString().match(/([A-Z]+[+-][0-9]+)/)[1];return`${Intl.DateTimeFormat().resolvedOptions().timeZone} - ${t}`;}getDateFormat(){return"yy-mm-dd ";}};l(pe,"\u0275fac",function(e){return new(e||pe)(ge(Sn));}),l(pe,"\u0275prov",qe({token:pe,factory:pe.ɵfac}));var _t=pe;var st=class extends at{getFileUrl(){return P(this,null,function*(){let t={"X-Upload-Content-Length":this.size.toString(),"X-Upload-Content-Type":this.file.type||"application/octet-stream"},e=this.metadata.previewfile;delete this.metadata.previewfile;let i=hn(this.metadata);e!==void 0&&(i.append("previewfile",e,e.name),i.append("thumbnailfile",e,e.name)),yield this.request({method:"POST",body:i,url:this.endpoint,headers:t});let r=this.getValueFromResponse("location");if(!r)throw new Error("Invalid or missing Location header");return this.offset=this.responseStatus===201?0:void 0,qn(r,this.endpoint);});}};var me=class me{constructor(t,e,i){this.server=t;this.notifier=e;this.authService=i;}getVideoExtensions(){return this.server.getHTMLConfig().video.file.extensions;}checkQuotaAndNotify(t,e,i){let r=new ot();if(e!==-1&&i+t.size>e){let c=r.transform(t.size,0),T=r.transform(i,0),z=r.transform(e,0),g="Bideo honekin zure bideo-kuota gainditzen da (bideoaren tamaina: "+c+", erabilitakoa: "+T+", kuota: "+z+")";return this.notifier.error(g),!1;}return!0;}isAudioFile(t){return[".mp3",".flac",".ogg",".wma",".wav"].some(i=>t.endsWith(i));}getNewUploadxOptions(){return this.getUploadxOptions(xe.BASE_VIDEO_URL+"/upload-resumable",st);}getReplaceUploadxOptions(t){return this.getUploadxOptions(xe.BASE_VIDEO_URL+"/"+t+"/source/replace-resumable",at);}getUploadxOptions(t,e){return{endpoint:t,multiple:!1,maxChunkSize:this.server.getHTMLConfig().client.videos.resumableUpload.maxChunkSize,token:this.authService.getAccessToken(),uploaderClass:e,retryConfig:On()};}};l(me,"\u0275fac",function(e){return new(e||me)(ge(Z),ge(Mn),ge(An));}),l(me,"\u0275prov",qe({token:me,factory:me.ɵfac}));var Yn=me;var Jn=class{constructor(){l(this,"chaptersFromAPI",[]);l(this,"chapters");}loadFromAPI(t){this.chapters=t||[],this.chaptersFromAPI=t;}patch(t){let e=t.chapters||[];this.chapters=e.map(i=>({timecode:i.timecode||0,title:i.title}));}toFormPatch(){return{chapters:this.chapters};}getChaptersForUpdate(){return this.chapters.filter(t=>!!t.title);}hasDuplicateValues(){let t=this.chapters.map(e=>e.timecode);return new Set(t).size!==this.chapters.length;}shouldUpdateAPI(){return cn(sn(this.getChaptersForUpdate(),"timecode"),this.chaptersFromAPI)!==!0;}};var Fe=class Fe{constructor(t,e){l(this,"category");l(this,"licence");l(this,"language");l(this,"description");l(this,"name");l(this,"tags");l(this,"nsfw");l(this,"commentsPolicy");l(this,"downloadEnabled");l(this,"waitTranscoding");l(this,"channelId");l(this,"privacy");l(this,"videoPassword");l(this,"support");l(this,"thumbnailfile");l(this,"previewfile");l(this,"thumbnailUrl");l(this,"previewUrl");l(this,"scheduleUpdate");l(this,"originallyPublishedAt");l(this,"id");l(this,"uuid");l(this,"shortUUID");l(this,"pluginData");t&&(this.id=t.id,this.uuid=t.uuid,this.shortUUID=t.shortUUID,this.category=t.category.id,this.licence=t.licence.id,this.language=t.language.id,this.description=t.description,this.name=t.name,this.tags=t.tags,this.nsfw=t.nsfw,this.waitTranscoding=t.waitTranscoding,this.channelId=t.channel.id,this.privacy=t.privacy.id,this.support=t.support,this.commentsPolicy=t.commentsPolicy.id,this.downloadEnabled=t.downloadEnabled,t.thumbnailPath&&(this.thumbnailUrl=It()+t.thumbnailPath),t.previewPath&&(this.previewUrl=It()+t.previewPath),this.scheduleUpdate=t.scheduledUpdate,this.originallyPublishedAt=t.originallyPublishedAt?new Date(t.originallyPublishedAt):null,this.pluginData=t.pluginData,e&&(this.videoPassword=e.password));}patch(t){if(dn(t).forEach(e=>{this[e]=t[e];}),parseInt(t.privacy,10)===Fe.SPECIAL_SCHEDULED_PRIVACY){let e=new Date(t.schedulePublicationAt);e.setSeconds(0),this.privacy=ce.PRIVATE,this.scheduleUpdate={updateAt:e.toISOString(),privacy:ce.PUBLIC};}else this.scheduleUpdate=null;if(this.originallyPublishedAt){let e=new Date(this.originallyPublishedAt);this.originallyPublishedAt=e.toISOString();}this.previewfile&&(this.thumbnailfile=this.previewfile);}toFormPatch(){let t={category:this.category,licence:this.licence,language:this.language,description:this.description,support:this.support,name:this.name,tags:this.tags,nsfw:this.nsfw,commentsPolicy:this.commentsPolicy,downloadEnabled:this.downloadEnabled,waitTranscoding:this.waitTranscoding,channelId:this.channelId,privacy:this.privacy,videoPassword:this.videoPassword,originallyPublishedAt:this.originallyPublishedAt};return this.scheduleUpdate&&Object.assign(t,{privacy:Fe.SPECIAL_SCHEDULED_PRIVACY,schedulePublicationAt:new Date(this.scheduleUpdate.updateAt.toString())}),t;}};l(Fe,"SPECIAL_SCHEDULED_PRIVACY",-1);var ct=Fe;var Kn={VALIDATORS:[x.minLength(2),x.maxLength(100)],MESSAGES:{required:"Atalaren izenburua beharrezkoa da.",minlength:"Atalaren izenburuak 2 karaktere baino gehiago izan behar ditu.",maxlength:"Atalaren izenburuak 100 karaktere baino gutxiago izan behar ditu."}},Qn={VALIDATORS:[vi()],MESSAGES:{}};function vi(){return n=>{let t=n.value;for(let e of t)if(e.title&&t.filter(i=>i.title&&i.timecode===e.timecode).length>1)return{uniqueTimecode:"Hainbat atalek "+e.timecode+" denbora-kode bera dute"};return null;};}var Zn={VALIDATORS:[x.required,x.minLength(3),x.maxLength(120)],MESSAGES:{required:"Bideoaren izena behar da.",minlength:"Bideoaren izenak, gutxienez, 3 karaktere izan behar ditu.",maxlength:"Bideoaren izenak ezin ditu 120 karaktere baino gehiago izan.",spaces:"Bideoaren izenak zuriunea du hasieran eta amaieran."}},ei={VALIDATORS:[x.required],MESSAGES:{required:"Bideoaren pribatutasuna behar da."}},ti={VALIDATORS:[x.minLength(2),x.maxLength(100)],MESSAGES:{minLength:"Pasahitzak, gutxienez, 2 karaktere izan behar ditu.",maxLength:"Pasahitzak 100 karaktere baino gutxiago izan behar ditu.",required:"Pasahitz bat behar da pasahitzaz babestutako bideo baterako."}},ni={VALIDATORS:[],MESSAGES:{}},ii={VALIDATORS:[],MESSAGES:{}},oi={VALIDATORS:[],MESSAGES:{}};var ri={VALIDATORS:[x.required],MESSAGES:{required:"Bideo kanala behar da."}},ai={VALIDATORS:[x.minLength(3),x.maxLength(1e4)],MESSAGES:{minlength:"Bideoaren azalpenak, gutxienez, 3 karaktere izan behar ditu.",maxlength:"Bideoaren azalpenak ezin ditu 10000 karaktere baino gehiago izan."}},li={VALIDATORS:[x.maxLength(5),Mi()],MESSAGES:{maxlength:"Gehienez, 5 etiketa erabil daitezke bideo batean.",arrayTagLength:"Etiketak karaktere bat baino gehiago eta 30 karaktere baino gutxiago izan behar ditu."}},_i={VALIDATORS:[x.minLength(3),x.maxLength(1e3)],MESSAGES:{minlength:"Bideo-laguntzak, gutxienez, 3 karaktere izan behar ditu.",maxlength:"Bideo-laguntzak ezin ditu 1000 karaktere baino gehiago izan."}},si={VALIDATORS:[],MESSAGES:{required:"Data bat behar da bideoaren eguneraketa programatzeko."}},di={VALIDATORS:[],MESSAGES:{}};function Mi(n=2,t=30){return e=>e.value.every(r=>r.length>=n&&r.length<=t)?null:{arrayTagLength:!0};}var mi=Oi(pi());var pt=class{constructor(){l(this,"eventRegistrations",{});}bindToChannel(t){for(let e of Object.keys(this.eventRegistrations))t.bind(e,(i,r)=>this.fire(e,r));}registerTypes(t){for(let e of t)this.eventRegistrations[e]={registrations:[]};}fire(t,e){this.eventRegistrations[t].registrations.forEach(i=>i(e));}addListener(t,e){return this.eventRegistrations[t]?(this.eventRegistrations[t].registrations.push(e),!0):(console.warn(`PeerTube: addEventListener(): The event '${t}' is not supported`),!1);}removeListener(t,e){return this.eventRegistrations[t]?(this.eventRegistrations[t].registrations=this.eventRegistrations[t].registrations.filter(i=>i!==e),!0):!1;}};var Ai=["pause","play","playbackStatusUpdate","playbackStatusChange","resolutionUpdate","volumeChange"],Le=class{constructor(t,e){this.embedElement=t;this.scope=e;l(this,"eventRegistrar",new pt());l(this,"channel");l(this,"readyPromise");this.eventRegistrar.registerTypes(Ai),this.constructChannel(),this.prepareToBeReady();}destroy(){this.embedElement.remove();}addEventListener(t,e){return this.eventRegistrar.addListener(t,e);}removeEventListener(t,e){return this.eventRegistrar.removeListener(t,e);}get ready(){return this.readyPromise;}play(){return P(this,null,function*(){yield this.sendMessage("play");});}pause(){return P(this,null,function*(){yield this.sendMessage("pause");});}setVolume(t){return P(this,null,function*(){yield this.sendMessage("setVolume",t);});}getVolume(){return P(this,null,function*(){return this.sendMessage("getVolume");});}setCaption(t){return P(this,null,function*(){yield this.sendMessage("setCaption",t);});}getCaptions(){return P(this,null,function*(){return this.sendMessage("getCaptions");});}seek(t){return P(this,null,function*(){yield this.sendMessage("seek",t);});}setResolution(t){return P(this,null,function*(){yield this.sendMessage("setResolution",t);});}getResolutions(){return P(this,null,function*(){return this.sendMessage("getResolutions");});}getPlaybackRates(){return P(this,null,function*(){return this.sendMessage("getPlaybackRates");});}getPlaybackRate(){return P(this,null,function*(){return this.sendMessage("getPlaybackRate");});}setPlaybackRate(t){return P(this,null,function*(){yield this.sendMessage("setPlaybackRate",t);});}playNextVideo(){return P(this,null,function*(){yield this.sendMessage("playNextVideo");});}playPreviousVideo(){return P(this,null,function*(){yield this.sendMessage("playPreviousVideo");});}getCurrentPosition(){return P(this,null,function*(){return this.sendMessage("getCurrentPosition");});}setVideoPassword(t){return P(this,null,function*(){yield this.sendMessage("setVideoPassword",t);});}getImageDataUrl(){return P(this,null,function*(){return this.sendMessage("getImageDataUrl");});}constructChannel(){this.channel=mi.build({window:this.embedElement.contentWindow,origin:"*",scope:this.scope||"peertube"}),this.eventRegistrar.bindToChannel(this.channel);}prepareToBeReady(){let t,e;this.readyPromise=new Promise((i,r)=>{t=i,e=r;}),this.channel.bind("ready",i=>i?t():e()),this.channel.call({method:"isReady",success:i=>i?t():null});}sendMessage(t,e){return new Promise((i,r)=>{this.channel.call({method:t,params:e,success:c=>i(c),error:c=>r(c)});});}};window.PeerTubePlayer=Le;var Pi=["embed"];function Vi(n,t){if(n&1&&I(0,"my-embed",5,0),n&2){let e=p();s("video",e.video);}}function yi(n,t){if(n&1&&I(0,"img",8),n&2){let e=p(2);s("src",e.imageSrc,We);}}function bi(n,t){n&1&&I(0,"div",9);}function Ni(n,t){if(n&1&&(a(0,"div",6),f(1,yi,1,1,"img",8)(2,bi,1,0,"div",9),o()),n&2){let e=p();_(),ye(e.imageSrc?1:2);}}function Ri(n,t){if(n&1){let e=j();a(0,"button",10),$("click",function(){V(e);let r=p();return y(r.selectFrame());}),u(1,1),o(),a(2,"button",11),$("click",function(){V(e);let r=p();return y(r.resetSelectFromVideo());}),u(3,2),o();}}function xi(n,t){if(n&1){let e=j();a(0,"button",14),$("click",function(){V(e);let r=p(2);return y(r.selectFromVideo());}),u(1,3),o();}}function $i(n,t){if(n&1){let e=j();a(0,"my-reactive-file",12),$("fileChanged",function(r){V(e);let c=p();return y(c.onFileChanged(r));}),o(),f(1,xi,2,0,"button",13);}if(n&2){let e=p();s("extensions",e.videoImageExtensions)("maxFileSize",e.maxVideoImageSize)("buttonTooltip",e.getReactiveFileButtonTooltip()),_(),ye(e.video?1:-1);}}var ue=class ue{constructor(t){this.serverService=t;l(this,"embed");l(this,"video");l(this,"imageSrc");l(this,"allowedExtensionsMessage","");l(this,"maxSizeText");l(this,"serverConfig");l(this,"bytesPipe");l(this,"imageFile");l(this,"selectingFromVideo",!1);l(this,"player");l(this,"propagateChange",t=>{});this.bytesPipe=new ot(),this.maxSizeText="gehieneko tamaina";}get videoImageExtensions(){return this.serverConfig.video.image.extensions;}get maxVideoImageSize(){return this.serverConfig.video.image.size.max;}get maxVideoImageSizeInBytes(){return this.bytesPipe.transform(this.maxVideoImageSize);}getReactiveFileButtonTooltip(){return"(luzapenak: "+this.videoImageExtensions+", "+this.maxSizeText+": "+this.maxVideoImageSizeInBytes+")";}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.allowedExtensionsMessage=this.videoImageExtensions.join(", ");}onFileChanged(t){this.imageFile=t,this.propagateChange(this.imageFile),this.updatePreview();}writeValue(t){this.imageFile=t,this.updatePreview();}registerOnChange(t){this.propagateChange=t;}registerOnTouched(){}updatePreview(){this.imageFile&&vn(this.imageFile).then(t=>this.imageSrc=t);}selectFromVideo(){this.selectingFromVideo=!0,setTimeout(()=>{this.player=new Le(this.embed.getIframe());});}resetSelectFromVideo(){this.player&&(this.player.destroy(),this.player=void 0),this.selectingFromVideo=!1;}selectFrame(){return P(this,null,function*(){let t=yield this.player.getImageDataUrl();if(t.length<=6)return;this.imageSrc=t;let e=this.dataURItoBlob(t),i=new File([e],"preview-file-from-frame.jpg",{type:"image/jpeg"});this.imageFile=i,this.propagateChange(this.imageFile),this.resetSelectFromVideo();});}dataURItoBlob(t){let e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),c=new Uint8Array(r);for(let T=0;T<e.length;T++)c[T]=e.charCodeAt(T);return new Blob([r],{type:i});}};l(ue,"\u0275fac",function(e){return new(e||ue)(G(Z));}),l(ue,"\u0275cmp",ne({type:ue,selectors:[["my-thumbnail-manager"]],viewQuery:function(e,i){if(e&1&&ie(Pi,5),e&2){let r;oe(r=re())&&(i.embed=r.first);}},inputs:{video:"video"},standalone:!0,features:[Wt([{provide:nn,useExisting:kt(()=>ue),multi:!0}]),ae],decls:6,vars:2,consts:()=>{let t;t="Aurrebista";let e;e="Erabili fotograma hau";let i;i="Utzi";let r;return r="Hautatu bideotik",[["embed",""],e,i,r,[1,"root"],["enableAPI","true","mute","true","autoplay","true",3,"video"],[1,"preview-container"],[1,"mt-2"],["alt",t,1,"preview",3,"src"],[1,"preview","no-image"],["type","button",1,"peertube-button","orange-button","me-2",3,"click"],["type","button",1,"peertube-button","grey-button",3,"click"],["inputName","uploadNewThumbnail","inputLabel","Select from your device","placement","right",1,"d-inline-block",3,"fileChanged","extensions","maxFileSize","buttonTooltip"],["type","button",1,"peertube-button","grey-button","ms-2"],["type","button",1,"peertube-button","grey-button","ms-2",3,"click"]];},template:function(e,i){e&1&&(a(0,"div",4),f(1,Vi,2,1,"my-embed",5)(2,Ni,3,1,"div",6),a(3,"div",7),f(4,Ri,4,0)(5,$i,2,4),o()()),e&2&&(_(),ye(i.video&&i.selectingFromVideo?1:2),_(3),ye(i.selectingFromVideo?4:5));},dependencies:[tn,lt,rt],styles:[".root[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column}.preview-container[_ngcontent-%COMP%]{position:relative}.preview-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{object-fit:cover;border-radius:4px}.preview-container[_ngcontent-%COMP%]   .preview.no-image[_ngcontent-%COMP%]{border:2px solid #808080;background-color:var(--mainBackgroundColor)}.preview[_ngcontent-%COMP%], my-embed[_ngcontent-%COMP%]{max-width:500px;width:500px;max-height:280px;height:280px}"]}));var mt=ue;var ui={VALIDATORS:[x.required],MESSAGES:{required:"Bideoen azpitituluen hizkuntza beharrezkoa da."}},Ei={VALIDATORS:[x.required],MESSAGES:{required:"Bideoaren azpitituluen fitxategia beharrezkoa da."}},gi={VALIDATORS:[x.required],MESSAGES:{required:"Azpitituluen edukia beharrezkoa da."}};var Li=["modal"];function wi(n,t){if(n&1&&(a(0,"div",20),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.language," ");}}function Gi(n,t){n&1&&(a(0,"div",21),u(1,3),o());}function Hi(n,t){if(n&1){let e=j();O(0,4),a(1,"div",5)(2,"h4",6),u(3,1),o(),a(4,"button",7),$("click",function(){V(e);let r=p();return y(r.hide());}),I(5,"my-global-icon",8),o()(),a(6,"div",9)(7,"label",10),u(8,2),o(),a(9,"div",11),I(10,"ng-select",12),o(),f(11,wi,2,1,"div",13),a(12,"div",14),I(13,"my-reactive-file",15),o(),f(14,Gi,2,0,"div",16),o(),a(15,"div",17)(16,"input",18),$("click",function(){V(e);let r=p();return y(r.hide());})("key.enter",function(){V(e);let r=p();return y(r.hide());}),o(),a(17,"input",19),$("click",function(){V(e);let r=p();return y(r.addCaption());}),o()(),h();}if(n&2){let e=p();s("formGroup",e.form),_(10),s("items",e.videoCaptionLanguages),_(),s("ngIf",e.formErrors.language),_(2),s("extensions",e.videoCaptionExtensions)("maxFileSize",e.videoCaptionMaxSize)("displayFilename",!0)("buttonTooltip",e.getReactiveFileButtonTooltip()),_(),s("ngIf",e.isReplacingExistingCaption()),_(3),s("disabled",!e.form.valid);}}var Me=class Me extends it{constructor(e,i,r){super();this.formReactiveService=e;this.modalService=i;this.serverService=r;l(this,"existingCaptions");l(this,"serverConfig");l(this,"captionAdded",new de());l(this,"modal");l(this,"videoCaptionLanguages",[]);l(this,"openedModal");l(this,"closingModal",!1);}get videoCaptionExtensions(){return this.serverConfig.videoCaption.file.extensions;}get videoCaptionMaxSize(){return this.serverConfig.videoCaption.file.size.max;}getReactiveFileButtonTooltip(){return`(extensions: ${this.videoCaptionExtensions.join(", ")})`;}ngOnInit(){this.serverService.getVideoLanguages().subscribe(e=>this.videoCaptionLanguages=e),this.buildForm({language:ui,captionfile:Ei});}show(){this.closingModal=!1,this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1});}hide(){this.closingModal=!0,this.openedModal.close(),this.form.reset();}isReplacingExistingCaption(){if(this.closingModal===!0)return!1;let e=this.form.value.language;return e&&this.existingCaptions.includes(e);}addCaption(){let e=this.form.value.language,i=this.videoCaptionLanguages.find(r=>r.id===e);this.captionAdded.emit({language:i,captionfile:this.form.value.captionfile,action:"CREATE"}),this.hide();}};l(Me,"\u0275fac",function(i){return new(i||Me)(G(tt),G(nt),G(Z));}),l(Me,"\u0275cmp",ne({type:Me,selectors:[["my-video-caption-add-modal"]],viewQuery:function(i,r){if(i&1&&ie(Li,7),i&2){let c;oe(c=re())&&(r.modal=c.first);}},inputs:{existingCaptions:"existingCaptions",serverConfig:"serverConfig"},outputs:{captionAdded:"captionAdded"},standalone:!0,features:[Ye,ae],decls:2,vars:0,consts:()=>{let e;e="Itxi laster-leiho hau";let i;i="Hautatu azpitituluen fitxategia";let r;r="Utzi";let c;c="Gehitu azpititulu hau";let T;T="Gehitu azpitituluak";let z;z="Hizkuntza";let g;return g="\n        Honek dauden azpitituluak ordezkatuko ditu!\n      ",[["modal",""],T,z,g,[3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["title",e,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],["for","language"],[1,"peertube-ng-select-container"],["labelForId","language","formControlName","language","bindLabel","label","bindValue","id",3,"items"],["class","form-error","role","alert",4,"ngIf"],[1,"caption-file"],["formControlName","captionfile","inputName","captionfile","inputLabel",i,3,"extensions","maxFileSize","displayFilename","buttonTooltip"],["class","warning-replace-caption",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button","value",r,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",c,1,"peertube-button","orange-button",3,"click","disabled"],["role","alert",1,"form-error"],[1,"warning-replace-caption"]];},template:function(i,r){i&1&&f(0,Hi,18,9,"ng-template",null,0,Ke);},dependencies:[Oe,Ie,Se,he,Te,De,ve,$n,xn,fe,lt],styles:[".caption-file[_ngcontent-%COMP%]{margin-top:20px;width:max-content}.caption-file[_ngcontent-%COMP%]     .root{width:max-content}.warning-replace-caption[_ngcontent-%COMP%]{color:red;margin-top:10px}"]}));var ut=Me;var zi=["textarea"],ki=n=>({"input-error":n});function Xi(n,t){if(n&1&&(a(0,"div",15),R(1),o()),n&2){let e=p();_(),q(" ",e.formErrors.captionFileContent," ");}}var Ae=class Ae extends it{constructor(e,i,r,c){super();this.openedModal=e;this.formReactiveService=i;this.videoCaptionService=r;this.serverService=c;l(this,"videoCaption");l(this,"serverConfig");l(this,"captionEdited",new de());l(this,"textarea");l(this,"videoCaptionLanguages",[]);}ngOnInit(){this.serverService.getVideoLanguages().subscribe(e=>this.videoCaptionLanguages=e),this.buildForm({captionFileContent:gi}),this.loadCaptionContent();}loadCaptionContent(){let{captionPath:e}=this.videoCaption;e&&this.videoCaptionService.getCaptionContent({captionPath:e}).subscribe(i=>{this.form.patchValue({captionFileContent:i}),this.resetTextarea();});}resetTextarea(){this.textarea.nativeElement.scrollTop=0,this.textarea.nativeElement.selectionStart=0,this.textarea.nativeElement.selectionEnd=0;}hide(){this.openedModal.close();}cancel(){this.hide();}updateCaption(){let e="vtt",i=this.videoCaption.language.id,r=this.videoCaptionLanguages.find(c=>c.id===i);this.captionEdited.emit({language:r,captionfile:new File([this.form.value.captionFileContent],`${i}.${e}`,{type:"text/vtt",lastModified:Date.now()}),action:"UPDATE"}),this.hide();}};l(Ae,"\u0275fac",function(i){return new(i||Ae)(G(mn),G(tt),G(zn),G(Z));}),l(Ae,"\u0275cmp",ne({type:Ae,selectors:[["my-video-caption-edit-modal-content"]],viewQuery:function(i,r){if(i&1&&ie(zi,7),i&2){let c;oe(c=re())&&(r.textarea=c.first);}},inputs:{videoCaption:"videoCaption",serverConfig:"serverConfig"},outputs:{captionEdited:"captionEdited"},standalone:!0,features:[Ye,ae],decls:16,vars:6,consts:()=>{let e;e="Itxi laster-leiho hau";let i;i="Utzi";let r;r="Editatu azpititulu hau";let c;c="Editatu azpititulua";let T;return T="Azpititulua",[["textarea",""],c,T,[3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["title",e,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],["for","captionFileContent"],["id","captionFileContent","formControlName","captionFileContent",1,"form-control","caption-textarea",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button","value",i,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",r,1,"peertube-button","orange-button",3,"click","disabled"],["role","alert",1,"form-error"]];},template:function(i,r){if(i&1){let c=j();O(0,3),a(1,"div",4)(2,"h4",5),u(3,1),o(),a(4,"button",6),$("click",function(){return V(c),y(r.hide());}),I(5,"my-global-icon",7),o()(),a(6,"div",8)(7,"label",9),u(8,2),o(),a(9,"textarea",10,0),R(11,"    "),o(),f(12,Xi,2,1,"div",11),o(),a(13,"div",12)(14,"input",13),$("click",function(){return V(c),y(r.cancel());})("key.enter",function(){return V(c),y(r.cancel());}),o(),a(15,"input",14),$("click",function(){return V(c),y(r.updateCaption());}),o()(),h();}i&2&&(s("formGroup",r.form),_(9),s("ngClass",te(4,ki,r.formErrors.captionFileContent)),_(3),s("ngIf",r.formErrors.captionFileContent),_(3),s("disabled",!r.form.valid));},dependencies:[Oe,Ze,Ie,Se,he,Te,De,ve,Qe,fe],styles:[".caption-textarea[_ngcontent-%COMP%]{min-height:600px}"]}));var Et=Ae;var Ui=["videoCaptionAddModal"],Bi=["*"],Ti=n=>({$implicit:n}),Ii=n=>({"hide-chapter-label":n}),ji=n=>({"input-error":n}),qi=n=>({"opacity-0":n});function Wi(n,t){if(n&1&&(a(0,"div",71),I(1,"my-dynamic-form-field",72),o()),n&2){let e=t.$implicit,i=p();s("hidden",i.isPluginFieldHidden(e)),_(),s("form",i.pluginDataFormGroup)("formErrors",i.formErrors.pluginData)("setting",e.commonOptions);}}function Yi(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.name," ");}}function Ji(n,t){n&1&&(O(0),be(1,13),I(2,"br")(3,"br")(4,"kbd"),Ne(),h());}function Ki(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.tags," ");}}function Qi(n,t){n&1&&(O(0),u(1,14),h(),I(2,"br"),O(3),be(4,15),I(5,"i"),Ne(),h());}function Zi(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.category," ");}}function eo(n,t){n&1&&(O(0),be(1,16),I(2,"a",103),Ne(),h());}function to(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.licence," ");}}function no(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.language," ");}}function io(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.privacy," ");}}function oo(n,t){if(n&1&&(a(0,"div",75)(1,"label",104),u(2,17),o(),I(3,"my-input-text",105),o()),n&2){let e=p(2);_(3),s("withCopy",!0)("formError",e.formErrors.videoPassword);}}function ro(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(3);_(),q(" ",e.formErrors.schedulePublicationAt," ");}}function ao(n,t){if(n&1&&(a(0,"div",75)(1,"label",106),u(2,18),o(),I(3,"p-calendar",107),f(4,ro,2,1,"div",78),o()),n&2){let e=p(2);_(2),Ct(e.calendarTimezone),ft(2),_(),s("dateFormat",e.calendarDateFormat)("firstDayOfWeek",0)("minDate",e.minScheduledDate)("showTime",!0)("hideOnDateTimeSelect",!0),_(),s("ngIf",e.formErrors.schedulePublicationAt);}}function lo(n,t){n&1&&(O(0),u(1,19),h());}function _o(n,t){n&1&&(O(0),u(1,20),h());}function so(n,t){n&1&&(O(0),u(1,21),h());}function co(n,t){n&1&&(O(0),u(1,22),h());}function po(n,t){n&1&&(a(0,"my-peertube-checkbox",108),f(1,so,2,0,"ng-template",98)(2,co,2,0,"ng-template",99),o());}function mo(n,t){if(n&1&&gt(0,109),n&2){let e=t.$implicit;p(2);let i=Je(4);s("ngTemplateOutlet",i)("ngTemplateOutletContext",te(2,Ti,e));}}function uo(n,t){if(n&1&&(a(0,"div",73)(1,"div",74)(2,"div",75)(3,"label",76),u(4,5),o(),I(5,"input",77),f(6,Yi,2,1,"div",78),o(),a(7,"div",75)(8,"label",79),u(9,6),o(),a(10,"my-help"),f(11,Ji,5,0,"ng-template",80),o(),I(12,"my-select-tags",81),f(13,Ki,2,1,"div",78),o(),a(14,"div",75)(15,"label",82),u(16,7),o(),a(17,"my-help",83),f(18,Qi,6,0,"ng-template",84),o(),I(19,"my-markdown-textarea",85),o()(),a(20,"div",74)(21,"div",75)(22,"label",86),u(23,8),o(),I(24,"my-select-channel",87),o(),a(25,"div",75)(26,"label",88),u(27,9),o(),I(28,"my-select-options",89),f(29,Zi,2,1,"div",78),o(),a(30,"div",75)(31,"label",90),u(32,10),o(),a(33,"my-help"),f(34,eo,3,0,"ng-template",80),o(),I(35,"my-select-options",91),f(36,to,2,1,"div",78),o(),a(37,"div",75)(38,"label",92),u(39,11),o(),I(40,"my-select-options",93),f(41,no,2,1,"div",78),o(),a(42,"div",75)(43,"label",94),u(44,12),o(),I(45,"my-select-options",95),f(46,io,2,1,"div",78),o(),f(47,oo,4,2,"div",96)(48,ao,5,7,"div",96),a(49,"my-peertube-checkbox",97),f(50,lo,2,0,"ng-template",98)(51,_o,2,0,"ng-template",99),o(),f(52,po,3,0,"my-peertube-checkbox",100)(53,mo,1,4,"ng-container",101),o()()),n&2){let e=p();_(6),s("ngIf",e.formErrors.name),_(7),s("ngIf",e.formErrors.tags),_(6),s("markdownVideo",e.publishedVideo)("formError",e.formErrors.description),_(5),s("items",e.userVideoChannels),_(4),s("items",e.videoCategories)("clearable",!0),_(),s("ngIf",e.formErrors.category),_(6),s("items",e.videoLicences)("clearable",!0),_(),s("ngIf",e.formErrors.licence),_(4),s("items",e.videoLanguages)("clearable",!0)("searchable",!0)("groupBy","group"),_(),s("ngIf",e.formErrors.language),_(4),s("items",e.videoPrivacies)("clearable",!1),_(),s("ngIf",e.formErrors.privacy),_(),s("ngIf",e.passwordProtectionSelected),_(),s("ngIf",e.schedulePublicationSelected),_(4),s("ngIf",!e.hideWaitTranscoding),_(),s("ngForOf",e.getPluginsFields("main"));}}function Eo(n,t){n&1&&(a(0,"div",117),u(1,25),o());}function go(n,t){if(n&1){let e=j();O(0),a(1,"a",120),R(2),o(),a(3,"div",121),u(4,26),Yt(5,"date"),o(),a(6,"button",122),$("click",function(){V(e);let r=p().$implicit,c=p(3);return y(c.openEditCaptionModal(r));}),u(7,27),o(),a(8,"button",123),$("click",function(){V(e);let r=p().$implicit,c=p(3);return y(c.deleteCaption(r));}),u(9,28),o(),h();}if(n&2){let e=p().$implicit,i=p(3);_(),s("href",e.captionPath,We),_(),Ce(i.getCaptionLabel(e)),_(3),Ct(Jt(5,3,e.updatedAt)),ft(4);}}function Co(n,t){if(n&1){let e=j();O(0),a(1,"span",124),R(2),o(),a(3,"div",125),u(4,29),o(),a(5,"button",123),$("click",function(){V(e);let r=p().$implicit,c=p(3);return y(c.deleteCaption(r));}),u(6,30),o(),h();}if(n&2){let e=p().$implicit,i=p(3);_(2),Ce(i.getCaptionLabel(e));}}function fo(n,t){if(n&1){let e=j();O(0),a(1,"span",124),R(2),o(),a(3,"div",125),u(4,31),o(),a(5,"button",123),$("click",function(){V(e);let r=p().$implicit,c=p(3);return y(c.deleteCaption(r));}),u(6,32),o(),h();}if(n&2){let e=p().$implicit,i=p(3);_(2),Ce(i.getCaptionLabel(e));}}function Io(n,t){if(n&1){let e=j();O(0),a(1,"span",124),R(2),o(),a(3,"div",126),u(4,33),o(),a(5,"button",123),$("click",function(){V(e);let r=p().$implicit,c=p(3);return y(c.deleteCaption(r));}),u(6,34),o(),h();}if(n&2){let e=p().$implicit,i=p(3);_(2),Ce(i.getCaptionLabel(e));}}function So(n,t){if(n&1&&(a(0,"div",75)(1,"div",118),f(2,go,10,5,"ng-container",119)(3,Co,7,1,"ng-container",119)(4,fo,7,1,"ng-container",119)(5,Io,7,1,"ng-container",119),o()()),n&2){let e=t.$implicit;_(2),s("ngIf",!e.action),_(),s("ngIf",e.action==="CREATE"),_(),s("ngIf",e.action==="UPDATE"),_(),s("ngIf",e.action==="REMOVE");}}function To(n,t){n&1&&(a(0,"div",127),u(1,35),o());}function Do(n,t){if(n&1){let e=j();a(0,"div",110),f(1,Eo,2,0,"div",111)(2,So,6,4,"div",112)(3,To,2,0,"div",113),a(4,"div",114)(5,"button",115),$("click",function(){V(e);let r=p(2);return y(r.openAddCaptionModal());}),I(6,"my-global-icon",116),O(7),u(8,24),h(),o()()();}if(n&2){let e=p(2);_(),s("ngIf",e.displayTranscriptionInfo&&e.isTranscriptionEnabled()&&!e.hasCaptions()),_(),s("ngForOf",e.videoCaptions),_(),s("ngIf",(e.videoCaptions==null?null:e.videoCaptions.length)===0);}}function Oo(n,t){n&1&&(O(0,65),a(1,"a",66),u(2,23),o(),f(3,Do,9,3,"ng-template",67),h());}function ho(n,t){if(n&1){let e=j();a(0,"my-delete-button",141),$("click",function(){V(e);let r=p().index,c=p(3);return y(c.deleteChapterControl(r));}),o();}}function vo(n,t){if(n&1&&(O(0),a(1,"div",133),I(2,"div"),a(3,"label",134),u(4,38),o(),a(5,"label",134),u(6,39),o(),I(7,"div"),a(8,"div",135),R(9),o(),I(10,"my-timestamp-input",136),a(11,"div"),I(12,"input",137),a(13,"div",138)(14,"span",139),R(15,"t"),o(),R(16),o()(),f(17,ho,1,0,"my-delete-button",140),o(),h()),n&2){let e=t.index,i=p(3);_(),s("formGroupName",e),_(2),s("ngClass",te(15,Ii,e!==0))("for","timecode["+e+"]"),_(2),s("ngClass",te(17,Ii,e!==0))("for","title["+e+"]"),_(4),Ce(e+1),_(),s("disableBorder",!1)("inputName","timecode["+e+"]")("maxTimestamp",i.publishedVideo==null?null:i.publishedVideo.duration),_(2),s("ngClass",te(19,ji,i.formErrors.chapters[e].title))("id","title["+e+"]")("name","title["+e+"]"),_(),s("ngClass",te(21,qi,!i.formErrors.chapters[e].title)),_(3),q(" ",i.formErrors.chapters[e].title," "),_(),s("ngIf",!i.isLastChapterControl(e));}}function Mo(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(3);_(),q(" ",e.getChapterArrayErrors()," ");}}function Ao(n,t){if(n&1&&I(0,"my-embed",142),n&2){let e=p(3);s("video",e.publishedVideo);}}function Po(n,t){if(n&1&&(a(0,"div",128)(1,"div",129)(2,"div",117),be(3,37),I(4,"a",130),Ne(),o(),f(5,vo,18,23,"ng-container",131)(6,Mo,2,1,"div",78),o(),f(7,Ao,1,1,"my-embed",132),o()),n&2){let e=p(2);_(5),s("ngForOf",e.getChaptersFormArray().controls),_(),s("ngIf",e.getChapterArrayErrors()),_(),s("ngIf",e.publishedVideo);}}function Vo(n,t){n&1&&(O(0,65),a(1,"a",66),u(2,36),o(),f(3,Po,8,3,"ng-template",67),h());}function yo(n,t){if(n&1&&(a(0,"div",75)(1,"label",154),u(2,47),o(),I(3,"my-input-text",155),o()),n&2){let e=p(3);_(3),s("value",e.liveVideo.rtmpUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function bo(n,t){if(n&1&&(a(0,"div",75)(1,"label",156),u(2,48),o(),I(3,"my-input-text",157),o()),n&2){let e=p(3);_(3),s("value",e.liveVideo.rtmpsUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function No(n,t){n&1&&(O(0),u(1,50),h());}function Ro(n,t){n&1&&(a(0,"div",75)(1,"my-peertube-checkbox",158),f(2,No,2,0,"ng-template",98),O(3,159),a(4,"span"),u(5,49),o(),h(),o()());}function xo(n,t){if(n&1&&(a(0,"div",160)(1,"label",161),u(2,51),o(),I(3,"my-select-options",162),o()),n&2){let e=p(3);_(3),s("items",e.replayPrivacies)("clearable",!1);}}function $o(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(4);_(),q(" ",e.formErrors.latencyMode," ");}}function Fo(n,t){if(n&1&&(a(0,"div",75)(1,"label",163),u(2,52),o(),I(3,"my-select-options",164),f(4,$o,2,1,"div",78),o()),n&2){let e=p(3);_(3),s("items",e.latencyModes)("clearable",!0),_(),s("ngIf",e.formErrors.latencyMode);}}function Lo(n,t){if(n&1&&(a(0,"div",143)(1,"div",144)(2,"div",117),I(3,"my-live-documentation-link"),o(),f(4,yo,4,5,"div",96)(5,bo,4,5,"div",96),a(6,"div",75)(7,"label",145),u(8,41),o(),I(9,"my-input-text",146),a(10,"div",147),u(11,42),o()(),a(12,"div",75)(13,"div",148),I(14,"input",149),a(15,"label",150),u(16,43),o(),a(17,"span",147),u(18,44),o()(),a(19,"div",148),I(20,"input",151),a(21,"label",152),u(22,45),o(),a(23,"span",147),u(24,46),o()()(),f(25,Ro,6,0,"div",96)(26,xo,4,2,"div",153)(27,Fo,5,3,"div",96),o()()),n&2){let e=p(2);_(4),s("ngIf",e.liveVideo.rtmpUrl),_(),s("ngIf",e.liveVideo.rtmpsUrl),_(4),s("value",e.liveVideo.streamKey)("withCopy",!0)("readonly",!0),_(5),s("value",!1),_(6),s("value",!0),_(5),s("ngIf",e.isSaveReplayAllowed()),_(),s("ngIf",e.isSaveReplayEnabled()),_(),s("ngIf",e.isLatencyModeEnabled());}}function wo(n,t){n&1&&(O(0,65),a(1,"a",66),u(2,40),o(),f(3,Lo,28,10,"ng-template",67),h());}function Go(n,t){n&1&&(O(0),u(1,58),h());}function Ho(n,t){n&1&&(O(0),u(1,60),h());}function zo(n,t){if(n&1&&(a(0,"div",75)(1,"label",182),u(2,59),o(),a(3,"my-help"),f(4,Ho,2,0,"ng-template",84),o(),I(5,"input",183),o()),n&2){let e=p(2);_(5),s("disabled",!0)("value",e.videoSource.filename);}}function ko(n,t){if(n&1){let e=j();a(0,"button",184),$("click",function(){V(e);let r=p(2);return y(r.resetField("originallyPublishedAt"));}),u(1,61),o();}}function Xo(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.originallyPublishedAt," ");}}function Uo(n,t){if(n&1&&(a(0,"div",102),R(1),o()),n&2){let e=p(2);_(),q(" ",e.formErrors.commentsPolicy," ");}}function Bo(n,t){if(n&1&&(a(0,"div",165)(1,"div",166),qt(2),a(3,"div",75)(4,"label",167),u(5,53),o(),I(6,"my-thumbnail-manager",168),o(),a(7,"div",75)(8,"label",169),u(9,54),o(),a(10,"my-help",170),f(11,Go,2,0,"ng-template",84),o(),I(12,"my-markdown-textarea",171),o()(),a(13,"div",172),f(14,zo,6,2,"div",96),a(15,"div",173)(16,"div",174)(17,"label",175),u(18,55),o(),f(19,ko,2,0,"button",176),o(),a(20,"div",147),u(21,56),o(),I(22,"p-calendar",177),f(23,Xo,2,1,"div",78),o(),a(24,"div",178)(25,"label",179),u(26,57),o(),I(27,"my-select-options",180),f(28,Uo,2,1,"div",78),o(),I(29,"my-peertube-checkbox",181),o()()),n&2){let e=p();_(6),s("video",e.publishedVideo),_(6),s("formError",e.formErrors.support),_(2),s("ngIf",e.videoSource),_(5),s("ngIf",e.hasPublicationDate()),_(3),s("dateFormat",e.calendarDateFormat)("firstDayOfWeek",0)("showTime",!0)("hideOnDateTimeSelect",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.myYearRange),_(),s("ngIf",e.formErrors.originallyPublishedAt),_(4),s("items",e.commentPolicies)("clearable",!1),_(),s("ngIf",e.formErrors.commentsPolicy);}}function jo(n,t){if(n&1&&gt(0,109),n&2){let e=t.$implicit;p(3);let i=Je(4);s("ngTemplateOutlet",i)("ngTemplateOutletContext",te(2,Ti,e));}}function qo(n,t){if(n&1&&(a(0,"div",185)(1,"div",166),f(2,jo,1,4,"ng-container",101),o()()),n&2){let e=p(2);_(2),s("ngForOf",e.getPluginsFields("plugin-settings"));}}function Wo(n,t){n&1&&(O(0,65),a(1,"a",66),u(2,62),o(),f(3,qo,3,1,"ng-template",67),h());}var Pe=class Pe{constructor(t,e,i,r,c,T,z,g,C,A){this.formValidatorService=t;this.videoService=e;this.serverService=i;this.pluginService=r;this.instanceService=c;this.i18nPrimengCalendarService=T;this.ngZone=z;this.hooks=g;this.cd=C;this.modalService=A;l(this,"form");l(this,"formErrors",{});l(this,"validationMessages",{});l(this,"publishedVideo");l(this,"userVideoChannels",[]);l(this,"forbidScheduledPublication",!0);l(this,"displayTranscriptionInfo",!0);l(this,"videoCaptions",[]);l(this,"videoSource");l(this,"videoChapters",[]);l(this,"hideWaitTranscoding",!1);l(this,"updateVideoFileEnabled",!1);l(this,"type");l(this,"liveVideo");l(this,"videoCaptionAddModal");l(this,"formBuilt",new de());l(this,"pluginFieldsAdded",new de());l(this,"SPECIAL_SCHEDULED_PRIVACY",ct.SPECIAL_SCHEDULED_PRIVACY);l(this,"videoPrivacies",[]);l(this,"replayPrivacies",[]);l(this,"videoCategories",[]);l(this,"videoLicences",[]);l(this,"commentPolicies",[]);l(this,"videoLanguages",[]);l(this,"latencyModes",[{id:et.SMALL_LATENCY,label:"Latentzia txikia",description:"Murriztu latentzia ~15 segundotara P2P desgaituz"},{id:et.DEFAULT,label:"Lehenetsia",description:"Batez besteko latentzia 30 segundokoa da"},{id:et.HIGH_LATENCY,label:"Latentzia altua",description:"Batezbesteko latentzia 60 segundokoa P2P-ren erlazioa areagotuz"}]);l(this,"pluginDataFormGroup");l(this,"schedulePublicationSelected",!1);l(this,"passwordProtectionSelected",!1);l(this,"calendarLocale",{});l(this,"minScheduledDate",new Date());l(this,"myYearRange","1880:"+new Date().getFullYear());l(this,"calendarTimezone");l(this,"calendarDateFormat");l(this,"serverConfig");l(this,"pluginFields",[]);l(this,"schedulerInterval");l(this,"firstPatchDone",!1);l(this,"initialVideoCaptions",[]);this.calendarTimezone=this.i18nPrimengCalendarService.getTimezone(),this.calendarDateFormat=this.i18nPrimengCalendarService.getDateFormat();}updateForm(){let t={nsfw:"false",commentsPolicy:this.serverConfig.defaults.publish.commentsPolicy,downloadEnabled:this.serverConfig.defaults.publish.downloadEnabled,waitTranscoding:!0,licence:this.serverConfig.defaults.publish.licence,tags:[]},e={name:Zn,privacy:ei,videoPassword:ti,channelId:ri,nsfw:null,commentsPolicy:null,downloadEnabled:null,waitTranscoding:null,category:ni,licence:ii,language:oi,description:ai,tags:li,previewfile:null,support:_i,schedulePublicationAt:si,originallyPublishedAt:di,liveStreamKey:null,permanentLive:null,latencyMode:null,saveReplay:null,replayPrivacy:null};this.formValidatorService.updateFormGroup(this.form,this.formErrors,this.validationMessages,e,t),this.form.addControl("chapters",new _n([],Qn.VALIDATORS)),this.addNewChapterControl(),this.form.get("chapters").valueChanges.subscribe(i=>{let r=i[i.length-1];(r.title||r.timecode)&&this.addNewChapterControl();}),this.trackChannelChange(),this.trackPrivacyChange(),this.formBuilt.emit();}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.updateForm(),this.pluginService.ensurePluginsAreLoaded("video-edit").then(()=>this.updatePluginFields()),this.serverService.getVideoCategories().subscribe(e=>this.videoCategories=e),this.serverService.getVideoLicences().subscribe(e=>this.videoLicences=e),this.serverService.getCommentPolicies().subscribe(e=>this.commentPolicies=e),zt([this.instanceService.getAbout(),this.serverService.getVideoLanguages()]).pipe(je(([e,i])=>({about:e,languages:i}))).subscribe(e=>{this.videoLanguages=e.languages.map(i=>i.id==="zxx"?Be(Ue({},i),{group:"Bestea",groupOrder:1}):e.about.instance.languages.includes(i.id)?Be(Ue({},i),{group:"Instantziako hizkuntzak",groupOrder:0}):Be(Ue({},i),{group:"Hizkuntza guztiak",groupOrder:2})).sort((i,r)=>i.groupOrder-r.groupOrder);}),this.serverService.getVideoPrivacies().subscribe(e=>{let i=this.videoService.explainedPrivacyLabels(e).videoPrivacies;this.videoPrivacies=i,this.replayPrivacies=i.filter(c=>c.id!==ce.PASSWORD_PROTECTED);let r=this.videoPrivacies.some(c=>c.id===ce.PRIVATE);this.forbidScheduledPublication||!r||this.videoPrivacies.push({id:this.SPECIAL_SCHEDULED_PRIVACY,label:"Programatuta",description:"Ezkutatu bideoa data zehatz bat arte"});}),this.initialVideoCaptions=this.videoCaptions.map(e=>e.language.id),this.ngZone.runOutsideAngular(()=>{this.schedulerInterval=setInterval(()=>this.minScheduledDate=new Date(),1e3*60);});let t=e=>{this.form.patchValue(e),this.cd.detectChanges();};this.hooks.runAction("action:video-edit.init","video-edit",{type:this.type,updateForm:t}),this.form.valueChanges.subscribe(()=>{this.hooks.runAction("action:video-edit.form.updated","video-edit",{type:this.type,formValues:this.form.value});});}ngOnDestroy(){this.schedulerInterval&&clearInterval(this.schedulerInterval);}getCaptionLabel(t){return t.automaticallyGenerated?""+t.language.label+" (auto-generated)":t.language.label;}getExistingCaptions(){return this.videoCaptions.filter(t=>t.action!=="REMOVE").map(t=>t.language.id);}onCaptionEdited(t){let e=this.videoCaptions.find(i=>i.language.id===t.language.id);e?Object.assign(e,t):this.videoCaptions.push(Object.assign(t,{action:"CREATE"})),this.sortVideoCaptions();}deleteCaption(t){if(t.action&&this.initialVideoCaptions.includes(t.language.id)){t.action=void 0;return;}if(t.action==="CREATE"||t.action==="UPDATE"){Dn(this.videoCaptions,t);return;}t.action="REMOVE";}openAddCaptionModal(){this.videoCaptionAddModal.show();}openEditCaptionModal(t){let e=this.modalService.open(Et,{centered:!0,keyboard:!1});e.componentInstance.videoCaption=t,e.componentInstance.serverConfig=this.serverConfig,e.componentInstance.captionEdited.subscribe(this.onCaptionEdited.bind(this));}isSaveReplayAllowed(){return this.serverConfig.live.allowReplay;}isSaveReplayEnabled(){return this.form.value.saveReplay===!0;}isPermanentLiveEnabled(){return this.form.value.permanentLive===!0;}isLatencyModeEnabled(){return this.serverConfig.live.latencySetting.enabled;}hasPublicationDate(){return!!this.form.value.originallyPublishedAt;}isTranscriptionEnabled(){return this.serverConfig.videoTranscription.enabled;}hasCaptions(){return this.getExistingCaptions().length!==0;}resetField(t){this.form.patchValue({[t]:null});}isPluginFieldHidden(t){return typeof t.commonOptions.hidden!="function"?!1:t.commonOptions.hidden({formValues:this.form.value,videoToUpdate:this.publishedVideo,liveVideo:this.liveVideo});}getPluginsFields(t){return this.pluginFields.filter(e=>{var r;return((r=e.videoFormOptions.tab)!=null?r:"plugin-settings")===t;});}sortVideoCaptions(){this.videoCaptions.sort((t,e)=>t.language.label<e.language.label?-1:t.language.label===e.language.label?0:1);}updatePluginFields(){return P(this,null,function*(){if(this.pluginFields=this.pluginService.getRegisteredVideoFormFields(this.type),this.pluginFields.length===0)return;let t={},e={},i={},r={};for(let c of this.pluginFields){if(yield this.pluginService.translateSetting(c.pluginInfo.plugin.npmName,c.commonOptions),c.commonOptions.type==="html")continue;let T=g=>P(this,null,function*(){if(!c.commonOptions.error)return null;let C=yield c.commonOptions.error({formValues:this.form.value,value:g.value});return C!=null&&C.error?{[c.commonOptions.name]:C.text}:null;}),z=c.commonOptions.name;t[z]={ASYNC_VALIDATORS:[T],VALIDATORS:[],MESSAGES:{}},r[z]=c.commonOptions.default;}this.pluginDataFormGroup=new on({}),this.formValidatorService.updateFormGroup(this.pluginDataFormGroup,i,e,t,r),this.form.addControl("pluginData",this.pluginDataFormGroup),this.formErrors.pluginData=i,this.validationMessages.pluginData=e,this.cd.detectChanges(),this.pluginFieldsAdded.emit(),this.form.valueChanges.subscribe(()=>this.formValidatorService.updateTreeValidity(this.pluginDataFormGroup));});}addNewChapterControl(){let t=this.getChaptersFormArray(),e=t.controls;e.length!==0&&t.controls[e.length-1].get("title").addValidators(x.required),this.formValidatorService.addControlInFormArray({controlName:"chapters",formArray:t,formErrors:this.formErrors,validationMessages:this.validationMessages,formToBuild:{timecode:null,title:Kn},defaultValues:{timecode:0}});}getChaptersFormArray(){return this.form.controls.chapters;}deleteChapterControl(t){this.formValidatorService.removeControlFromFormArray({controlName:"chapters",formArray:this.getChaptersFormArray(),formErrors:this.formErrors,validationMessages:this.validationMessages,index:t});}isLastChapterControl(t){return this.getChaptersFormArray().length-1===t;}patchChapters(t){let e=t.getChaptersForUpdate().length,i=this.getChaptersFormArray().length;for(let r=0;r<=e-i;r++)this.addNewChapterControl();this.form.patchValue(t.toFormPatch());}getChapterArrayErrors(){return this.getChaptersFormArray().errors?Object.values(this.getChaptersFormArray().errors).join(". "):"";}trackPrivacyChange(){this.form.controls.privacy.valueChanges.pipe(je(t=>parseInt(t.toString(),10))).subscribe(t=>{this.schedulePublicationSelected=t===this.SPECIAL_SCHEDULED_PRIVACY;let e=this.form.get("schedulePublicationAt"),i=this.form.get("waitTranscoding");this.schedulePublicationSelected?(e.setValidators([x.required]),i.disable(),i.setValue(!1)):(e.clearValidators(),i.enable(),this.firstPatchDone===!0&&i.setValue(!0)),e.updateValueAndValidity(),i.updateValueAndValidity(),this.firstPatchDone=!0,this.passwordProtectionSelected=t===ce.PASSWORD_PROTECTED;let r=this.form.get("videoPassword");this.passwordProtectionSelected?r.setValidators([x.required]):r.clearValidators(),r.updateValueAndValidity();});}trackChannelChange(){this.form.controls.channelId.valueChanges.pipe(je(t=>parseInt(t.toString(),10))).subscribe(t=>{let e=parseInt(this.form.value.channelId,10);if(isNaN(t))return;let i=this.userVideoChannels.find(r=>r.id===t);i&&setTimeout(()=>{let r=this.form.value.support;if(isNaN(e)){r||this.updateSupportField(i.support);return;}let c=this.userVideoChannels.find(T=>T.id===e);if(!i||!c){Tn.error("Cannot find new or old channel.");return;}r&&r!==c.support||this.updateSupportField(i.support);});});}updateSupportField(t){return this.form.patchValue({support:t||""});}};l(Pe,"\u0275fac",function(e){return new(e||Pe)(G(pn),G(xe),G(Z),G(Pn),G(Fn),G(_t),G(Xt),G(Vn),G(Kt),G(nt));}),l(Pe,"\u0275cmp",ne({type:Pe,selectors:[["my-video-edit"]],viewQuery:function(e,i){if(e&1&&ie(Ui,7),e&2){let r;oe(r=re())&&(i.videoCaptionAddModal=r.first);}},inputs:{form:"form",formErrors:"formErrors",validationMessages:"validationMessages",publishedVideo:"publishedVideo",userVideoChannels:"userVideoChannels",forbidScheduledPublication:[2,"forbidScheduledPublication","forbidScheduledPublication",Re],displayTranscriptionInfo:[2,"displayTranscriptionInfo","displayTranscriptionInfo",Re],videoCaptions:"videoCaptions",videoSource:"videoSource",videoChapters:"videoChapters",hideWaitTranscoding:[2,"hideWaitTranscoding","hideWaitTranscoding",Re],updateVideoFileEnabled:[2,"updateVideoFileEnabled","updateVideoFileEnabled",Re],type:"type",liveVideo:"liveVideo"},outputs:{formBuilt:"formBuilt",pluginFieldsAdded:"pluginFieldsAdded"},standalone:!0,features:[Ut,ae],ngContentSelectors:Bi,decls:20,vars:8,consts:()=>{let t;t="Oinarrizko informazioa";let e;e="Ezarpen aurreratuak";let i;i="Izenburua";let r;r="Etiketak";let c;c="Azalpena";let T;T="Kanala";let z;z="Kategoria";let g;g="Lizentzia";let C;C="Hizkuntza";let A;A="Pribatutasuna";let F;F="Etiketak gomendio egokiak iradokitzeko erabili daitezke. "+"[\uFFFD#2\uFFFD\uFFFD/#2\uFFFD|\uFFFD#3\uFFFD\uFFFD/#3\uFFFD]"+" Gehienez 5 etiketa gehitu daitezke. "+"[\uFFFD#2\uFFFD\uFFFD/#2\uFFFD|\uFFFD#3\uFFFD\uFFFD/#3\uFFFD]"+" Sakatu "+"\uFFFD#4\uFFFD"+"Sartu"+"\uFFFD/#4\uFFFD"+" tekla etiketa berria gehitzeko. ",F=Bt(F);let v;v="Bideoen azalpenak lehenespenez mozten dira eta eskuz zabaldu behar dira.";let b;b="Denbora-zigilu bat ("+"\uFFFD#5\uFFFD"+"00:05"+"\uFFFD/#5\uFFFD"+", adibidez) bideoaren zati baterako esteka batean bihurtzen da automatikoki.";let D;D=""+"\uFFFD#2\uFFFD"+"Aukeratu"+"\uFFFD/#2\uFFFD"+" lizentzia egokia zure lanarentzat. ";let U;U="Pasahitza";let W;W="Programatu argitalpena ("+"\uFFFD0\uFFFD"+")";let B;B="Eduki hunkigarria dauka";let ee;ee="Instantzia batzuek helduentzako edo esplizitua den edukia lehenespenez ezkutatzen dute.";let we;we="Argitaratu transkodetu ostean";let Ge;Ge="Baliteke bideo hau ezin erreproduzitzea transkodetze-prozesua abian dagoenean. Horregatik, nahiago dugu bideoa publikoki argitaratzea transkodetzearen ondoren.";let le;le="Azpitituluak";let _e;_e="Add a caption";let K;K=" A subtitle will be automatically generated from your video. ";let He;He="Ikusi azpitituluen fitxategia";let Ee;Ee="Jada igo da data honetan: "+"\uFFFD0\uFFFD"+" \u2714";let ze;ze="Editatu";let ke;ke="Ezabatu";let H;H="Eguneratzean sortuko da";let d;d="Utzi sorkuntza";let S;S="Eguneratzean editatuko da";let m;m="Utzi edizioa";let L;L="Eguneratzean ezabatuko da";let Y;Y="Ezeztatu ezabaketa";let w;w="\n            Azpititulurik ez oraingoz.\n          ";let k;k="Atalak";let N;N=" Chapters can also be set in the video description. Check the format "+"\uFFFD#4\uFFFD"+"in the PeerTube documentation"+"\uFFFD/#4\uFFFD"+"";let X;X="Denbora-kodea";let Q;Q="Atalaren izena";let Xe;Xe="Zuzenekoaren ezarpenak";let se;se="Zuzeneko igorpenaren gakoa";let J;J="\u26A0\uFE0FEz partekatu inoiz igorpenaren gakoa inorekin.";let M;M="Hau zuzeneko arrunt bat da";let Ve;Ve="Behin soilik igor dezakezu zuzeneko arrunt batean. Errepikapena gaitzen baduzu, zuzenekoaren URL berean gordeko da";let Dt;Dt="Hau zuzeneko iraunkorra/errepikakorra da";let Ot;Ot="Hainbatetan igor dezakezu zuzeneko iraunkorrean/errepikakorrean. Errepikapenak gaitzen badituzu, aparteko bideo gisa gordeko dira";let ht;ht="Zuzenekoaren RTMP URLa";let vt;vt="Zuzenekoaren RTMPS URLa";let Mt;Mt="\u26A0\uFE0F Aukera hau gaitzen baduzu, zuzenekoa bukaraziko da zure bideo-kuota gaindituz gero";let At;At="Argitaratu automatikoki errepikapen bat zure zuzenekoa bukatzen denean";let Pt;Pt="Errepikapen berriaren pribatutasuna";let Vt;Vt="Latentziaren modua";let yt;yt="Deskarga gaitu";let bt;bt="Bideoaren miniatura";let Nt;Nt="Lagundu";let Rt;Rt="Jatorrizko argitaratze-data";let xt;xt="Hau edukia hasiera batean argitaratu zeneko data da (adib. film baten argitaratze-data)";let $t;$t="Comments policy";let Ft;Ft="Testu laburra, jendeari nola lagun zaitzaketen esateko (dohaintza plataforma...).";let Lt;Lt="Fitxategiaren izena";let wt;wt="Igotako fitxategiaren izena";let Gt;Gt="Berrezarri";let Ht;return Ht="Osagarriaren ezarpenak",[["nav","ngbNav"],["pluginSettingTemplate",""],["videoCaptionAddModal",""],t,e,i,r,c,T,z,g,C,A,F,v,b,D,U,W,B,ee,we,Ge,le,_e,K,Ee,ze,ke,H,d,S,m,L,Y,w,k,N,X,Q,Xe,se,J,M,Ve,Dt,Ot,ht,vt,Mt,At,Pt,Vt,bt,Nt,Rt,xt,$t,Ft,Lt,wt,Gt,Ht,[1,"video-edit",3,"formGroup"],["ngbNav","",1,"nav-tabs"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[3,"captionAdded","existingCaptions","serverConfig"],[1,"form-group",3,"hidden"],[3,"form","formErrors","setting"],[1,"form-columns"],[1,"col-video-edit"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["class","form-error","role","alert",4,"ngIf"],["for","label-tags",1,"label-tags"],["ptTemplate","customHtml"],["labelForId","label-tags","formControlName","tags"],["for","description"],["helpType","markdownText"],["ptTemplate","preHtml"],["formControlName","description","truncateTo3Lines","true","withEmoji","true",3,"markdownVideo","formError"],["for","channel"],["labelForId","channel","formControlName","channelId",3,"items"],["for","category"],["labelForId","category","formControlName","category",3,"items","clearable"],["for","licence"],["labelForId","licence","formControlName","licence",3,"items","clearable"],["for","language"],["labelForId","language","formControlName","language",3,"items","clearable","searchable","groupBy"],["for","privacy"],["labelForId","privacy","formControlName","privacy",3,"items","clearable"],["class","form-group",4,"ngIf"],["inputName","nsfw","formControlName","nsfw","helpPlacement","bottom-right"],["ptTemplate","label"],["ptTemplate","help"],["inputName","waitTranscoding","formControlName","waitTranscoding","helpPlacement","bottom-right",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["role","alert",1,"form-error"],["href","https://chooser-beta.creativecommons.org/","target","_blank","rel","noopener noreferrer"],["for","videoPassword"],["formControlName","videoPassword","inputId","videoPassword",3,"withCopy","formError"],["for","schedulePublicationAt"],["id","schedulePublicationAt","formControlName","schedulePublicationAt",3,"dateFormat","firstDayOfWeek","minDate","showTime","hideOnDateTimeSelect"],["inputName","waitTranscoding","formControlName","waitTranscoding","helpPlacement","bottom-right"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"captions"],["class","alert pt-alert-primary",4,"ngIf"],["class","form-group",4,"ngFor","ngForOf"],["class","no-caption",4,"ngIf"],[1,"mt-3","mb-3"],[1,"peertube-create-button",3,"click"],["iconName","add","aria-hidden","true"],[1,"alert","pt-alert-primary"],[1,"caption-entry"],[4,"ngIf"],["title",He,"target","_blank","rel","noopener noreferrer",1,"caption-entry-label",3,"href"],[1,"caption-entry-state"],[1,"caption-entry-edit",3,"click"],[1,"caption-entry-delete",3,"click"],[1,"caption-entry-label"],[1,"caption-entry-state","caption-entry-state-create"],[1,"caption-entry-state","caption-entry-state-delete"],[1,"no-caption"],[1,"row","mb-5"],["formArrayName","chapters",1,"chapters","col-md-12","col-xl-6"],["href","https://docs.joinpeertube.org/use/create-upload-video#chapters","target","_blank"],[4,"ngFor","ngForOf"],["class","col-md-12 col-xl-6",3,"video",4,"ngIf"],[1,"chapter",3,"formGroupName"],[3,"ngClass","for"],[1,"position"],["formControlName","timecode",1,"d-block",3,"disableBorder","inputName","maxTimestamp"],["type","text","formControlName","title",3,"ngClass","id","name"],["role","alert",1,"form-error",3,"ngClass"],[1,"opacity-0"],[3,"click",4,"ngIf"],[3,"click"],[1,"col-md-12","col-xl-6",3,"video"],[1,"row","live-settings"],[1,"col-md-12"],["for","liveVideoStreamKey"],["inputId","liveVideoStreamKey",3,"value","withCopy","readonly"],[1,"form-group-description"],[1,"peertube-radio-container"],["type","radio","formControlName","permanentLive","id","permanentLiveFalse",3,"value"],["for","permanentLiveFalse",1,"radio"],["type","radio","formControlName","permanentLive","id","permanentLiveTrue",3,"value"],["for","permanentLiveTrue",1,"radio"],["class","form-group mx-4",4,"ngIf"],["for","liveVideoRTMPUrl"],["inputId","liveVideoRTMPUrl",3,"value","withToggle","withCopy","show","readonly"],["for","liveVideoRTMPSUrl"],["inputId","liveVideoRTMPSUrl",3,"value","withToggle","withCopy","show","readonly"],["inputName","liveVideoSaveReplay","formControlName","saveReplay"],["ngProjectAs","description",5,["description"]],[1,"form-group","mx-4"],["for","replayPrivacy"],["labelForId","replayPrivacy","formControlName","replayPrivacy",3,"items","clearable"],["for","latencyMode"],["labelForId","latencyMode","formControlName","latencyMode",3,"items","clearable"],[1,"row","advanced-settings"],[1,"col-md-12","col-xl-8"],["for","previewfile"],["id","previewfile","formControlName","previewfile",3,"video"],["for","support"],["helpType","markdownEnhanced"],["id","support","formControlName","support","markdownType","enhanced",3,"formError"],[1,"col-md-12","col-xl-4"],[1,"form-group","originally-published-at"],[1,"label-container"],["for","originallyPublishedAt"],["class","reset-button reset-button-small",3,"click",4,"ngIf"],["id","originallyPublishedAt","formControlName","originallyPublishedAt",3,"dateFormat","firstDayOfWeek","showTime","hideOnDateTimeSelect","monthNavigator","yearNavigator","yearRange"],[1,"form-group","mb-4"],["for","commentsPolicy"],["labelForId","commentsPolicy","formControlName","commentsPolicy",3,"items","clearable"],["inputName","downloadEnabled","formControlName","downloadEnabled","labelText",yt],["for","filename"],["type","text","id","filename",1,"form-control",3,"disabled","value"],[1,"reset-button","reset-button-small",3,"click"],[1,"row","plugin-settings"]];},template:function(e,i){if(e&1){let r=j();jt(),a(0,"div",63)(1,"div",64,0),f(3,Wi,2,4,"ng-template",null,1,Ke),O(5,65),a(6,"a",66),u(7,3),o(),f(8,uo,54,23,"ng-template",67),h(),f(9,Oo,4,0,"ng-container",68)(10,Vo,4,0,"ng-container",68)(11,wo,4,0,"ng-container",68),O(12,65),a(13,"a",66),u(14,4),o(),f(15,Bo,30,15,"ng-template",67),h(),f(16,Wo,4,0,"ng-container",68),o(),I(17,"div",69),o(),a(18,"my-video-caption-add-modal",70,2),$("captionAdded",function(T){return V(r),y(i.onCaptionEdited(T));}),o();}if(e&2){let r=Je(2);s("formGroup",i.form),_(9),s("ngIf",!i.liveVideo),_(),s("ngIf",!i.liveVideo),_(),s("ngIf",i.liveVideo),_(5),s("ngIf",i.getPluginsFields("plugin-settings").length!==0),_(),s("ngbNavOutlet",r),_(),s("existingCaptions",i.getExistingCaptions())("serverConfig",i.serverConfig);}},dependencies:[Oe,Ze,rn,Ie,Se,he,Te,De,an,ln,gn,Bn,En,fn,Cn,un,fe,bn,yn,jn,wn,Wn,Ln,Rn,Xn,kn,Nn,Qt,Zt,ve,Qe,Gn,Un,rt,Hn,In,ut,en,mt],styles:['.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;height:min-content}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{background-color:#f9f9f9}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--mainForegroundColor);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:3px 35px 3px 12px;position:relative;border:1px solid var(--inputBorderColor);background:transparent none;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--mainForegroundColor);line-height:23px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[value=undefined][_ngcontent-%COMP%]{font-weight:600}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor);color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:var(--greySecondaryBackgroundColor)}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0;padding:4px 35px 4px 12px}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-weight:700;min-width:100px;margin-inline-end:1.25rem}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{min-width:250px;margin-inline-end:.9375rem}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#38ab0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-edit[_ngcontent-%COMP%]{padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-edit[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px;background-color:var(--greyBackgroundColor);color:var(--greyForegroundColor)}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:var(--greySecondaryBackgroundColor)}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);margin-inline-end:calc(1.28125rem + .375vw)}@media (min-width: 1200px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:1.5625rem}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{color:#000;font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}.button-file[_ngcontent-%COMP%]{width:max-content;position:relative;overflow:hidden;display:inline-block;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.button-file[_ngcontent-%COMP%]:focus, .button-file[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.button-file[_ngcontent-%COMP%], .button-file[_ngcontent-%COMP%]:active, .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.button-file[disabled][_ngcontent-%COMP%], .button-file.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}.button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.hide-chapter-label[_ngcontent-%COMP%]{height:0;opacity:0}.chapter[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto minmax(150px,350px) 1fr;grid-template-rows:auto auto;column-gap:1rem}.chapter[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{height:31px;min-width:16px;display:flex;align-items:center}.chapter[_ngcontent-%COMP%]   my-delete-button[_ngcontent-%COMP%]{width:fit-content}.chapter[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]{margin-top:0}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}']}));var Si=Pe;function Fl(n,t,e){if(n.patchValue(t.toFormPatch()),e===!1)return;let i=[{url:"thumbnailUrl",name:"thumbnailfile"},{url:"previewUrl",name:"previewfile"}];for(let r of i)t[r.url]&&fetch(t[r.url]).then(c=>c.blob()).then(c=>{n.patchValue({[r.name]:c});});}export{Jn as a,ct as b,_t as c,Si as d,Fl as e,Yn as f};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/