const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-eIo3d2NV.js","assets/index-DTgcLK0S.js","assets/peertube-player-DY9Muruo.js","assets/jschannel-C6bikODZ.js"])))=>i.map(i=>d[i]);
var _s=Object.defineProperty;var ys=(s,i,n)=>i in s?_s(s,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[i]=n;var E=(s,i,n)=>ys(s,typeof i!="symbol"?i+"":i,n);import{c as xt,g as ms,a as Ts,l as R,b as ai,d as bs,i as Es,e as Cs,j as ks,O as yt,p as ke,P as Ss,f as Q,U as Ps}from"./jschannel-C6bikODZ.js";const ws="modulepreload",xs=function(s){return"/client/standalone/videos/"+s},oi={},Ui=function(i,n,r){let e=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),a=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));e=Promise.all(n.map(o=>{if(o=xs(o),o in oi)return;oi[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(o,'"]').concat(u)))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ws,l||(c.as="script",c.crossOrigin=""),c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(o))))})}))}return e.then(()=>i()).catch(t=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=t,window.dispatchEvent(a),!a.defaultPrevented)throw t})};var rt;typeof window<"u"?rt=window:typeof xt<"u"?rt=xt:typeof self<"u"?rt=self:rt={};var Vt=rt;const As={},Is=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"})),Ls=ms(Is);var li=typeof xt<"u"?xt:typeof window<"u"?window:{},Os=Ls,it;typeof document<"u"?it=document:(it=li["__GLOBAL_DOCUMENT_CACHE@4"],it||(it=li["__GLOBAL_DOCUMENT_CACHE@4"]=Os));var Wi=it,Ki={exports:{}};(function(s){function i(){return s.exports=i=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},s.exports.__esModule=!0,s.exports.default=s.exports,i.apply(null,arguments)}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(Ki);var zi=Ki.exports,fr={exports:{}};(function(s,i){function n(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),d=r[c.toLowerCase()];if(d)return d;var d=e[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var h=r[c.toLowerCase()];if(h)return h===d;var h=e[c.toLowerCase()];if(h)return h===d}else if(typeof c=="number")return c===d;return!1}},i=s.exports=n;var r=i.code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},e=i.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(t=97;t<123;t++)r[String.fromCharCode(t)]=t-32;for(var t=48;t<58;t++)r[t-48]=t;for(t=1;t<13;t++)r["f"+t]=t+111;for(t=0;t<10;t++)r["numpad "+t]=t+96;var a=i.names=i.title={};for(t in r)a[r[t]]=t;for(var o in e)r[o]=e[o]})(fr,fr.exports);var Ns=fr.exports,qi={exports:{}};(function(s){function i(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(qi);var Ms=qi.exports,$i={exports:{}},Gi={exports:{}};(function(s){function i(n,r){return s.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s.exports.__esModule=!0,s.exports.default=s.exports,i(n,r)}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(Gi);var kr=Gi.exports;(function(s){var i=kr;function n(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,i(r,e)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})($i);var Rs=$i.exports,Ds=Fs;function Fs(s,i){var n,r=null;try{n=JSON.parse(s,i)}catch(e){r=e}return[r,n]}var Sr={exports:{}},js=Bs,Vs=Object.prototype.toString;function Bs(s){if(!s)return!1;var i=Vs.call(s);return i==="[object Function]"||typeof s=="function"&&i!=="[object RegExp]"||typeof window<"u"&&(s===window.setTimeout||s===window.alert||s===window.confirm||s===window.prompt)}var Hs=Vt,Us=function(i,n){return n===void 0&&(n=!1),function(r,e,t){if(r){i(r);return}if(e.statusCode>=400&&e.statusCode<=599){var a=t;if(n)if(Hs.TextDecoder){var o=Ws(e.headers&&e.headers["content-type"]);try{a=new TextDecoder(o).decode(t)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(t));i({cause:a});return}i(null,t)}};function Ws(s){return s===void 0&&(s=""),s.toLowerCase().split(";").reduce(function(i,n){var r=n.split("="),e=r[0],t=r[1];return e.trim()==="charset"?t.trim():i},"utf-8")}var Ks=Us,Xi=Vt,zs=zi,qs=js;ne.httpHandler=Ks;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var $s=function(i){var n={};return i&&i.trim().split("\n").forEach(function(r){var e=r.indexOf(":"),t=r.slice(0,e).trim().toLowerCase(),a=r.slice(e+1).trim();typeof n[t]>"u"?n[t]=a:Array.isArray(n[t])?n[t].push(a):n[t]=[n[t],a]}),n};Sr.exports=ne;Sr.exports.default=ne;ne.XMLHttpRequest=Xi.XMLHttpRequest||Qs;ne.XDomainRequest="withCredentials"in new ne.XMLHttpRequest?ne.XMLHttpRequest:Xi.XDomainRequest;Gs(["get","put","post","patch","head","delete"],function(s){ne[s==="delete"?"del":s]=function(i,n,r){return n=Yi(i,n,r),n.method=s.toUpperCase(),Qi(n)}});function Gs(s,i){for(var n=0;n<s.length;n++)i(s[n])}function Xs(s){for(var i in s)if(s.hasOwnProperty(i))return!1;return!0}function Yi(s,i,n){var r=s;return qs(i)?(n=i,typeof s=="string"&&(r={uri:s})):r=zs({},i,{uri:s}),r.callback=n,r}function ne(s,i,n){return i=Yi(s,i,n),Qi(i)}function Qi(s){if(typeof s.callback>"u")throw new Error("callback argument missing");var i=!1,n=function(X,Ee,Ne){i||(i=!0,s.callback(X,Ee,Ne))};function r(){o.readyState===4&&setTimeout(a,0)}function e(){var k=void 0;if(o.response?k=o.response:k=o.responseText||Ys(o),b)try{k=JSON.parse(k)}catch{}return k}function t(k){return clearTimeout(S),k instanceof Error||(k=new Error(""+(k||"Unknown XMLHttpRequest Error"))),k.statusCode=0,n(k,T)}function a(){if(!u){var k;clearTimeout(S),s.useXDR&&o.status===void 0?k=200:k=o.status===1223?204:o.status;var X=T,Ee=null;return k!==0?(X={body:e(),statusCode:k,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(X.headers=$s(o.getAllResponseHeaders()))):Ee=new Error("Internal XMLHttpRequest Error"),n(Ee,X,X.body)}}var o=s.xhr||null;o||(s.cors||s.useXDR?o=new ne.XDomainRequest:o=new ne.XMLHttpRequest);var l,u,c=o.url=s.uri||s.url,d=o.method=s.method||"GET",h=s.body||s.data,f=o.headers=s.headers||{},v=!!s.sync,b=!1,S,T={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in s&&s.json!==!1&&(b=!0,f.accept||f.Accept||(f.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(s.json===!0?h:s.json))),o.onreadystatechange=r,o.onload=a,o.onerror=t,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=t,o.open(d,c,!v,s.username,s.password),v||(o.withCredentials=!!s.withCredentials),!v&&s.timeout>0&&(S=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var k=new Error("XMLHttpRequest timeout");k.code="ETIMEDOUT",t(k)}},s.timeout)),o.setRequestHeader)for(l in f)f.hasOwnProperty(l)&&o.setRequestHeader(l,f[l]);else if(s.headers&&!Xs(s.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in s&&(o.responseType=s.responseType),"beforeSend"in s&&typeof s.beforeSend=="function"&&s.beforeSend(o),o.send(h||null),o}function Ys(s){try{if(s.responseType==="document")return s.responseXML;var i=s.responseXML&&s.responseXML.documentElement.nodeName==="parsererror";if(s.responseType===""&&!i)return s.responseXML}catch{}return null}function Qs(){}var Js=Sr.exports,Ji={exports:{}},ui=Wi,Pr=Object.create||function(){function s(){}return function(i){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return s.prototype=i,new s}}();function $(s,i){this.name="ParsingError",this.code=s.code,this.message=i||s.message}$.prototype=Pr(Error.prototype);$.prototype.constructor=$;$.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function wr(s){function i(r,e,t,a){return(r|0)*3600+(e|0)*60+(t|0)+(a|0)/1e3}var n=s.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?i(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?i(n[1],n[2],0,n[4]):i(0,n[1],n[2],n[4]):null}function at(){this.values=Pr(null)}at.prototype={set:function(s,i){!this.get(s)&&i!==""&&(this.values[s]=i)},get:function(s,i,n){return n?this.has(s)?this.values[s]:i[n]:this.has(s)?this.values[s]:i},has:function(s){return s in this.values},alt:function(s,i,n){for(var r=0;r<n.length;++r)if(i===n[r]){this.set(s,i);break}},integer:function(s,i){/^-?\d+$/.test(i)&&this.set(s,parseInt(i,10))},percent:function(s,i){return i.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(i=parseFloat(i),i>=0&&i<=100)?(this.set(s,i),!0):!1}};function nt(s,i,n,r){var e=r?s.split(r):[s];for(var t in e)if(typeof e[t]=="string"){var a=e[t].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();i(o,l)}}}function Zs(s,i,n){var r=s;function e(){var o=wr(s);if(o===null)throw new $($.Errors.BadTimeStamp,"Malformed timestamp: "+r);return s=s.replace(/^[^\sa-zA-Z-]+/,""),o}function t(o,l){var u=new at;nt(o,function(c,d){switch(c){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===d){u.set(c,n[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var f=d.split(","),v=f[0];u.integer(c,v),u.percent(c,v)&&u.set("snapToLines",!1),u.alt(c,v,["auto"]),f.length===2&&u.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),u.percent(c,f[0]),f.length===2&&u.alt("positionAlign",f[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){s=s.replace(/^\s+/,"")}if(a(),i.startTime=e(),a(),s.substr(0,3)!=="-->")throw new $($.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);s=s.substr(3),a(),i.endTime=e(),a(),t(s,i)}var Qt=ui.createElement&&ui.createElement("textarea"),ea={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ci={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ta={v:"title",lang:"lang"},hi={rt:"ruby"};function Zi(s,i){function n(){if(!i)return null;function v(S){return i=i.substr(S.length),S}var b=i.match(/^([^<]*)(<[^>]*>?)?/);return v(b[1]?b[1]:b[2])}function r(v){return Qt.innerHTML=v,v=Qt.textContent,Qt.textContent="",v}function e(v,b){return!hi[b.localName]||hi[b.localName]===v.localName}function t(v,b){var S=ea[v];if(!S)return null;var T=s.document.createElement(S),k=ta[v];return k&&b&&(T[k]=b.trim()),T}for(var a=s.document.createElement("div"),o=a,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=wr(l.substr(1,l.length-2)),d;if(c){d=s.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=t(h[1],h[3]),!d)||!e(o,d))continue;if(h[2]){var f=h[2].split(".");f.forEach(function(v){var b=/^bg_/.test(v),S=b?v.slice(3):v;if(ci.hasOwnProperty(S)){var T=b?"background-color":"color",k=ci[S];d.style[T]=k}}),d.className=f.join(" ")}u.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(s.document.createTextNode(r(l)))}return a}var di=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ra(s){for(var i=0;i<di.length;i++){var n=di[i];if(s>=n[0]&&s<=n[1])return!0}return!1}function ia(s){var i=[],n="",r;if(!s||!s.childNodes)return"ltr";function e(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function t(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return t(o);if(l.childNodes)return e(o,l),t(o)}for(e(i,s);n=t(i);)for(var a=0;a<n.length;a++)if(r=n.charCodeAt(a),ra(r))return"rtl";return"ltr"}function na(s){if(typeof s.line=="number"&&(s.snapToLines||s.line>=0&&s.line<=100))return s.line;if(!s.track||!s.track.textTrackList||!s.track.textTrackList.mediaElement)return-1;for(var i=s.track,n=i.textTrackList,r=0,e=0;e<n.length&&n[e]!==i;e++)n[e].mode==="showing"&&r++;return++r*-1}function Bt(){}Bt.prototype.applyStyles=function(s,i){i=i||this.div;for(var n in s)s.hasOwnProperty(n)&&(i.style[n]=s[n])};Bt.prototype.formatStyle=function(s,i){return s===0?0:s+i};function At(s,i,n){Bt.call(this),this.cue=i,this.cueDiv=Zi(s,i.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=s.document.createElement("div"),r={direction:ia(this.cueDiv),writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:i.align==="middle"?"center":i.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var e=0;switch(i.positionAlign){case"start":case"line-left":e=i.position;break;case"center":e=i.position-i.size/2;break;case"end":case"line-right":e=i.position-i.size;break}i.vertical===""?this.applyStyles({left:this.formatStyle(e,"%"),width:this.formatStyle(i.size,"%")}):this.applyStyles({top:this.formatStyle(e,"%"),height:this.formatStyle(i.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}At.prototype=Pr(Bt.prototype);At.prototype.constructor=At;function U(s){var i,n,r,e;if(s.div){n=s.div.offsetHeight,r=s.div.offsetWidth,e=s.div.offsetTop;var t=(t=s.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects();s=s.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,s.height/t.length):0}this.left=s.left,this.right=s.right,this.top=s.top||e,this.height=s.height||n,this.bottom=s.bottom||e+(s.height||n),this.width=s.width||r,this.lineHeight=i!==void 0?i:s.lineHeight}U.prototype.move=function(s,i){switch(i=i!==void 0?i:this.lineHeight,s){case"+x":this.left+=i,this.right+=i;break;case"-x":this.left-=i,this.right-=i;break;case"+y":this.top+=i,this.bottom+=i;break;case"-y":this.top-=i,this.bottom-=i;break}};U.prototype.overlaps=function(s){return this.left<s.right&&this.right>s.left&&this.top<s.bottom&&this.bottom>s.top};U.prototype.overlapsAny=function(s){for(var i=0;i<s.length;i++)if(this.overlaps(s[i]))return!0;return!1};U.prototype.within=function(s){return this.top>=s.top&&this.bottom<=s.bottom&&this.left>=s.left&&this.right<=s.right};U.prototype.overlapsOppositeAxis=function(s,i){switch(i){case"+x":return this.left<s.left;case"-x":return this.right>s.right;case"+y":return this.top<s.top;case"-y":return this.bottom>s.bottom}};U.prototype.intersectPercentage=function(s){var i=Math.max(0,Math.min(this.right,s.right)-Math.max(this.left,s.left)),n=Math.max(0,Math.min(this.bottom,s.bottom)-Math.max(this.top,s.top)),r=i*n;return r/(this.height*this.width)};U.prototype.toCSSCompatValues=function(s){return{top:this.top-s.top,bottom:s.bottom-this.bottom,left:this.left-s.left,right:s.right-this.right,height:this.height,width:this.width}};U.getSimpleBoxPosition=function(s){var i=s.div?s.div.offsetHeight:s.tagName?s.offsetHeight:0,n=s.div?s.div.offsetWidth:s.tagName?s.offsetWidth:0,r=s.div?s.div.offsetTop:s.tagName?s.offsetTop:0;s=s.div?s.div.getBoundingClientRect():s.tagName?s.getBoundingClientRect():s;var e={left:s.left,right:s.right,top:s.top||r,height:s.height||i,bottom:s.bottom||r+(s.height||i),width:s.width||n};return e};function sa(s,i,n,r){function e(S,T){for(var k,X=new U(S),Ee=1,Ne=0;Ne<T.length;Ne++){for(;S.overlapsOppositeAxis(n,T[Ne])||S.within(n)&&S.overlapsAny(r);)S.move(T[Ne]);if(S.within(n))return S;var si=S.intersectPercentage(n);Ee>si&&(k=new U(S),Ee=si),S=new U(X)}return k||X}var t=new U(i),a=i.cue,o=na(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=t.lineHeight,d=c*Math.round(o),h=n[u]+c,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=a.vertical===""?n.height:n.width,l=l.reverse()),t.move(f,d)}else{var v=t.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=v/2;break;case"end":o-=v;break}switch(a.vertical){case"":i.applyStyles({top:i.formatStyle(o,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(o,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],t=new U(i)}var b=e(t,l);i.move(b.toCSSCompatValues(n))}function ze(){}ze.StringDecoder=function(){return{decode:function(s){if(!s)return"";if(typeof s!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(s))}}};ze.convertCueToDOMTree=function(s,i){return!s||!i?null:Zi(s,i)};var aa=.05,oa="sans-serif",la="1.5%";ze.processCues=function(s,i,n){if(!s||!i||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=s.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=la,n.appendChild(r);function e(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!e(i)){for(var t=0;t<i.length;t++)r.appendChild(i[t].displayState);return}var a=[],o=U.getSimpleBoxPosition(r),l=Math.round(o.height*aa*100)/100,u={font:l+"px "+oa};(function(){for(var c,d,h=0;h<i.length;h++)d=i[h],c=new At(s,d,u),r.appendChild(c.div),sa(s,c,o,a),d.displayState=c.div,a.push(U.getSimpleBoxPosition(c))})()};ze.Parser=function(s,i,n){n||(n=i,i={}),i||(i={}),this.window=s,this.vttjs=i,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};ze.Parser.prototype={reportOrThrowError:function(s){if(s instanceof $)this.onparsingerror&&this.onparsingerror(s);else throw s},parse:function(s){var i=this;s&&(i.buffer+=i.decoder.decode(s,{stream:!0}));function n(){for(var c=i.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!=="\n";)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]==="\n"&&++d,i.buffer=c.substr(d),h}function r(c){var d=new at;if(nt(c,function(f,v){switch(f){case"id":d.set(f,v);break;case"width":d.percent(f,v);break;case"lines":d.integer(f,v);break;case"regionanchor":case"viewportanchor":var b=v.split(",");if(b.length!==2)break;var S=new at;if(S.percent("x",b[0]),S.percent("y",b[1]),!S.has("x")||!S.has("y"))break;d.set(f+"X",S.get("x")),d.set(f+"Y",S.get("y"));break;case"scroll":d.alt(f,v,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(i.vttjs.VTTRegion||i.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),i.onregion&&i.onregion(h),i.regionList.push({id:d.get("id"),region:h})}}function e(c){var d=new at;nt(c,function(h,f){switch(h){case"MPEGT":d.integer(h+"S",f);break;case"LOCA":d.set(h+"L",wr(f));break}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function t(c){c.match(/X-TIMESTAMP-MAP/)?nt(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":e(h);break}},/=/):nt(c,function(d,h){switch(d){case"Region":r(h);break}},/:/)}try{var a;if(i.state==="INITIAL"){if(!/\r\n|\n/.test(i.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new $($.Errors.BadSignature);i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:a=n(),i.state){case"HEADER":/:/.test(a)?t(a):a||(i.state="ID");continue;case"NOTE":a||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){i.state="NOTE";break}if(!a)continue;i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,"");try{i.cue.align="center"}catch{i.cue.align="middle"}if(i.state="CUE",a.indexOf("-->")===-1){i.cue.id=a;continue}case"CUE":try{Zs(a,i.cue,i.regionList)}catch(c){i.reportOrThrowError(c),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=a.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":a||(i.state="ID");continue}}}catch(c){i.reportOrThrowError(c),i.state==="CUETEXT"&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state=i.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var s=this;try{if(s.buffer+=s.decoder.decode(),(s.cue||s.state==="HEADER")&&(s.buffer+="\n\n",s.parse()),s.state==="INITIAL")throw new $($.Errors.BadSignature)}catch(i){s.reportOrThrowError(i)}return s.onflush&&s.onflush(),this}};var ua=ze,ca="auto",ha={"":1,lr:1,rl:1},da={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function fa(s){if(typeof s!="string")return!1;var i=ha[s.toLowerCase()];return i?s.toLowerCase():!1}function Jt(s){if(typeof s!="string")return!1;var i=da[s.toLowerCase()];return i?s.toLowerCase():!1}function en(s,i,n){this.hasBeenReset=!1;var r="",e=!1,t=s,a=i,o=n,l=null,u="",c=!0,d="auto",h="start",f="auto",v="auto",b=100,S="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(T){r=""+T}},pauseOnExit:{enumerable:!0,get:function(){return e},set:function(T){e=!!T}},startTime:{enumerable:!0,get:function(){return t},set:function(T){if(typeof T!="number")throw new TypeError("Start time must be set to a number.");t=T,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(T){if(typeof T!="number")throw new TypeError("End time must be set to a number.");a=T,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(T){o=""+T,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(T){l=T,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(T){var k=fa(T);if(k===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=k,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(T){c=!!T,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(T){if(typeof T!="number"&&T!==ca)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=T,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(T){var k=Jt(T);k?(h=k,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(T){if(T<0||T>100)throw new Error("Position must be between 0 and 100.");f=T,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(T){var k=Jt(T);k?(v=k,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(T){if(T<0||T>100)throw new Error("Size must be between 0 and 100.");b=T,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return S},set:function(T){var k=Jt(T);if(!k)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");S=k,this.hasBeenReset=!0}}}),this.displayState=void 0}en.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var pa=en,va={"":!0,up:!0};function ga(s){if(typeof s!="string")return!1;var i=va[s.toLowerCase()];return i?s.toLowerCase():!1}function Ze(s){return typeof s=="number"&&s>=0&&s<=100}function _a(){var s=100,i=3,n=0,r=100,e=0,t=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return s},set:function(o){if(!Ze(o))throw new Error("Width must be between 0 and 100.");s=o}},lines:{enumerable:!0,get:function(){return i},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");i=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!Ze(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Ze(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return t},set:function(o){if(!Ze(o))throw new Error("ViewportAnchorY must be between 0 and 100.");t=o}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(o){if(!Ze(o))throw new Error("ViewportAnchorX must be between 0 and 100.");e=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=ga(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var ya=_a,he=Vt,Le=Ji.exports={WebVTT:ua,VTTCue:pa,VTTRegion:ya};he.vttjs=Le;he.WebVTT=Le.WebVTT;var ma=Le.VTTCue,Ta=Le.VTTRegion,ba=he.VTTCue,Ea=he.VTTRegion;Le.shim=function(){he.VTTCue=ma,he.VTTRegion=Ta};Le.restore=function(){he.VTTCue=ba,he.VTTRegion=Ea};he.VTTCue||Le.shim();var Ca=Ji.exports,tn={exports:{}},rn={exports:{}};(function(s){function i(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s.exports=i=function(){return!!n},s.exports.__esModule=!0,s.exports.default=s.exports)()}s.exports=i,s.exports.__esModule=!0,s.exports.default=s.exports})(rn);var ka=rn.exports;(function(s){var i=ka,n=kr;function r(e,t,a){if(i())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var l=new(e.bind.apply(e,o));return a&&n(l,a.prototype),l}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports})(tn);var Sa=tn.exports,nn={exports:{}};(function(s){var i=kr;function n(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&i(r,e)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(nn);var Pa=nn.exports;/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var wa=Vt,xa=Wi,Aa=zi,Ia=Ns,La=Ms,Oa=Rs,Na=Ds,Ma=Js,Ra=Ca,Da=Sa,Fa=Pa;function re(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=re(wa),_=re(xa),xr=re(Aa),P=re(Ia),A=re(La),m=re(Oa),ja=re(Na),sn=re(Ma),fi=re(Ra),Va=re(Da),Ba=re(Fa),an="7.21.6",le={},Te=function(i,n){return le[i]=le[i]||[],n&&(le[i]=le[i].concat(n)),le[i]},Ha=function(i,n){Te(i,n)},on=function(i,n){var r=Te(i).indexOf(n);return r<=-1?!1:(le[i]=le[i].slice(),le[i].splice(r,1),!0)},Ua=function(i,n){Te(i,[].concat(n).map(function(r){var e=function t(){return on(i,t),r.apply(void 0,arguments)};return e}))},It={prefixed:!0},kt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],pi=kt[0],st;for(var mt=0;mt<kt.length;mt++)if(kt[mt][1]in _.default){st=kt[mt];break}if(st){for(var Tt=0;Tt<st.length;Tt++)It[pi[Tt]]=st[Tt];It.prefixed=st[0]!==pi[0]}var q=[],Wa=function(i,n){return function(r,e,t){var a=n.levels[e],o=new RegExp("^("+a+")$");if(r!=="log"&&t.unshift(r.toUpperCase()+":"),t.unshift(i+":"),q){q.push([].concat(t));var l=q.length-1e3;q.splice(0,l>0?l:0)}if(p.default.console){var u=p.default.console[r];!u&&r==="debug"&&(u=p.default.console.info||p.default.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(t)?"apply":"call"](p.default.console,t)}}};function ln(s){var i="info",n,r=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];n("log",i,a)};return n=Wa(s,r),r.createLogger=function(e){return ln(s+": "+e)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(e){if(typeof e=="string"){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},r.history=function(){return q?[].concat(q):[]},r.history.filter=function(e){return(q||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},r.history.clear=function(){q&&(q.length=0)},r.history.disable=function(){q!==null&&(q.length=0,q=null)},r.history.enable=function(){q===null&&(q=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n("error",i,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n("warn",i,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n("debug",i,t)},r}var w=ln("VIDEOJS"),un=w.createLogger,Ka=Object.prototype.toString,cn=function(i){return de(i)?Object.keys(i):[]};function De(s,i){cn(s).forEach(function(n){return i(s[n],n)})}function za(s,i,n){return n===void 0&&(n=0),cn(s).reduce(function(r,e){return i(r,s[e],e)},n)}function N(s){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Object.assign?xr.default.apply(void 0,[s].concat(n)):(n.forEach(function(e){e&&De(e,function(t,a){s[a]=t})}),s)}function de(s){return!!s&&typeof s=="object"}function lt(s){return de(s)&&Ka.call(s)==="[object Object]"&&s.constructor===Object}function ut(s,i){if(!s||!i)return"";if(typeof p.default.getComputedStyle=="function"){var n;try{n=p.default.getComputedStyle(s)}catch{return""}return n?n.getPropertyValue(i)||n[i]:""}return""}var F=p.default.navigator&&p.default.navigator.userAgent||"",vi=/AppleWebKit\/([\d.]+)/i.exec(F),qa=vi?parseFloat(vi.pop()):null,hn=/iPod/i.test(F),$a=function(){var s=F.match(/OS (\d+)_/i);return s&&s[1]?s[1]:null}(),pe=/Android/i.test(F),Ar=function(){var s=F.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!s)return null;var i=s[1]&&parseFloat(s[1]),n=s[2]&&parseFloat(s[2]);return i&&n?parseFloat(s[1]+"."+s[2]):i||null}(),dn=pe&&Ar<5&&qa<537,fn=/Firefox/i.test(F),dt=/Edg/i.test(F),ve=!dt&&(/Chrome/i.test(F)||/CriOS/i.test(F)),pn=function(){var s=F.match(/(Chrome|CriOS)\/(\d+)/);return s&&s[2]?parseFloat(s[2]):null}(),ft=function(){var s=/MSIE\s(\d+)\.\d/.exec(F),i=s&&parseFloat(s[1]);return!i&&/Trident\/7.0/i.test(F)&&/rv:11.0/.test(F)&&(i=11),i}(),Ir=/Safari/i.test(F)&&!ve&&!pe&&!dt,vn=/Windows/i.test(F),Ve=!!(qe()&&("ontouchstart"in p.default||p.default.navigator.maxTouchPoints||p.default.DocumentTouch&&p.default.document instanceof p.default.DocumentTouch)),Lr=/iPad/i.test(F)||Ir&&Ve&&!/iPhone/i.test(F),Or=/iPhone/i.test(F)&&!Lr,z=Or||Lr||hn,Ht=(Ir||z)&&!ve,Ga=Object.freeze({__proto__:null,IS_IPOD:hn,IOS_VERSION:$a,IS_ANDROID:pe,ANDROID_VERSION:Ar,IS_NATIVE_ANDROID:dn,IS_FIREFOX:fn,IS_EDGE:dt,IS_CHROME:ve,CHROME_VERSION:pn,IE_VERSION:ft,IS_SAFARI:Ir,IS_WINDOWS:vn,TOUCH_ENABLED:Ve,IS_IPAD:Lr,IS_IPHONE:Or,IS_IOS:z,IS_ANY_SAFARI:Ht});function gi(s){return typeof s=="string"&&!!s.trim()}function gn(s){if(s.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Xa(s){return new RegExp("(^|\\s)"+s+"($|\\s)")}function qe(){return _.default===p.default.document}function $e(s){return de(s)&&s.nodeType===1}function _n(){try{return p.default.parent!==p.default.self}catch{return!0}}function yn(s){return function(i,n){if(!gi(i))return _.default[s](null);gi(n)&&(n=_.default.querySelector(n));var r=$e(n)?n:_.default;return r[s]&&r[s](i)}}function x(s,i,n,r){s===void 0&&(s="div"),i===void 0&&(i={}),n===void 0&&(n={});var e=_.default.createElement(s);return Object.getOwnPropertyNames(i).forEach(function(t){var a=i[t];t.indexOf("aria-")!==-1||t==="role"||t==="type"?(w.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\n"+("createEl(type, properties, attributes). Attempting to set "+t+" to "+a+".")),e.setAttribute(t,a)):t==="textContent"?Oe(e,a):(e[t]!==a||t==="tabIndex")&&(e[t]=a)}),Object.getOwnPropertyNames(n).forEach(function(t){e.setAttribute(t,n[t])}),r&&Mr(e,r),e}function Oe(s,i){return typeof s.textContent>"u"?s.innerText=i:s.textContent=i,s}function pr(s,i){i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s)}function we(s,i){return gn(i),s.classList?s.classList.contains(i):Xa(i).test(s.className)}function ue(s,i){return s.classList?s.classList.add(i):we(s,i)||(s.className=(s.className+" "+i).trim()),s}function pt(s,i){return s?(s.classList?s.classList.remove(i):(gn(i),s.className=s.className.split(/\s+/).filter(function(n){return n!==i}).join(" ")),s):(w.warn("removeClass was called with an element that doesn't exist"),null)}function mn(s,i,n){var r=we(s,i);if(typeof n=="function"&&(n=n(s,i)),typeof n!="boolean"&&(n=!r),n!==r)return n?ue(s,i):pt(s,i),s}function Tn(s,i){Object.getOwnPropertyNames(i).forEach(function(n){var r=i[n];r===null||typeof r>"u"||r===!1?s.removeAttribute(n):s.setAttribute(n,r===!0?"":r)})}function oe(s){var i={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(s&&s.attributes&&s.attributes.length>0)for(var r=s.attributes,e=r.length-1;e>=0;e--){var t=r[e].name,a=r[e].value;(typeof s[t]=="boolean"||n.indexOf(","+t+",")!==-1)&&(a=a!==null),i[t]=a}return i}function bn(s,i){return s.getAttribute(i)}function Be(s,i,n){s.setAttribute(i,n)}function Ut(s,i){s.removeAttribute(i)}function En(){_.default.body.focus(),_.default.onselectstart=function(){return!1}}function Cn(){_.default.onselectstart=function(){return!0}}function He(s){if(s&&s.getBoundingClientRect&&s.parentNode){var i=s.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(r){i[r]!==void 0&&(n[r]=i[r])}),n.height||(n.height=parseFloat(ut(s,"height"))),n.width||(n.width=parseFloat(ut(s,"width"))),n}}function ct(s){if(!s||s&&!s.offsetParent)return{left:0,top:0,width:0,height:0};for(var i=s.offsetWidth,n=s.offsetHeight,r=0,e=0;s.offsetParent&&s!==_.default[It.fullscreenElement];)r+=s.offsetLeft,e+=s.offsetTop,s=s.offsetParent;return{left:r,top:e,width:i,height:n}}function Wt(s,i){var n={x:0,y:0};if(z)for(var r=s;r&&r.nodeName.toLowerCase()!=="html";){var e=ut(r,"transform");if(/^matrix/.test(e)){var t=e.slice(7,-1).split(/,\s/).map(Number);n.x+=t[4],n.y+=t[5]}else if(/^matrix3d/.test(e)){var a=e.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}r=r.parentNode}var o={},l=ct(i.target),u=ct(s),c=u.width,d=u.height,h=i.offsetY-(u.top-l.top),f=i.offsetX-(u.left-l.left);return i.changedTouches&&(f=i.changedTouches[0].pageX-u.left,h=i.changedTouches[0].pageY+u.top,z&&(f-=n.x,h-=n.y)),o.y=1-Math.max(0,Math.min(1,h/d)),o.x=Math.max(0,Math.min(1,f/c)),o}function kn(s){return de(s)&&s.nodeType===3}function Nr(s){for(;s.firstChild;)s.removeChild(s.firstChild);return s}function Sn(s){return typeof s=="function"&&(s=s()),(Array.isArray(s)?s:[s]).map(function(i){if(typeof i=="function"&&(i=i()),$e(i)||kn(i))return i;if(typeof i=="string"&&/\S/.test(i))return _.default.createTextNode(i)}).filter(function(i){return i})}function Mr(s,i){return Sn(i).forEach(function(n){return s.appendChild(n)}),s}function Pn(s,i){return Mr(Nr(s),i)}function ht(s){return s.button===void 0&&s.buttons===void 0||s.button===0&&s.buttons===void 0||s.type==="mouseup"&&s.button===0&&s.buttons===0?!0:!(s.button!==0||s.buttons!==1)}var be=yn("querySelector"),wn=yn("querySelectorAll"),xn=Object.freeze({__proto__:null,isReal:qe,isEl:$e,isInFrame:_n,createEl:x,textContent:Oe,prependTo:pr,hasClass:we,addClass:ue,removeClass:pt,toggleClass:mn,setAttributes:Tn,getAttributes:oe,getAttribute:bn,setAttribute:Be,removeAttribute:Ut,blockTextSelection:En,unblockTextSelection:Cn,getBoundingClientRect:He,findPosition:ct,getPointerPosition:Wt,isTextNode:kn,emptyEl:Nr,normalizeContent:Sn,appendContent:Mr,insertContent:Pn,isSingleLeftClick:ht,$:be,$$:wn}),An=!1,vr,Ya=function(){if(vr.options.autoSetup!==!1){var i=Array.prototype.slice.call(_.default.getElementsByTagName("video")),n=Array.prototype.slice.call(_.default.getElementsByTagName("audio")),r=Array.prototype.slice.call(_.default.getElementsByTagName("video-js")),e=i.concat(n,r);if(e&&e.length>0)for(var t=0,a=e.length;t<a;t++){var o=e[t];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&vr(o)}}else{gr(1);break}}else An||gr(1)}};function gr(s,i){qe()&&(i&&(vr=i),p.default.setTimeout(Ya,s))}function _r(){An=!0,p.default.removeEventListener("load",_r)}qe()&&(_.default.readyState==="complete"?_r():p.default.addEventListener("load",_r));var In=function(i){var n=_.default.createElement("style");return n.className=i,n},Ln=function(i,n){i.styleSheet?i.styleSheet.cssText=n:i.textContent=n},Qa=3,Ja=Qa;function ge(){return Ja++}var On;p.default.WeakMap||(On=function(){function s(){this.vdata="vdata"+Math.floor(p.default.performance&&p.default.performance.now()||Date.now()),this.data={}}var i=s.prototype;return i.set=function(r,e){var t=r[this.vdata]||ge();return r[this.vdata]||(r[this.vdata]=t),this.data[t]=e,this},i.get=function(r){var e=r[this.vdata];if(e)return this.data[e];w("We have no data for this element",r)},i.has=function(r){var e=r[this.vdata];return e in this.data},i.delete=function(r){var e=r[this.vdata];e&&(delete this.data[e],delete r[this.vdata])},s}());var W=p.default.WeakMap?new WeakMap:new On;function _i(s,i){if(W.has(s)){var n=W.get(s);n.handlers[i].length===0&&(delete n.handlers[i],s.removeEventListener?s.removeEventListener(i,n.dispatcher,!1):s.detachEvent&&s.detachEvent("on"+i,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&W.delete(s)}}function Rr(s,i,n,r){n.forEach(function(e){s(i,e,r)})}function Kt(s){if(s.fixed_)return s;function i(){return!0}function n(){return!1}if(!s||!s.isPropagationStopped||!s.isImmediatePropagationStopped){var r=s||p.default.event;s={};for(var e in r)e!=="layerX"&&e!=="layerY"&&e!=="keyLocation"&&e!=="webkitMovementX"&&e!=="webkitMovementY"&&e!=="path"&&(e==="returnValue"&&r.preventDefault||(s[e]=r[e]));if(s.target||(s.target=s.srcElement||_.default),s.relatedTarget||(s.relatedTarget=s.fromElement===s.target?s.toElement:s.fromElement),s.preventDefault=function(){r.preventDefault&&r.preventDefault(),s.returnValue=!1,r.returnValue=!1,s.defaultPrevented=!0},s.defaultPrevented=!1,s.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),s.cancelBubble=!0,r.cancelBubble=!0,s.isPropagationStopped=i},s.isPropagationStopped=n,s.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),s.isImmediatePropagationStopped=i,s.stopPropagation()},s.isImmediatePropagationStopped=n,s.clientX!==null&&s.clientX!==void 0){var t=_.default.documentElement,a=_.default.body;s.pageX=s.clientX+(t&&t.scrollLeft||a&&a.scrollLeft||0)-(t&&t.clientLeft||a&&a.clientLeft||0),s.pageY=s.clientY+(t&&t.scrollTop||a&&a.scrollTop||0)-(t&&t.clientTop||a&&a.clientTop||0)}s.which=s.charCode||s.keyCode,s.button!==null&&s.button!==void 0&&(s.button=s.button&1?0:s.button&4?1:s.button&2?2:0)}return s.fixed_=!0,s}var bt,Za=function(){if(typeof bt!="boolean"){bt=!1;try{var i=Object.defineProperty({},"passive",{get:function(){bt=!0}});p.default.addEventListener("test",null,i),p.default.removeEventListener("test",null,i)}catch{}}return bt},eo=["touchstart","touchmove"];function G(s,i,n){if(Array.isArray(i))return Rr(G,s,i,n);W.has(s)||W.set(s,{});var r=W.get(s);if(r.handlers||(r.handlers={}),r.handlers[i]||(r.handlers[i]=[]),n.guid||(n.guid=ge()),r.handlers[i].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,a){if(!r.disabled){t=Kt(t);var o=r.handlers[t.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!t.isImmediatePropagationStopped();u++)try{l[u].call(s,t,a)}catch(d){w.error(d)}}}),r.handlers[i].length===1)if(s.addEventListener){var e=!1;Za()&&eo.indexOf(i)>-1&&(e={passive:!0}),s.addEventListener(i,r.dispatcher,e)}else s.attachEvent&&s.attachEvent("on"+i,r.dispatcher)}function V(s,i,n){if(W.has(s)){var r=W.get(s);if(r.handlers){if(Array.isArray(i))return Rr(V,s,i,n);var e=function(u,c){r.handlers[c]=[],_i(u,c)};if(i===void 0){for(var t in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},t)&&e(s,t);return}var a=r.handlers[i];if(a){if(!n){e(s,i);return}if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);_i(s,i)}}}}function Ge(s,i,n){var r=W.has(s)?W.get(s):{},e=s.parentNode||s.ownerDocument;if(typeof i=="string"?i={type:i,target:s}:i.target||(i.target=s),i=Kt(i),r.dispatcher&&r.dispatcher.call(s,i,n),e&&!i.isPropagationStopped()&&i.bubbles===!0)Ge.call(null,e,i,n);else if(!e&&!i.defaultPrevented&&i.target&&i.target[i.type]){W.has(i.target)||W.set(i.target,{});var t=W.get(i.target);i.target[i.type]&&(t.disabled=!0,typeof i.target[i.type]=="function"&&i.target[i.type](),t.disabled=!1)}return!i.defaultPrevented}function zt(s,i,n){if(Array.isArray(i))return Rr(zt,s,i,n);var r=function e(){V(s,i,e),n.apply(this,arguments)};r.guid=n.guid=n.guid||ge(),G(s,i,r)}function Nn(s,i,n){var r=function e(){V(s,i,e),n.apply(this,arguments)};r.guid=n.guid=n.guid||ge(),G(s,i,r)}var to=Object.freeze({__proto__:null,fixEvent:Kt,on:G,off:V,trigger:Ge,one:zt,any:Nn}),te=30,O=function(i,n,r){n.guid||(n.guid=ge());var e=n.bind(i);return e.guid=r?r+"_"+n.guid:n.guid,e},fe=function(i,n){var r=p.default.performance.now(),e=function(){var a=p.default.performance.now();a-r>=n&&(i.apply(void 0,arguments),r=a)};return e},ro=function(i,n,r,e){e===void 0&&(e=p.default);var t,a=function(){e.clearTimeout(t),t=null},o=function(){var u=this,c=arguments,d=function(){t=null,d=null,i.apply(u,c)};!t&&r&&i.apply(u,c),e.clearTimeout(t),t=e.setTimeout(d,n)};return o.cancel=a,o},j=function(){};j.prototype.allowedEvents_={};j.prototype.on=function(s,i){var n=this.addEventListener;this.addEventListener=function(){},G(this,s,i),this.addEventListener=n};j.prototype.addEventListener=j.prototype.on;j.prototype.off=function(s,i){V(this,s,i)};j.prototype.removeEventListener=j.prototype.off;j.prototype.one=function(s,i){var n=this.addEventListener;this.addEventListener=function(){},zt(this,s,i),this.addEventListener=n};j.prototype.any=function(s,i){var n=this.addEventListener;this.addEventListener=function(){},Nn(this,s,i),this.addEventListener=n};j.prototype.trigger=function(s){var i=s.type||s;typeof s=="string"&&(s={type:i}),s=Kt(s),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](s),Ge(this,s)};j.prototype.dispatchEvent=j.prototype.trigger;var et;j.prototype.queueTrigger=function(s){var i=this;et||(et=new Map);var n=s.type||s,r=et.get(this);r||(r=new Map,et.set(this,r));var e=r.get(n);r.delete(n),p.default.clearTimeout(e);var t=p.default.setTimeout(function(){r.delete(n),r.size===0&&(r=null,et.delete(i)),i.trigger(s)},0);r.set(n,t)};var qt=function(i){return typeof i.name=="function"?i.name():typeof i.name=="string"?i.name:i.name_?i.name_:i.constructor&&i.constructor.name?i.constructor.name:typeof i},ce=function(i){return i instanceof j||!!i.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof i[n]=="function"})},io=function(i,n){ce(i)?n():(i.eventedCallbacks||(i.eventedCallbacks=[]),i.eventedCallbacks.push(n))},yr=function(i){return typeof i=="string"&&/\S/.test(i)||Array.isArray(i)&&!!i.length},Lt=function(i,n,r){if(!i||!i.nodeName&&!ce(i))throw new Error("Invalid target for "+qt(n)+"#"+r+"; must be a DOM node or evented object.")},Mn=function(i,n,r){if(!yr(i))throw new Error("Invalid event type for "+qt(n)+"#"+r+"; must be a non-empty string or array.")},Rn=function(i,n,r){if(typeof i!="function")throw new Error("Invalid listener for "+qt(n)+"#"+r+"; must be a function.")},Zt=function(i,n,r){var e=n.length<3||n[0]===i||n[0]===i.eventBusEl_,t,a,o;return e?(t=i.eventBusEl_,n.length>=3&&n.shift(),a=n[0],o=n[1]):(t=n[0],a=n[1],o=n[2]),Lt(t,i,r),Mn(a,i,r),Rn(o,i,r),o=O(i,o),{isTargetingSelf:e,target:t,type:a,listener:o}},Ce=function(i,n,r,e){Lt(i,i,n),i.nodeName?to[n](i,r,e):i[n](r,e)},no={on:function(){for(var i=this,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=Zt(this,r,"on"),a=t.isTargetingSelf,o=t.target,l=t.type,u=t.listener;if(Ce(o,"on",l,u),!a){var c=function(){return i.off(o,l,u)};c.guid=u.guid;var d=function(){return i.off("dispose",c)};d.guid=u.guid,Ce(this,"on","dispose",c),Ce(o,"on","dispose",d)}},one:function(){for(var i=this,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=Zt(this,r,"one"),a=t.isTargetingSelf,o=t.target,l=t.type,u=t.listener;if(a)Ce(o,"one",l,u);else{var c=function d(){i.off(o,l,d);for(var h=arguments.length,f=new Array(h),v=0;v<h;v++)f[v]=arguments[v];u.apply(null,f)};c.guid=u.guid,Ce(o,"one",l,c)}},any:function(){for(var i=this,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=Zt(this,r,"any"),a=t.isTargetingSelf,o=t.target,l=t.type,u=t.listener;if(a)Ce(o,"any",l,u);else{var c=function d(){i.off(o,l,d);for(var h=arguments.length,f=new Array(h),v=0;v<h;v++)f[v]=arguments[v];u.apply(null,f)};c.guid=u.guid,Ce(o,"any",l,c)}},off:function(i,n,r){if(!i||yr(i))V(this.eventBusEl_,i,n);else{var e=i,t=n;Lt(e,this,"off"),Mn(t,this,"off"),Rn(r,this,"off"),r=O(this,r),this.off("dispose",r),e.nodeName?(V(e,t,r),V(e,"dispose",r)):ce(e)&&(e.off(t,r),e.off("dispose",r))}},trigger:function(i,n){Lt(this.eventBusEl_,this,"trigger");var r=i&&typeof i!="string"?i.type:i;if(!yr(r)){var e="Invalid event type for "+qt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(i)(this.log||w).error(e);else throw new Error(e)}return Ge(this.eventBusEl_,i,n)}};function Dr(s,i){i===void 0&&(i={});var n=i,r=n.eventBusKey;if(r){if(!s[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');s.eventBusEl_=s[r]}else s.eventBusEl_=x("span",{className:"vjs-event-bus"});return N(s,no),s.eventedCallbacks&&s.eventedCallbacks.forEach(function(e){e()}),s.on("dispose",function(){s.off(),[s,s.el_,s.eventBusEl_].forEach(function(e){e&&W.has(e)&&W.delete(e)}),p.default.setTimeout(function(){s.eventBusEl_=null},0)}),s}var so={state:{},setState:function(i){var n=this;typeof i=="function"&&(i=i());var r;return De(i,function(e,t){n.state[t]!==e&&(r=r||{},r[t]={from:n.state[t],to:e}),n.state[t]=e}),r&&ce(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function Dn(s,i){return N(s,so),s.state=N({},s.state,i),typeof s.handleStateChanged=="function"&&ce(s)&&s.on("statechanged",s.handleStateChanged),s}var St=function(i){return typeof i!="string"?i:i.replace(/./,function(n){return n.toLowerCase()})},M=function(i){return typeof i!="string"?i:i.replace(/./,function(n){return n.toUpperCase()})},ao=function(i,n){return M(i)===M(n)};function L(){for(var s={},i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.forEach(function(e){e&&De(e,function(t,a){if(!lt(t)){s[a]=t;return}lt(s[a])||(s[a]={}),s[a]=L(s[a],t)})}),s}var oo=function(){function s(){this.map_={}}var i=s.prototype;return i.has=function(r){return r in this.map_},i.delete=function(r){var e=this.has(r);return delete this.map_[r],e},i.set=function(r,e){return this.map_[r]=e,this},i.forEach=function(r,e){for(var t in this.map_)r.call(e,this.map_[t],t,this)},s}(),lo=p.default.Map?p.default.Map:oo,uo=function(){function s(){this.set_={}}var i=s.prototype;return i.has=function(r){return r in this.set_},i.delete=function(r){var e=this.has(r);return delete this.set_[r],e},i.add=function(r){return this.set_[r]=1,this},i.forEach=function(r,e){for(var t in this.set_)r.call(e,t,t,this)},s}(),er=p.default.Set?p.default.Set:uo,g=function(){function s(n,r,e){var t=this;if(!n&&this.play?this.player_=n=this:this.player_=n,this.isDisposed_=!1,this.parentComponent_=null,this.options_=L({},this.options_),r=this.options_=L(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var a=n&&n.id&&n.id()||"no_player";this.id_=a+"_component_"+ge()}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(function(o){return t.addClass(o)}),r.evented!==!1&&(Dr(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Dn(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new er,this.setIntervalIds_=new er,this.rafIds_=new er,this.namedRafs_=new lo,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(e),r.reportTouchActivity!==!1&&this.enableTouchActivity()}var i=s.prototype;return i.dispose=function(r){if(r===void 0&&(r={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(r.restoreEl?this.el_.parentNode.replaceChild(r.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},i.isDisposed=function(){return!!this.isDisposed_},i.player=function(){return this.player_},i.options=function(r){return r?(this.options_=L(this.options_,r),this.options_):this.options_},i.el=function(){return this.el_},i.createEl=function(r,e,t){return x(r,e,t)},i.localize=function(r,e,t){t===void 0&&(t=r);var a=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[a],u=a&&a.split("-")[0],c=o&&o[u],d=t;return l&&l[r]?d=l[r]:c&&c[r]&&(d=c[r]),e&&(d=d.replace(/\{(\d+)\}/g,function(h,f){var v=e[f-1],b=v;return typeof v>"u"&&(b=h),b})),d},i.handleLanguagechange=function(){},i.contentEl=function(){return this.contentEl_||this.el_},i.id=function(){return this.id_},i.name=function(){return this.name_},i.children=function(){return this.children_},i.getChildById=function(r){return this.childIndex_[r]},i.getChild=function(r){if(r)return this.childNameIndex_[r]},i.getDescendant=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e=e.reduce(function(l,u){return l.concat(u)},[]);for(var a=this,o=0;o<e.length;o++)if(a=a.getChild(e[o]),!a||!a.getChild)return;return a},i.addChild=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t=this.children_.length);var a,o;if(typeof r=="string"){o=M(r);var l=e.componentClass||o;e.name=o;var u=s.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;a=new u(this.player_||this,e)}else a=r;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(t,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),o=o||a.name&&M(a.name()),o&&(this.childNameIndex_[o]=a,this.childNameIndex_[St(o)]=a),typeof a.el=="function"&&a.el()){var c=null;this.children_[t+1]&&(this.children_[t+1].el_?c=this.children_[t+1].el_:$e(this.children_[t+1])&&(c=this.children_[t+1])),this.contentEl().insertBefore(a.el(),c)}return a},i.removeChild=function(r){if(typeof r=="string"&&(r=this.getChild(r)),!(!r||!this.children_)){for(var e=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===r){e=!0,this.children_.splice(t,1);break}if(e){r.parentComponent_=null,this.childIndex_[r.id()]=null,this.childNameIndex_[M(r.name())]=null,this.childNameIndex_[St(r.name())]=null;var a=r.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(r.el())}}},i.initChildren=function(){var r=this,e=this.options_.children;if(e){var t=this.options_,a=function(c){var d=c.name,h=c.opts;if(t[d]!==void 0&&(h=t[d]),h!==!1){h===!0&&(h={}),h.playerOptions=r.options_.playerOptions;var f=r.addChild(d,h);f&&(r[d]=f)}},o,l=s.getComponent("Tech");Array.isArray(e)?o=e:o=Object.keys(e),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,d;return typeof u=="string"?(c=u,d=e[c]||r.options_[c]||{}):(c=u.name,d=u),{name:c,opts:d}}).filter(function(u){var c=s.getComponent(u.opts.componentClass||M(u.name));return c&&!l.isTech(c)}).forEach(a)}},i.buildCSSClass=function(){return""},i.ready=function(r,e){if(e===void 0&&(e=!1),!!r){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(r);return}e?r.call(this):this.setTimeout(r,1)}},i.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var r=this.readyQueue_;this.readyQueue_=[],r&&r.length>0&&r.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},i.$=function(r,e){return be(r,e||this.contentEl())},i.$$=function(r,e){return wn(r,e||this.contentEl())},i.hasClass=function(r){return we(this.el_,r)},i.addClass=function(r){ue(this.el_,r)},i.removeClass=function(r){pt(this.el_,r)},i.toggleClass=function(r,e){mn(this.el_,r,e)},i.show=function(){this.removeClass("vjs-hidden")},i.hide=function(){this.addClass("vjs-hidden")},i.lockShowing=function(){this.addClass("vjs-lock-showing")},i.unlockShowing=function(){this.removeClass("vjs-lock-showing")},i.getAttribute=function(r){return bn(this.el_,r)},i.setAttribute=function(r,e){Be(this.el_,r,e)},i.removeAttribute=function(r){Ut(this.el_,r)},i.width=function(r,e){return this.dimension("width",r,e)},i.height=function(r,e){return this.dimension("height",r,e)},i.dimensions=function(r,e){this.width(r,!0),this.height(e)},i.dimension=function(r,e,t){if(e!==void 0){(e===null||e!==e)&&(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[r]=e:e==="auto"?this.el_.style[r]="":this.el_.style[r]=e+"px",t||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[r],o=a.indexOf("px");return parseInt(o!==-1?a.slice(0,o):this.el_["offset"+M(r)],10)},i.currentDimension=function(r){var e=0;if(r!=="width"&&r!=="height")throw new Error("currentDimension only accepts width or height value");if(e=ut(this.el_,r),e=parseFloat(e),e===0||isNaN(e)){var t="offset"+M(r);e=this.el_[t]}return e},i.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},i.currentWidth=function(){return this.currentDimension("width")},i.currentHeight=function(){return this.currentDimension("height")},i.focus=function(){this.el_.focus()},i.blur=function(){this.el_.blur()},i.handleKeyDown=function(r){this.player_&&(P.default.isEventKey(r,"Tab")||r.stopPropagation(),this.player_.handleKeyDown(r))},i.handleKeyPress=function(r){this.handleKeyDown(r)},i.emitTapEvents=function(){var r=0,e=null,t=10,a=200,o;this.on("touchstart",function(u){u.touches.length===1&&(e={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},r=p.default.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(e){var c=u.touches[0].pageX-e.pageX,d=u.touches[0].pageY-e.pageY,h=Math.sqrt(c*c+d*d);h>t&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(e=null,o===!0){var c=p.default.performance.now()-r;c<a&&(u.preventDefault(),this.trigger("tap"))}})},i.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var r=O(this.player(),this.player().reportUserActivity),e;this.on("touchstart",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)});var t=function(o){r(),this.clearInterval(e)};this.on("touchmove",r),this.on("touchend",t),this.on("touchcancel",t)}},i.setTimeout=function(r,e){var t=this,a;return r=O(this,r),this.clearTimersOnDispose_(),a=p.default.setTimeout(function(){t.setTimeoutIds_.has(a)&&t.setTimeoutIds_.delete(a),r()},e),this.setTimeoutIds_.add(a),a},i.clearTimeout=function(r){return this.setTimeoutIds_.has(r)&&(this.setTimeoutIds_.delete(r),p.default.clearTimeout(r)),r},i.setInterval=function(r,e){r=O(this,r),this.clearTimersOnDispose_();var t=p.default.setInterval(r,e);return this.setIntervalIds_.add(t),t},i.clearInterval=function(r){return this.setIntervalIds_.has(r)&&(this.setIntervalIds_.delete(r),p.default.clearInterval(r)),r},i.requestAnimationFrame=function(r){var e=this;if(!this.supportsRaf_)return this.setTimeout(r,1e3/60);this.clearTimersOnDispose_();var t;return r=O(this,r),t=p.default.requestAnimationFrame(function(){e.rafIds_.has(t)&&e.rafIds_.delete(t),r()}),this.rafIds_.add(t),t},i.requestNamedAnimationFrame=function(r,e){var t=this;if(!this.namedRafs_.has(r)){this.clearTimersOnDispose_(),e=O(this,e);var a=this.requestAnimationFrame(function(){e(),t.namedRafs_.has(r)&&t.namedRafs_.delete(r)});return this.namedRafs_.set(r,a),r}},i.cancelNamedAnimationFrame=function(r){this.namedRafs_.has(r)&&(this.cancelAnimationFrame(this.namedRafs_.get(r)),this.namedRafs_.delete(r))},i.cancelAnimationFrame=function(r){return this.supportsRaf_?(this.rafIds_.has(r)&&(this.rafIds_.delete(r),p.default.cancelAnimationFrame(r)),r):this.clearTimeout(r)},i.clearTimersOnDispose_=function(){var r=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],a=e[1];r[t].forEach(function(o,l){return r[a](l)})}),r.clearingTimersOnDispose_=!1}))},s.registerComponent=function(r,e){if(typeof r!="string"||!r)throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.');var t=s.getComponent("Tech"),a=t&&t.isTech(e),o=s===e||s.prototype.isPrototypeOf(e.prototype);if(a||!o){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+r+'"; '+l+".")}r=M(r),s.components_||(s.components_={});var u=s.getComponent("Player");if(r==="Player"&&u&&u.players){var c=u.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(h){return c[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return s.components_[r]=e,s.components_[St(r)]=e,e},s.getComponent=function(r){if(!(!r||!s.components_))return s.components_[r]},s}();g.prototype.supportsRaf_=typeof p.default.requestAnimationFrame=="function"&&typeof p.default.cancelAnimationFrame=="function";g.registerComponent("Component",g);function co(s,i,n){if(typeof i!="number"||i<0||i>n)throw new Error("Failed to execute '"+s+"' on 'TimeRanges': The index provided ("+i+") is non-numeric or out of bounds (0-"+n+").")}function yi(s,i,n,r){return co(s,r,n.length-1),n[r][i]}function tr(s){var i;return s===void 0||s.length===0?i={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:i={length:s.length,start:yi.bind(null,"start",0,s),end:yi.bind(null,"end",1,s)},p.default.Symbol&&p.default.Symbol.iterator&&(i[p.default.Symbol.iterator]=function(){return(s||[]).values()}),i}function xe(s,i){return Array.isArray(s)?tr(s):s===void 0||i===void 0?tr():tr([[s,i]])}function Fn(s,i){var n=0,r,e;if(!i)return 0;(!s||!s.length)&&(s=xe(0,0));for(var t=0;t<s.length;t++)r=s.start(t),e=s.end(t),e>i&&(e=i),n+=e-r;return n/i}function K(s){if(s instanceof K)return s;typeof s=="number"?this.code=s:typeof s=="string"?this.message=s:de(s)&&(typeof s.code=="number"&&(this.code=s.code),N(this,s)),this.message||(this.message=K.defaultMessages[this.code]||"")}K.prototype.code=0;K.prototype.message="";K.prototype.status=null;K.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];K.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Me=0;Me<K.errorTypes.length;Me++)K[K.errorTypes[Me]]=Me,K.prototype[K.errorTypes[Me]]=Me;function ot(s){return s!=null&&typeof s.then=="function"}function ie(s){ot(s)&&s.then(null,function(i){})}var mr=function(i){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(r,e,t){return i[e]&&(r[e]=i[e]),r},{cues:i.cues&&Array.prototype.map.call(i.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})});return n},ho=function(i){var n=i.$$("track"),r=Array.prototype.map.call(n,function(t){return t.track}),e=Array.prototype.map.call(n,function(t){var a=mr(t.track);return t.src&&(a.src=t.src),a});return e.concat(Array.prototype.filter.call(i.textTracks(),function(t){return r.indexOf(t)===-1}).map(mr))},fo=function(i,n){return i.forEach(function(r){var e=n.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(function(t){return e.addCue(t)})}),n.textTracks()},mi={textTracksToJson:ho,jsonToTextTracks:fo,trackToJson_:mr},rr="vjs-modal-dialog",Xe=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.handleKeyDown_=function(a){return t.handleKeyDown(a)},t.close_=function(a){return t.close(a)},t.opened_=t.hasBeenOpened_=t.hasBeenFilled_=!1,t.closeable(!t.options_.uncloseable),t.content(t.options_.content),t.contentEl_=x("div",{className:rr+"-content"},{role:"document"}),t.descEl_=x("p",{className:rr+"-description vjs-control-text",id:t.el().getAttribute("aria-describedby")}),Oe(t.descEl_,t.description()),t.el_.appendChild(t.descEl_),t.el_.appendChild(t.contentEl_),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,s.prototype.dispose.call(this)},n.buildCSSClass=function(){return rr+" vjs-hidden "+s.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if(typeof e=="boolean"){var t=this.closeable_=!!e,a=this.getChild("closeButton");if(t&&!a){var o=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(a,"close",this.close_)}!t&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),a=t.parentNode,o=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(t),this.empty(),Pn(t,e),this.trigger("modalfill"),o?a.insertBefore(t,o):a.appendChild(t);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},n.empty=function(){this.trigger("beforemodalempty"),Nr(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return typeof e<"u"&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=_.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),P.default.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(P.default.isEventKey(e,"Tab")){for(var t=this.focusableEls_(),a=this.el_.querySelector(":focus"),o,l=0;l<t.length;l++)if(a===t[l]){o=l;break}_.default.activeElement===this.el_&&(o=0),e.shiftKey&&o===0?(t[t.length-1].focus(),e.preventDefault()):!e.shiftKey&&o===t.length-1&&(t[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(t){return(t instanceof p.default.HTMLAnchorElement||t instanceof p.default.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof p.default.HTMLInputElement||t instanceof p.default.HTMLSelectElement||t instanceof p.default.HTMLTextAreaElement||t instanceof p.default.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof p.default.HTMLIFrameElement||t instanceof p.default.HTMLObjectElement||t instanceof p.default.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable")})},i}(g);Xe.prototype.options_={pauseOnOpen:!0,temporary:!0};g.registerComponent("ModalDialog",Xe);var Ue=function(s){m.default(i,s);function i(r){var e;r===void 0&&(r=[]),e=s.call(this)||this,e.tracks_=[],Object.defineProperty(A.default(e),"length",{get:function(){return this.tracks_.length}});for(var t=0;t<r.length;t++)e.addTrack(r[t]);return e}var n=i.prototype;return n.addTrack=function(e){var t=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},ce(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,a=0,o=this.length;a<o;a++)if(this[a]===e){t=this[a],t.off&&t.off(),this.tracks_.splice(a,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,a=0,o=this.length;a<o;a++){var l=this[a];if(l.id===e){t=l;break}}return t},i}(j);Ue.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var po in Ue.prototype.allowedEvents_)Ue.prototype["on"+po]=null;var ir=function(i,n){for(var r=0;r<i.length;r++)!Object.keys(i[r]).length||n.id===i[r].id||(i[r].enabled=!1)},vo=function(s){m.default(i,s);function i(r){var e;r===void 0&&(r=[]);for(var t=r.length-1;t>=0;t--)if(r[t].enabled){ir(r,r[t]);break}return e=s.call(this,r)||this,e.changing_=!1,e}var n=i.prototype;return n.addTrack=function(e){var t=this;e.enabled&&ir(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,ir(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){s.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},i}(Ue),nr=function(i,n){for(var r=0;r<i.length;r++)!Object.keys(i[r]).length||n.id===i[r].id||(i[r].selected=!1)},go=function(s){m.default(i,s);function i(r){var e;r===void 0&&(r=[]);for(var t=r.length-1;t>=0;t--)if(r[t].selected){nr(r,r[t]);break}return e=s.call(this,r)||this,e.changing_=!1,Object.defineProperty(A.default(e),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),e}var n=i.prototype;return n.addTrack=function(e){var t=this;e.selected&&nr(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,nr(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){s.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},i}(Ue),jn=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.addTrack=function(e){var t=this;s.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){s.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},i}(Ue),_o=function(){function s(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var r=0,e=n.length;r<e;r++)this.addTrackElement_(n[r])}var i=s.prototype;return i.addTrackElement_=function(r){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),this.trackElements_.indexOf(r)===-1&&this.trackElements_.push(r)},i.getTrackElementByTrack_=function(r){for(var e,t=0,a=this.trackElements_.length;t<a;t++)if(r===this.trackElements_[t].track){e=this.trackElements_[t];break}return e},i.removeTrackElement_=function(r){for(var e=0,t=this.trackElements_.length;e<t;e++)if(r===this.trackElements_[e]){this.trackElements_[e].track&&typeof this.trackElements_[e].track.off=="function"&&this.trackElements_[e].track.off(),typeof this.trackElements_[e].off=="function"&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},s}(),Ti=function(){function s(n){s.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var i=s.prototype;return i.setCues_=function(r){var e=this.length||0,t=0,a=r.length;this.cues_=r,this.length_=r.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(e<a)for(t=e;t<a;t++)o.call(this,t)},i.getCueById=function(r){for(var e=null,t=0,a=this.length;t<a;t++){var o=this[t];if(o.id===r){e=o;break}}return e},s}(),yo={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mo={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},To={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},bi={disabled:"disabled",hidden:"hidden",showing:"showing"},Fr=function(s){m.default(i,s);function i(n){var r;n===void 0&&(n={}),r=s.call(this)||this;var e={id:n.id||"vjs_track_"+ge(),kind:n.kind||"",language:n.language||""},t=n.label||"",a=function(u){Object.defineProperty(A.default(r),u,{get:function(){return e[u]},set:function(){}})};for(var o in e)a(o);return Object.defineProperty(A.default(r),"label",{get:function(){return t},set:function(u){u!==t&&(t=u,this.trigger("labelchange"))}}),r}return i}(j),jr=function(i){var n=["protocol","hostname","port","pathname","search","hash","host"],r=_.default.createElement("a");r.href=i;for(var e={},t=0;t<n.length;t++)e[n[t]]=r[n[t]];return e.protocol==="http:"&&(e.host=e.host.replace(/:80$/,"")),e.protocol==="https:"&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=p.default.location.protocol),e.host||(e.host=p.default.location.host),e},Vn=function(i){if(!i.match(/^https?:\/\//)){var n=_.default.createElement("a");n.href=i,i=n.href}return i},Vr=function(i){if(typeof i=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,r=n.exec(i);if(r)return r.pop().toLowerCase()}return""},$t=function(i,n){n===void 0&&(n=p.default.location);var r=jr(i),e=r.protocol===":"?n.protocol:r.protocol,t=e+r.host!==n.protocol+n.host;return t},bo=Object.freeze({__proto__:null,parseUrl:jr,getAbsoluteURL:Vn,getFileExtension:Vr,isCrossOrigin:$t}),Ei=function(i,n){var r=new p.default.WebVTT.Parser(p.default,p.default.vttjs,p.default.WebVTT.StringDecoder()),e=[];r.oncue=function(t){n.addCue(t)},r.onparsingerror=function(t){e.push(t)},r.onflush=function(){n.trigger({type:"loadeddata",target:n})},r.parse(i),e.length>0&&(p.default.console&&p.default.console.groupCollapsed&&p.default.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return w.error(t)}),p.default.console&&p.default.console.groupEnd&&p.default.console.groupEnd()),r.flush()},Ci=function(i,n){var r={uri:i},e=$t(i);e&&(r.cors=e);var t=n.tech_.crossOrigin()==="use-credentials";t&&(r.withCredentials=t),sn.default(r,O(this,function(a,o,l){if(a)return w.error(a,o);n.loaded_=!0,typeof p.default.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){w.error("vttjs failed to load, stopping trying to process "+n.src);return}return Ei(l,n)}):Ei(l,n)}))},vt=function(s){m.default(i,s);function i(r){var e;if(r===void 0&&(r={}),!r.tech)throw new Error("A tech was not provided.");var t=L(r,{kind:To[r.kind]||"subtitles",language:r.language||r.srclang||""}),a=bi[t.mode]||"disabled",o=t.default;(t.kind==="metadata"||t.kind==="chapters")&&(a="hidden"),e=s.call(this,t)||this,e.tech_=t.tech,e.cues_=[],e.activeCues_=[],e.preload_=e.tech_.preloadTextTracks!==!1;var l=new Ti(e.cues_),u=new Ti(e.activeCues_),c=!1;e.timeupdateHandler=O(A.default(e),function(h){if(h===void 0&&(h={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var d=function(){e.stopTracking()};return e.tech_.one("dispose",d),a!=="disabled"&&e.startTracking(),Object.defineProperties(A.default(e),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(f){bi[f]&&a!==f&&(a=f,!this.preload_&&a!=="disabled"&&this.cues.length===0&&Ci(this.src,this),this.stopTracking(),a!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var f=this.tech_.currentTime(),v=[],b=0,S=this.cues.length;b<S;b++){var T=this.cues[b];(T.startTime<=f&&T.endTime>=f||T.startTime===T.endTime&&T.startTime<=f&&T.startTime+.5>=f)&&v.push(T)}if(c=!1,v.length!==this.activeCues_.length)c=!0;else for(var k=0;k<v.length;k++)this.activeCues_.indexOf(v[k])===-1&&(c=!0);return this.activeCues_=v,u.setCues_(this.activeCues_),u},set:function(){}}}),t.src?(e.src=t.src,e.preload_||(e.loaded_=!0),(e.preload_||t.kind!=="subtitles"&&t.kind!=="captions")&&Ci(e.src,A.default(e))):e.loaded_=!0,e}var n=i.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(e){var t=e;if(t.constructor&&t.constructor.name!=="VTTCue"){t=new p.default.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var a in e)a in t||(t[a]=e[a]);t.id=e.id,t.originalCue_=e}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var a=this.cues_[t];if(a===e||a.originalCue_&&a.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},i}(Fr);vt.prototype.allowedEvents_={cuechange:"cuechange"};var Bn=function(s){m.default(i,s);function i(n){var r;n===void 0&&(n={});var e=L(n,{kind:mo[n.kind]||""});r=s.call(this,e)||this;var t=!1;return Object.defineProperty(A.default(r),"enabled",{get:function(){return t},set:function(o){typeof o!="boolean"||o===t||(t=o,this.trigger("enabledchange"))}}),e.enabled&&(r.enabled=e.enabled),r.loaded_=!0,r}return i}(Fr),Hn=function(s){m.default(i,s);function i(n){var r;n===void 0&&(n={});var e=L(n,{kind:yo[n.kind]||""});r=s.call(this,e)||this;var t=!1;return Object.defineProperty(A.default(r),"selected",{get:function(){return t},set:function(o){typeof o!="boolean"||o===t||(t=o,this.trigger("selectedchange"))}}),e.selected&&(r.selected=e.selected),r}return i}(Fr),Un=0,Eo=1,Wn=2,Co=3,Ye=function(s){m.default(i,s);function i(n){var r;n===void 0&&(n={}),r=s.call(this)||this;var e,t=new vt(n);return r.kind=t.kind,r.src=t.src,r.srclang=t.language,r.label=t.label,r.default=t.default,Object.defineProperties(A.default(r),{readyState:{get:function(){return e}},track:{get:function(){return t}}}),e=Un,t.addEventListener("loadeddata",function(){e=Wn,r.trigger({type:"load",target:A.default(r)})}),r}return i}(j);Ye.prototype.allowedEvents_={load:"load"};Ye.NONE=Un;Ye.LOADING=Eo;Ye.LOADED=Wn;Ye.ERROR=Co;var J={audio:{ListClass:vo,TrackClass:Bn,capitalName:"Audio"},video:{ListClass:go,TrackClass:Hn,capitalName:"Video"},text:{ListClass:jn,TrackClass:vt,capitalName:"Text"}};Object.keys(J).forEach(function(s){J[s].getterName=s+"Tracks",J[s].privateName=s+"Tracks_"});var We={remoteText:{ListClass:jn,TrackClass:vt,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:_o,TrackClass:Ye,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},B=xr.default({},J,We);We.names=Object.keys(We);J.names=Object.keys(J);B.names=[].concat(We.names).concat(J.names);function ko(s,i,n,r,e){e===void 0&&(e={});var t=s.textTracks();e.kind=i,n&&(e.label=n),r&&(e.language=r),e.tech=s;var a=new B.text.TrackClass(e);return t.addTrack(a),a}var I=function(s){m.default(i,s);function i(r,e){var t;return r===void 0&&(r={}),e===void 0&&(e=function(){}),r.reportTouchActivity=!1,t=s.call(this,null,r,e)||this,t.onDurationChange_=function(a){return t.onDurationChange(a)},t.trackProgress_=function(a){return t.trackProgress(a)},t.trackCurrentTime_=function(a){return t.trackCurrentTime(a)},t.stopTrackingCurrentTime_=function(a){return t.stopTrackingCurrentTime(a)},t.disposeSourceHandler_=function(a){return t.disposeSourceHandler(a)},t.queuedHanders_=new Set,t.hasStarted_=!1,t.on("playing",function(){this.hasStarted_=!0}),t.on("loadstart",function(){this.hasStarted_=!1}),B.names.forEach(function(a){var o=B[a];r&&r[o.getterName]&&(t[o.privateName]=r[o.getterName])}),t.featuresProgressEvents||t.manualProgressOn(),t.featuresTimeupdateEvents||t.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){r["native"+a+"Tracks"]===!1&&(t["featuresNative"+a+"Tracks"]=!1)}),r.nativeCaptions===!1||r.nativeTextTracks===!1?t.featuresNativeTextTracks=!1:(r.nativeCaptions===!0||r.nativeTextTracks===!0)&&(t.featuresNativeTextTracks=!0),t.featuresNativeTextTracks||t.emulateTextTracks(),t.preloadTextTracks=r.preloadTextTracks!==!1,t.autoRemoteTextTracks_=new B.text.ListClass,t.initTrackListeners(),r.nativeControlsForTouch||t.emitTapEvents(),t.constructor&&(t.name_=t.constructor.name||"Unknown Tech"),t}var n=i.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(O(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,t===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return xe(0,0)},n.bufferedPercent=function(){return Fn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(J.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),s.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(a){for(var o=t[a+"Tracks"]()||[],l=o.length;l--;){var u=o[l];a==="text"&&t.removeRemoteTextTrack(u),o.removeTrack(u)}})},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var a=e[t];this.removeRemoteTextTrack(a)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return e!==void 0&&(this.error_=new K(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?xe(0,0):xe()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;J.names.forEach(function(t){var a=J[t],o=function(){e.trigger(t+"trackchange")},l=e[a.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),e.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},n.addWebVttScript_=function(){var e=this;if(!p.default.WebVTT)if(_.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&lt(fi.default)&&Object.keys(fi.default).length>0){this.trigger("vttjsloaded");return}var t=_.default.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),p.default.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),a=this.remoteTextTracks(),o=function(h){return t.addTrack(h.track)},l=function(h){return t.removeTrack(h.track)};a.on("addtrack",o),a.on("removetrack",l),this.addWebVttScript_();var u=function(){return e.trigger("texttrackchange")},c=function(){u();for(var h=0;h<t.length;h++){var f=t[h];f.removeEventListener("cuechange",u),f.mode==="showing"&&f.addEventListener("cuechange",u)}};c(),t.addEventListener("change",c),t.addEventListener("addtrack",c),t.addEventListener("removetrack",c),this.on("dispose",function(){a.off("addtrack",o),a.off("removetrack",l),t.removeEventListener("change",c),t.removeEventListener("addtrack",c),t.removeEventListener("removetrack",c);for(var d=0;d<t.length;d++){var h=t[d];h.removeEventListener("cuechange",u)}})},n.addTextTrack=function(e,t,a){if(!e)throw new Error("TextTrack kind is required but was not provided");return ko(this,e,t,a)},n.createRemoteTextTrack=function(e){var t=L(e,{tech:this});return new We.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var a=this;e===void 0&&(e={});var o=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(w.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),t!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(o.track)}),o},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||p.default.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,a=ge();return!this.isReady_||this.paused()?(this.queuedHanders_.add(a),this.one("playing",function(){t.queuedHanders_.has(a)&&(t.queuedHanders_.delete(a),e())})):this.requestNamedAnimationFrame(a,e),a},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=M(e),i.techs_[e]=t,i.techs_[St(e)]=t,e!=="Tech"&&i.defaultTechOrder_.push(e),t},i.getTech=function(e){if(e){if(i.techs_&&i.techs_[e])return i.techs_[e];if(e=M(e),p.default&&p.default.videojs&&p.default.videojs[e])return w.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),p.default.videojs[e]}},i}(g);B.names.forEach(function(s){var i=B[s];I.prototype[i.getterName]=function(){return this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName]}});I.prototype.featuresVolumeControl=!0;I.prototype.featuresMuteControl=!0;I.prototype.featuresFullscreenResize=!1;I.prototype.featuresPlaybackRate=!1;I.prototype.featuresProgressEvents=!1;I.prototype.featuresSourceset=!1;I.prototype.featuresTimeupdateEvents=!1;I.prototype.featuresNativeTextTracks=!1;I.prototype.featuresVideoFrameCallback=!1;I.withSourceHandlers=function(s){s.registerSourceHandler=function(n,r){var e=s.sourceHandlers;e||(e=s.sourceHandlers=[]),r===void 0&&(r=e.length),e.splice(r,0,n)},s.canPlayType=function(n){for(var r=s.sourceHandlers||[],e,t=0;t<r.length;t++)if(e=r[t].canPlayType(n),e)return e;return""},s.selectSourceHandler=function(n,r){for(var e=s.sourceHandlers||[],t,a=0;a<e.length;a++)if(t=e[a].canHandleSource(n,r),t)return e[a];return null},s.canPlaySource=function(n,r){var e=s.selectSourceHandler(n,r);return e?e.canHandleSource(n,r):""};var i=["seekable","seeking","duration"];i.forEach(function(n){var r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},s.prototype),s.prototype.setSource=function(n){var r=s.selectSourceHandler(n,this.options_);r||(s.nativeSourceHandler?r=s.nativeSourceHandler:w.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==s.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},s.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};g.registerComponent("Tech",I);I.registerTech("Tech",I);I.defaultTechOrder_=[];var Ae={},Tr={},Ot={};function So(s,i){Ae[s]=Ae[s]||[],Ae[s].push(i)}function Po(s,i,n){s.setTimeout(function(){return Se(i,Ae[i.type],n,s)},1)}function wo(s,i){s.forEach(function(n){return n.setTech&&n.setTech(i)})}function xo(s,i,n){return s.reduceRight(Br(n),i[n]())}function Ao(s,i,n,r){return i[n](s.reduce(Br(n),r))}function ki(s,i,n,r){r===void 0&&(r=null);var e="call"+M(n),t=s.reduce(Br(e),r),a=t===Ot,o=a?null:i[n](t);return Oo(s,n,o,a),o}var Io={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Lo={setCurrentTime:1,setMuted:1,setVolume:1},Si={play:1,pause:1};function Br(s){return function(i,n){return i===Ot?Ot:n[s]?n[s](i):i}}function Oo(s,i,n,r){for(var e=s.length-1;e>=0;e--){var t=s[e];t[i]&&t[i](r,n)}}function No(s){Tr[s.id()]=null}function Mo(s,i){var n=Tr[s.id()],r=null;if(n==null)return r=i(s),Tr[s.id()]=[[i,r]],r;for(var e=0;e<n.length;e++){var t=n[e],a=t[0],o=t[1];a===i&&(r=o)}return r===null&&(r=i(s),n.push([i,r])),r}function Se(s,i,n,r,e,t){s===void 0&&(s={}),i===void 0&&(i=[]),e===void 0&&(e=[]),t===void 0&&(t=!1);var a=i,o=a[0],l=a.slice(1);if(typeof o=="string")Se(s,Ae[o],n,r,e,t);else if(o){var u=Mo(r,o);if(!u.setSource)return e.push(u),Se(s,l,n,r,e,t);u.setSource(N({},s),function(c,d){if(c)return Se(s,l,n,r,e,t);e.push(u),Se(d,s.type===d.type?l:Ae[d.type],n,r,e,t)})}else l.length?Se(s,l,n,r,e,t):t?n(s,e):Se(s,Ae["*"],n,r,e,!0)}var Ro={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Nt=function(i){i===void 0&&(i="");var n=Vr(i),r=Ro[n.toLowerCase()];return r||""},Do=function(i,n){if(!n)return"";if(i.cache_.source.src===n&&i.cache_.source.type)return i.cache_.source.type;var r=i.cache_.sources.filter(function(o){return o.src===n});if(r.length)return r[0].type;for(var e=i.$$("source"),t=0;t<e.length;t++){var a=e[t];if(a.type&&a.src&&a.src===n)return a.type}return Nt(n)},Fo=function s(i){if(Array.isArray(i)){var n=[];i.forEach(function(r){r=s(r),Array.isArray(r)?n=n.concat(r):de(r)&&n.push(r)}),i=n}else typeof i=="string"&&i.trim()?i=[Pi({src:i})]:de(i)&&typeof i.src=="string"&&i.src&&i.src.trim()?i=[Pi(i)]:i=[];return i};function Pi(s){if(!s.type){var i=Nt(s.src);i&&(s.type=i)}return s}var jo=function(s){m.default(i,s);function i(n,r,e){var t,a=L({createEl:!1},r);if(t=s.call(this,n,a,e)||this,!r.playerOptions.sources||r.playerOptions.sources.length===0)for(var o=0,l=r.playerOptions.techOrder;o<l.length;o++){var u=M(l[o]),c=I.getTech(u);if(u||(c=g.getComponent(u)),c&&c.isSupported()){n.loadTech_(u);break}}else n.src(r.playerOptions.sources);return t}return i}(g);g.registerComponent("MediaLoader",jo);var Gt=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.options_.controlText&&t.controlText(t.options_.controlText),t.handleMouseOver_=function(a){return t.handleMouseOver(a)},t.handleMouseOut_=function(a){return t.handleMouseOut(a)},t.handleClick_=function(a){return t.handleClick(a)},t.handleKeyDown_=function(a){return t.handleKeyDown(a)},t.emitTapEvents(),t.enable(),t}var n=i.prototype;return n.createEl=function(e,t,a){e===void 0&&(e="div"),t===void 0&&(t={}),a===void 0&&(a={}),t=N({className:this.buildCSSClass(),tabIndex:0},t),e==="button"&&w.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),a=N({role:"button"},a),this.tabIndex_=t.tabIndex;var o=x(e,t,a);return o.appendChild(x("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,s.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=x("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(t===void 0&&(t=this.el()),e===void 0)return this.controlText_||"Need Text";var a=this.localize(e);this.controlText_=e,Oe(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&t.setAttribute("title",a)},n.buildCSSClass=function(){return"vjs-control vjs-button "+s.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){P.default.isEventKey(e,"Space")||P.default.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):s.prototype.handleKeyDown.call(this,e)},i}(g);g.registerComponent("ClickableComponent",Gt);var Vo=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update(),t.update_=function(a){return t.update(a)},r.on("posterchange",t.update_),t}var n=i.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),s.prototype.dispose.call(this)},n.createEl=function(){var e=x("div",{className:"vjs-poster",tabIndex:-1});return e},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((ft||dt)&&t)&&this.player_.tech(!0).focus(),this.player_.paused()?ie(this.player_.play()):this.player_.pause()}},i}(Gt);g.registerComponent("PosterImage",Vo);var Y="#222",wi="#ccc",Bo={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function sr(s,i){var n;if(s.length===4)n=s[1]+s[1]+s[2]+s[2]+s[3]+s[3];else if(s.length===7)n=s.slice(1);else throw new Error("Invalid color code provided, "+s+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+i+")"}function ar(s,i,n){try{s.style[i]=n}catch{return}}var Ho=function(s){m.default(i,s);function i(r,e,t){var a;a=s.call(this,r,e,t)||this;var o=function(u){return a.updateDisplay(u)};return r.on("loadstart",function(l){return a.toggleDisplay(l)}),r.on("texttrackchange",o),r.on("loadedmetadata",function(l){return a.preselectTrack(l)}),r.ready(O(A.default(a),function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",o),r.on("playerresize",o),p.default.addEventListener("orientationchange",o),r.on("dispose",function(){return p.default.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),a}var n=i.prototype;return n.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<t.length;c++){var d=t[c];a&&a.enabled&&a.language&&a.language===d.language&&d.kind in e?d.kind===a.kind?u=d:u||(u=d):a&&!a.enabled?(u=null,o=null,l=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in e&&!l&&(l=d))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof p.default.WebVTT=="function"&&p.default.WebVTT.processCues(p.default,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var a=[],o=0;o<e.length;++o){var l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var u=null,c=null,d=e.length;d--;){var h=e[d];h.mode==="showing"&&(h.kind==="descriptions"?u=h:c=h)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),a=e.activeCues,o=a.length;o--;){var l=a[o];if(l){var u=l.displayState;if(t.color&&(u.firstChild.style.color=t.color),t.textOpacity&&ar(u.firstChild,"color",sr(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(u.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ar(u.firstChild,"backgroundColor",sr(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ar(u,"backgroundColor",sr(t.windowColor,t.windowOpacity)):u.style.backgroundColor=t.windowColor),t.edgeStyle&&(t.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Y+", 2px 2px 4px "+Y+", 2px 2px 5px "+Y:t.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Y+", 2px 2px "+Y+", 3px 3px "+Y:t.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+wi+", 0 1px "+wi+", -1px -1px "+Y+", 0 -1px "+Y:t.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Y+", 0 0 4px "+Y+", 0 0 4px "+Y+", 0 0 4px "+Y)),t.fontPercent&&t.fontPercent!==1){var c=p.default.parseFloat(u.style.fontSize);u.style.fontSize=c*t.fontPercent+"px",u.style.height="auto",u.style.top="auto"}t.fontFamily&&t.fontFamily!=="default"&&(t.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=Bo[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),!(typeof p.default.WebVTT!="function"||e.every(function(f){return!f.activeCues}))){for(var t=[],a=0;a<e.length;++a)for(var o=e[a],l=0;l<o.activeCues.length;++l)t.push(o.activeCues[l]);p.default.WebVTT.processCues(p.default,t,this.el_);for(var u=0;u<e.length;++u){for(var c=e[u],d=0;d<c.activeCues.length;++d){var h=c.activeCues[d].displayState;ue(h,"vjs-text-track-cue"),ue(h,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&Be(h,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},i}(g);g.registerComponent("TextTrackDisplay",Ho);var Uo=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),a=x("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),o=s.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(a),o},i}(g);g.registerComponent("LoadingSpinner",Uo);var ee=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(e,t,a){t===void 0&&(t={}),a===void 0&&(a={}),e="button",t=N({className:this.buildCSSClass()},t),a=N({type:"button"},a);var o=x(e,t,a);return o.appendChild(x("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},n.addChild=function(e,t){t===void 0&&(t={});var a=this.constructor.name;return w.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),g.prototype.addChild.call(this,e,t)},n.enable=function(){s.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){s.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){if(P.default.isEventKey(e,"Space")||P.default.isEventKey(e,"Enter")){e.stopPropagation();return}s.prototype.handleKeyDown.call(this,e)},i}(Gt);g.registerComponent("Button",ee);var Kn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.mouseused_=!1,t.on("mousedown",function(a){return t.handleMouseDown(a)}),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;ie(t),this.player_.tech(!0)&&!((ft||dt)&&a)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};ot(t)?t.then(u,function(){}):this.setTimeout(u,1)},n.handleKeyDown=function(e){this.mouseused_=!1,s.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(e){this.mouseused_=!0},i}(ee);Kn.prototype.controlText_="Play Video";g.registerComponent("BigPlayButton",Kn);var Wo=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.controlText(e&&e.controlText||t.localize("Close")),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+s.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){P.default.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):s.prototype.handleKeyDown.call(this,e)},i}(ee);g.registerComponent("CloseButton",Wo);var zn=function(s){m.default(i,s);function i(r,e){var t;return e===void 0&&(e={}),t=s.call(this,r,e)||this,e.replay=e.replay===void 0||e.replay,t.on(r,"play",function(a){return t.handlePlay(a)}),t.on(r,"pause",function(a){return t.handlePause(a)}),e.replay&&t.on(r,"ended",function(a){return t.handleEnded(a)}),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+s.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?ie(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return t.handleSeeked(a)})},i}(ee);zn.prototype.controlText_="Play";g.registerComponent("PlayToggle",zn);var qn=function(i,n){i=i<0?0:i;var r=Math.floor(i%60),e=Math.floor(i/60%60),t=Math.floor(i/3600),a=Math.floor(n/60%60),o=Math.floor(n/3600);return(isNaN(i)||i===1/0)&&(t=e=r="-"),t=t>0||o>0?t+":":"",e=((t||a>=10)&&e<10?"0"+e:e)+":",r=r<10?"0"+r:r,t+e+r},Hr=qn;function Ko(s){Hr=s}function zo(){Hr=qn}function Ke(s,i){return i===void 0&&(i=s),Hr(s,i)}var Qe=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on(r,["timeupdate","ended"],function(a){return t.updateContent(a)}),t.updateTextNode_(),t}var n=i.prototype;return n.createEl=function(){var e=this.buildCSSClass(),t=s.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),a=x("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return t.appendChild(a),this.contentEl_=x("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,this.textNode_=null,s.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;e===void 0&&(e=0),e=Ke(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(t.contentEl_){var a=t.textNode_;a&&t.contentEl_.firstChild!==a&&(a=null,w.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=_.default.createTextNode(t.formattedTime_),t.textNode_&&(a?t.contentEl_.replaceChild(t.textNode_,a):t.contentEl_.appendChild(t.textNode_))}}))},n.updateContent=function(e){},i}(g);Qe.prototype.labelText_="Time";Qe.prototype.controlText_="Time";g.registerComponent("TimeDisplay",Qe);var Ur=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;this.player_.ended()?t=this.player_.duration():t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},i}(Qe);Ur.prototype.labelText_="Current Time";Ur.prototype.controlText_="Current Time";g.registerComponent("CurrentTimeDisplay",Ur);var Wr=function(s){m.default(i,s);function i(r,e){var t;t=s.call(this,r,e)||this;var a=function(l){return t.updateContent(l)};return t.on(r,"durationchange",a),t.on(r,"loadstart",a),t.on(r,"loadedmetadata",a),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},i}(Qe);Wr.prototype.labelText_="Duration";Wr.prototype.controlText_="Duration";g.registerComponent("DurationDisplay",Wr);var qo=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=s.prototype.createEl.call(this,"div"),a=s.prototype.createEl.call(this,"span",{textContent:"/"});return t.appendChild(a),e.appendChild(t),e},i}(g);g.registerComponent("TimeDivider",qo);var Kr=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on(r,"durationchange",function(a){return t.updateContent(a)}),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=s.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&e.insertBefore(x("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(e){if(typeof this.player_.duration()=="number"){var t;this.player_.ended()?t=0:this.player_.remainingTimeDisplay?t=this.player_.remainingTimeDisplay():t=this.player_.remainingTime(),this.updateTextNode_(t)}},i}(Qe);Kr.prototype.labelText_="Remaining Time";Kr.prototype.controlText_="Remaining Time";g.registerComponent("RemainingTimeDisplay",Kr);var $o=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.updateShowing(),t.on(t.player(),"durationchange",function(a){return t.updateShowing(a)}),t}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=x("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(x("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(_.default.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,s.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},i}(g);g.registerComponent("LiveDisplay",$o);var $n=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.updateLiveEdgeStatus(),t.player_.liveTracker&&(t.updateLiveEdgeStatusHandler_=function(a){return t.updateLiveEdgeStatus(a)},t.on(t.player_.liveTracker,"liveedgechange",t.updateLiveEdgeStatusHandler_)),t}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=x("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,s.prototype.dispose.call(this)},i}(ee);$n.prototype.controlText_="Seek to live, currently playing live";g.registerComponent("SeekToLive",$n);var Xt=function(i,n,r){return i=Number(i),Math.min(r,Math.max(n,isNaN(i)?n:i))},zr=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.handleMouseDown_=function(a){return t.handleMouseDown(a)},t.handleMouseUp_=function(a){return t.handleMouseUp(a)},t.handleKeyDown_=function(a){return t.handleKeyDown(a)},t.handleClick_=function(a){return t.handleClick(a)},t.handleMouseMove_=function(a){return t.handleMouseMove(a)},t.update_=function(a){return t.update(a)},t.bar=t.getChild(t.options_.barName),t.vertical(!!t.options_.vertical),t.enable(),t}var n=i.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,t,a){return t===void 0&&(t={}),a===void 0&&(a={}),t.className=t.className+" vjs-slider",t=N({tabIndex:0},t),a=N({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),s.prototype.createEl.call(this,e,t,a)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ve&&e.preventDefault(),En(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Cn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(!(!this.el_||!this.bar)){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",function(){var a=e.vertical()?"height":"width";e.bar.el().style[a]=(t*100).toFixed(2)+"%"})),t}},n.getProgress=function(){return Number(Xt(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Wt(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(e){P.default.isEventKey(e,"Left")||P.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):P.default.isEventKey(e,"Right")||P.default.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):s.prototype.handleKeyDown.call(this,e)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(g);g.registerComponent("Slider",zr);var or=function(i,n){return Xt(i/n*100,0,100).toFixed(2)+"%"},Go=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.partEls_=[],t.on(r,"progress",function(a){return t.update(a)}),t}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=x("span",{className:"vjs-control-text"}),a=x("span",{textContent:this.localize("Loaded")}),o=_.default.createTextNode(": ");return this.percentageEl_=x("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(a),t.appendChild(o),t.appendChild(this.percentageEl_),e},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,s.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=t.player_.liveTracker,o=t.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():t.player_.duration(),u=t.player_.bufferedEnd(),c=t.partEls_,d=or(u,l);t.percent_!==d&&(t.el_.style.width=d,Oe(t.percentageEl_,d),t.percent_=d);for(var h=0;h<o.length;h++){var f=o.start(h),v=o.end(h),b=c[h];b||(b=t.el_.appendChild(x()),c[h]=b),!(b.dataset.start===f&&b.dataset.end===v)&&(b.dataset.start=f,b.dataset.end=v,b.style.left=or(f,u),b.style.width=or(v-f,u))}for(var S=c.length;S>o.length;S--)t.el_.removeChild(c[S-1]);c.length=o.length})},i}(g);g.registerComponent("LoadProgressBar",Go);var Xo=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update=fe(O(A.default(t),t.update),te),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,a){var o=ct(this.el_),l=He(this.player_.el()),u=e.width*t;if(!(!l||!o)){var c=e.left-l.left+u,d=e.width-u+(l.right-e.right),h=o.width/2;c<h?h+=h-c:d<h&&(h=d),h<0?h=0:h>o.width&&(h=o.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(a)}},n.write=function(e){Oe(this.el_,e)},n.updateTime=function(e,t,a,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var d=l.player_.liveTracker.liveWindow(),h=d-t*d;u=(h<1?"":"-")+Ke(h,d)}else u=Ke(a,c);l.update(e,t,u),o&&o()})},i}(g);g.registerComponent("TimeTooltip",Xo);var qr=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update=fe(O(A.default(t),t.update),te),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var a=this.getChild("timeTooltip");if(a){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(e,t,o)}},i}(g);qr.prototype.options_={children:[]};!z&&!pe&&qr.prototype.options_.children.push("timeTooltip");g.registerComponent("PlayProgressBar",qr);var Gn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update=fe(O(A.default(t),t.update),te),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var a=this,o=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,o,function(){a.el_.style.left=e.width*t+"px"})},i}(g);Gn.prototype.options_={children:["timeTooltip"]};g.registerComponent("MouseTimeDisplay",Gn);var Et=5,xi=12,$r=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.setEventHandlers_(),t}var n=i.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=O(this,this.update),this.update=fe(this.update_,te),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in _.default&&"visibilityState"in _.default&&this.on(_.default,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){_.default.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,te))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(e){var t=this;if(_.default.visibilityState!=="hidden"){var a=s.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=t.player_.ended()?t.player_.duration():t.getCurrentTime_(),l=t.player_.liveTracker,u=t.player_.duration();l&&l.isLive()&&(u=t.player_.liveTracker.liveCurrentTime()),t.percent_!==a&&(t.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),t.percent_=a),(t.currentTime_!==o||t.duration_!==u)&&(t.el_.setAttribute("aria-valuetext",t.localize("progress bar timing: currentTime={1} duration={2}",[Ke(o,u),Ke(u,u)],"{1} of {2}")),t.currentTime_=o,t.duration_=u),t.bar&&t.bar.update(He(t.el()),t.getProgress())}),a}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e=this.getCurrentTime_(),t,a=this.player_.liveTracker;return a&&a.isLive()?(t=(e-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},n.handleMouseDown=function(e){ht(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),s.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(e,t){if(t===void 0&&(t=!1),!!ht(e)){!t&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,o=this.calculateDistance(e),l=this.player_.liveTracker;if(!l||!l.isLive())a=o*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(a=u+o*l.liveWindow(),a>=c&&(a=c),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},n.enable=function(){s.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){s.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){s.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ie(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+Et)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-Et)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(e){var t=this.player_.liveTracker;if(P.default.isEventKey(e,"Space")||P.default.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(P.default.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(P.default.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(P.default(e))){e.preventDefault(),e.stopPropagation();var a=(P.default.codes[P.default(e)]-P.default.codes[0])*10/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else P.default.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Et*xi)):P.default.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Et*xi)):s.prototype.handleKeyDown.call(this,e)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in _.default&&"visibilityState"in _.default&&this.off(_.default,"visibilitychange",this.toggleVisibility_),s.prototype.dispose.call(this)},i}(zr);$r.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!z&&!pe&&$r.prototype.options_.children.splice(1,0,"mouseTimeDisplay");g.registerComponent("SeekBar",$r);var Xn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.handleMouseMove=fe(O(A.default(t),t.handleMouseMove),te),t.throttledHandleMouseSeek=fe(O(A.default(t),t.handleMouseSeek),te),t.handleMouseUpHandler_=function(a){return t.handleMouseUp(a)},t.handleMouseDownHandler_=function(a){return t.handleMouseDown(a)},t.enable(),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var a=t.getChild("playProgressBar"),o=t.getChild("mouseTimeDisplay");if(!(!a&&!o)){var l=t.el(),u=ct(l),c=Wt(l,e).x;c=Xt(c,0,1),o&&o.update(u,c),a&&a.update(u,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach(function(t){return t.disable&&t.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&ie(this.player_.play())}},n.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},i}(g);Xn.prototype.options_={children:["seekBar"]};g.registerComponent("ProgressControl",Xn);var Yn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on(r,["enterpictureinpicture","leavepictureinpicture"],function(a){return t.handlePictureInPictureChange(a)}),t.on(r,["disablepictureinpicturechanged","loadedmetadata"],function(a){return t.handlePictureInPictureEnabledChange(a)}),t.on(r,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var a=r.currentType().substring(0,5)==="audio";a||r.audioPosterMode()||r.audioOnlyMode()?(r.isInPictureInPicture()&&r.exitPictureInPicture(),t.hide()):t.show()}),t.disable(),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+s.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){_.default.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},i}(ee);Yn.prototype.controlText_="Picture-in-Picture";g.registerComponent("PictureInPictureToggle",Yn);var Qn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on(r,"fullscreenchange",function(a){return t.handleFullscreenChange(a)}),_.default[r.fsApi_.fullscreenEnabled]===!1&&t.disable(),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+s.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(ee);Qn.prototype.controlText_="Fullscreen";g.registerComponent("FullscreenToggle",Qn);var Yo=function(i,n){n.tech_&&!n.tech_.featuresVolumeControl&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")})},Qo=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(s.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},i}(g);g.registerComponent("VolumeLevel",Qo);var Jo=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update=fe(O(A.default(t),t.update),te),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,a,o){if(!a){var l=He(this.el_),u=He(this.player_.el()),c=e.width*t;if(!u||!l)return;var d=e.left-u.left+c,h=e.width-c+(u.right-e.right),f=l.width/2;d<f?f+=f-d:h<f&&(f=h),f<0?f=0:f>l.width&&(f=l.width),this.el_.style.right="-"+f+"px"}this.write(o+"%")},n.write=function(e){Oe(this.el_,e)},n.updateVolume=function(e,t,a,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(e,t,a,o.toFixed(0)),l&&l()})},i}(g);g.registerComponent("VolumeLevelTooltip",Jo);var Jn=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.update=fe(O(A.default(t),t.update),te),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,a){var o=this,l=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,a,l,function(){a?o.el_.style.bottom=e.height*t+"px":o.el_.style.left=e.width*t+"px"})},i}(g);Jn.prototype.options_={children:["volumeLevelTooltip"]};g.registerComponent("MouseVolumeLevelDisplay",Jn);var Yt=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on("slideractive",function(a){return t.updateLastVolume_(a)}),t.on(r,"volumechange",function(a){return t.updateARIAAttributes(a)}),r.ready(function(){return t.updateARIAAttributes()}),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){ht(e)&&s.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var a=this.el(),o=He(a),l=this.vertical(),u=Wt(a,e);u=l?u.y:u.x,u=Xt(u,0,1),t.update(o,u,l)}ht(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){e.player_.volume()===0&&e.player_.lastVolume_(t)})},i}(zr);Yt.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!z&&!pe&&Yt.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Yt.prototype.playerEvent="volumechange";g.registerComponent("VolumeBar",Yt);var Zn=function(s){m.default(i,s);function i(r,e){var t;return e===void 0&&(e={}),e.vertical=e.vertical||!1,(typeof e.volumeBar>"u"||lt(e.volumeBar))&&(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),t=s.call(this,r,e)||this,Yo(A.default(t),r),t.throttledHandleMouseMove=fe(O(A.default(t),t.handleMouseMove),te),t.handleMouseUpHandler_=function(a){return t.handleMouseUp(a)},t.on("mousedown",function(a){return t.handleMouseDown(a)}),t.on("touchstart",function(a){return t.handleMouseDown(a)}),t.on("mousemove",function(a){return t.handleMouseMove(a)}),t.on(t.volumeBar,["focus","slideractive"],function(){t.volumeBar.addClass("vjs-slider-active"),t.addClass("vjs-slider-active"),t.trigger("slideractive")}),t.on(t.volumeBar,["blur","sliderinactive"],function(){t.volumeBar.removeClass("vjs-slider-active"),t.removeClass("vjs-slider-active"),t.trigger("sliderinactive")}),t}var n=i.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},i}(g);Zn.prototype.options_={children:["volumeBar"]};g.registerComponent("VolumeControl",Zn);var Zo=function(i,n){n.tech_&&!n.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){n.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")})},es=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,Zo(A.default(t),r),t.on(r,["loadstart","volumechange"],function(a){return t.update(a)}),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+s.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),a=this.player_.lastVolume_();if(t===0){var o=a<.1?.1:a;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;z&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var a=0;a<4;a++)pt(this.el_,"vjs-vol-"+a);ue(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||this.player_.volume()===0,t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},i}(ee);es.prototype.controlText_="Mute";g.registerComponent("MuteToggle",es);var ts=function(s){m.default(i,s);function i(r,e){var t;return e===void 0&&(e={}),typeof e.inline<"u"?e.inline=e.inline:e.inline=!0,(typeof e.volumeControl>"u"||lt(e.volumeControl))&&(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),t=s.call(this,r,e)||this,t.handleKeyPressHandler_=function(a){return t.handleKeyPress(a)},t.on(r,["loadstart"],function(a){return t.volumePanelState_(a)}),t.on(t.muteToggle,"keyup",function(a){return t.handleKeyPress(a)}),t.on(t.volumeControl,"keyup",function(a){return t.handleVolumeControlKeyUp(a)}),t.on("keydown",function(a){return t.handleKeyPress(a)}),t.on("mouseover",function(a){return t.handleMouseOver(a)}),t.on("mouseout",function(a){return t.handleMouseOut(a)}),t.on(t.volumeControl,["slideractive"],t.sliderActive_),t.on(t.volumeControl,["sliderinactive"],t.sliderInactive_),t}var n=i.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},n.dispose=function(){this.handleMouseOut(),s.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){P.default.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),G(_.default,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),V(_.default,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){P.default.isEventKey(e,"Esc")&&this.handleMouseOut()},i}(g);ts.prototype.options_={children:["muteToggle","volumeControl"]};g.registerComponent("VolumePanel",ts);var rs=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",function(a){return t.handleKeyDown(a)}),t.boundHandleBlur_=function(a){return t.handleBlur(a)},t.boundHandleTapClick_=function(a){return t.handleTapClick(a)},t}var n=i.prototype;return n.addEventListenerForItem=function(e){e instanceof g&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof g&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),s.prototype.removeChild.call(this,e)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=x(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=s.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),G(t,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),t},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,s.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||_.default.activeElement;if(!this.children().some(function(o){return o.el()===t})){var a=this.menuButton_;a&&a.buttonPressed_&&t!==a.el().firstChild&&a.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var a=t.filter(function(o){return o.el()===e.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(e){P.default.isEventKey(e,"Left")||P.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(P.default.isEventKey(e,"Right")||P.default.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){e===void 0&&(e=0);var t=this.children().slice(),a=t.length&&t[0].hasClass("vjs-menu-title");a&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},i}(g);g.registerComponent("Menu",rs);var Gr=function(s){m.default(i,s);function i(r,e){var t;e===void 0&&(e={}),t=s.call(this,r,e)||this,t.menuButton_=new ee(r,e),t.menuButton_.controlText(t.controlText_),t.menuButton_.el_.setAttribute("aria-haspopup","true");var a=ee.prototype.buildCSSClass();t.menuButton_.el_.className=t.buildCSSClass()+" "+a,t.menuButton_.removeClass("vjs-control"),t.addChild(t.menuButton_),t.update(),t.enabled_=!0;var o=function(u){return t.handleClick(u)};return t.handleMenuKeyUp_=function(l){return t.handleMenuKeyUp(l)},t.on(t.menuButton_,"tap",o),t.on(t.menuButton_,"click",o),t.on(t.menuButton_,"keydown",function(l){return t.handleKeyDown(l)}),t.on(t.menuButton_,"mouseenter",function(){t.addClass("vjs-hover"),t.menu.show(),G(_.default,"keyup",t.handleMenuKeyUp_)}),t.on("mouseleave",function(l){return t.handleMouseLeave(l)}),t.on("keydown",function(l){return t.handleSubmenuKeyDown(l)}),t}var n=i.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new rs(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=x("li",{className:"vjs-menu-title",textContent:M(this.options_.title),tabIndex:-1}),a=new g(this.player_,{el:t});e.addItem(a)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)e.addItem(this.items[o]);return e},n.createItems=function(){},n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";var t=ee.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+t+" "+s.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+s.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return t===void 0&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),s.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),V(_.default,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){P.default.isEventKey(e,"Esc")||P.default.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),P.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(P.default.isEventKey(e,"Up")||P.default.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(P.default.isEventKey(e,"Esc")||P.default.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(P.default.isEventKey(e,"Esc")||P.default.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),P.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),z&&_n())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},i}(g);g.registerComponent("MenuButton",Gr);var Xr=function(s){m.default(i,s);function i(n,r){var e,t=r.tracks;if(e=s.call(this,n,r)||this,e.items.length<=1&&e.hide(),!t)return A.default(e);var a=O(A.default(e),e.update);return t.addEventListener("removetrack",a),t.addEventListener("addtrack",a),t.addEventListener("labelchange",a),e.player_.on("ready",a),e.player_.on("dispose",function(){t.removeEventListener("removetrack",a),t.removeEventListener("addtrack",a),t.removeEventListener("labelchange",a)}),e}return i}(Gr);g.registerComponent("TrackButton",Xr);var el=["Tab","Esc","Up","Down","Right","Left"],gt=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}var n=i.prototype;return n.createEl=function(e,t,a){this.nonIconControl=!0;var o=s.prototype.createEl.call(this,"li",N({className:"vjs-menu-item",tabIndex:-1},t),a);return o.replaceChild(x("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},n.handleKeyDown=function(e){el.some(function(t){return P.default.isEventKey(e,t)})||s.prototype.handleKeyDown.call(this,e)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},i}(Gt);g.registerComponent("MenuItem",gt);var _t=function(s){m.default(i,s);function i(r,e){var t,a=e.track,o=r.textTracks();e.label=a.label||a.language||"Unknown",e.selected=a.mode==="showing",t=s.call(this,r,e)||this,t.track=a,t.kinds=(e.kinds||[e.kind||t.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,f=new Array(h),v=0;v<h;v++)f[v]=arguments[v];t.handleTracksChange.apply(A.default(t),f)},u=function(){for(var h=arguments.length,f=new Array(h),v=0;v<h;v++)f[v]=arguments[v];t.handleSelectedLanguageChange.apply(A.default(t),f)};if(r.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),t.on("dispose",function(){r.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;t.on(["tap","click"],function(){if(typeof p.default.Event!="object")try{c=new p.default.Event("change")}catch{}c||(c=_.default.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return t.handleTracksChange(),t}var n=i.prototype;return n.handleClick=function(e){var t=this.track,a=this.player_.textTracks();if(s.prototype.handleClick.call(this,e),!!a)for(var o=0;o<a.length;o++){var l=a[o];this.kinds.indexOf(l.kind)!==-1&&(l===t?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},n.handleTracksChange=function(e){var t=this.track.mode==="showing";t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if(this.track.mode==="showing"){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,s.prototype.dispose.call(this)},i}(gt);g.registerComponent("TextTrackMenuItem",_t);var is=function(s){m.default(i,s);function i(r,e){return e.track={player:r,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,s.call(this,r,e)||this}var n=i.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),a=!0,o=0,l=t.length;o<l;o++){var u=t[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),a=!0,o=0,l=t.length;o<l;o++){var u=t[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(_t);g.registerComponent("OffTextTrackMenuItem",is);var Je=function(s){m.default(i,s);function i(r,e){return e===void 0&&(e={}),e.tracks=r.textTracks(),s.call(this,r,e)||this}var n=i.prototype;return n.createItems=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=_t);var a;this.label_&&(a=this.label_+" off"),e.push(new is(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new t(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),e.push(c)}}return e},i}(Xr);g.registerComponent("TextTrackButton",Je);var ns=function(s){m.default(i,s);function i(r,e){var t,a=e.track,o=e.cue,l=r.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=o.text,e.selected=o.startTime<=l&&l<o.endTime,t=s.call(this,r,e)||this,t.track=a,t.cue=o,t}var n=i.prototype;return n.handleClick=function(e){s.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},i}(gt);g.registerComponent("ChaptersTrackMenuItem",ns);var Yr=function(s){m.default(i,s);function i(r,e,t){var a;return a=s.call(this,r,e,t)||this,a.selectCurrentItem_=function(){a.items.forEach(function(o){o.selected(a.track_.activeCues[0]===o.cue)})},a}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+s.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){if(!(e&&e.track&&e.track.kind!=="chapters")){var t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),s.prototype.update.call(this)):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&s.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var a=e[t];if(a.kind===this.kind_)return a}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(M(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),s.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var a=0,o=t.length;a<o;a++){var l=t[a],u=new ns(this.player_,{track:this.track_,cue:l});e.push(u)}return e},i}(Je);Yr.prototype.kind_="chapters";Yr.prototype.controlText_="Chapters";g.registerComponent("ChaptersButton",Yr);var Qr=function(s){m.default(i,s);function i(r,e,t){var a;a=s.call(this,r,e,t)||this;var o=r.textTracks(),l=O(A.default(a),a.handleTracksChange);return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var n=i.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),a=!1,o=0,l=t.length;o<l;o++){var u=t[o];if(u.kind!==this.kind_&&u.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildWrapperCSSClass.call(this)},i}(Je);Qr.prototype.kind_="descriptions";Qr.prototype.controlText_="Descriptions";g.registerComponent("DescriptionsButton",Qr);var Jr=function(s){m.default(i,s);function i(r,e,t){return s.call(this,r,e,t)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildWrapperCSSClass.call(this)},i}(Je);Jr.prototype.kind_="subtitles";Jr.prototype.controlText_="Subtitles";g.registerComponent("SubtitlesButton",Jr);var Zr=function(s){m.default(i,s);function i(r,e){var t;return e.track={player:r,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",t=s.call(this,r,e)||this,t.addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}var n=i.prototype;return n.handleClick=function(e){this.player().getChild("textTrackSettings").open()},i}(_t);g.registerComponent("CaptionSettingsMenuItem",Zr);var ei=function(s){m.default(i,s);function i(r,e,t){return s.call(this,r,e,t)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+s.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Zr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),s.prototype.createItems.call(this,e)},i}(Je);ei.prototype.kind_="captions";ei.prototype.controlText_="Captions";g.registerComponent("CaptionsButton",ei);var ss=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(e,t,a){var o=s.prototype.createEl.call(this,e,t,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(x("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(x("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},i}(_t);g.registerComponent("SubsCapsMenuItem",ss);var ti=function(s){m.default(i,s);function i(r,e){var t;return e===void 0&&(e={}),t=s.call(this,r,e)||this,t.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)>-1&&(t.label_="captions"),t.menuButton_.controlText(M(t.label_)),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+s.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Zr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=s.prototype.createItems.call(this,e,ss),e},i}(Je);ti.prototype.kinds_=["captions","subtitles"];ti.prototype.controlText_="Subtitles";g.registerComponent("SubsCapsButton",ti);var as=function(s){m.default(i,s);function i(r,e){var t,a=e.track,o=r.audioTracks();e.label=a.label||a.language||"Unknown",e.selected=a.enabled,t=s.call(this,r,e)||this,t.track=a,t.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];t.handleTracksChange.apply(A.default(t),d)};return o.addEventListener("change",l),t.on("dispose",function(){o.removeEventListener("change",l)}),t}var n=i.prototype;return n.createEl=function(e,t,a){var o=s.prototype.createEl.call(this,e,t,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(x("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(x("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},n.handleClick=function(e){if(s.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var t=this.player_.audioTracks(),a=0;a<t.length;a++){var o=t[a];o!==this.track&&(o.enabled=o===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},i}(gt);g.registerComponent("AudioTrackMenuItem",as);var os=function(s){m.default(i,s);function i(r,e){return e===void 0&&(e={}),e.tracks=r.audioTracks(),s.call(this,r,e)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+s.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){e===void 0&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),a=0;a<t.length;a++){var o=t[a];e.push(new as(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return e},i}(Xr);os.prototype.controlText_="Audio Track";g.registerComponent("AudioTrackButton",os);var ri=function(s){m.default(i,s);function i(r,e){var t,a=e.rate,o=parseFloat(a,10);return e.label=a,e.selected=o===r.playbackRate(),e.selectable=!0,e.multiSelectable=!1,t=s.call(this,r,e)||this,t.label=a,t.rate=o,t.on(r,"ratechange",function(l){return t.update(l)}),t}var n=i.prototype;return n.handleClick=function(e){s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},i}(gt);ri.prototype.contentElType="button";g.registerComponent("PlaybackRateMenuItem",ri);var ls=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.menuButton_.el_.setAttribute("aria-describedby",t.labelElId_),t.updateVisibility(),t.updateLabel(),t.on(r,"loadstart",function(a){return t.updateVisibility(a)}),t.on(r,"ratechange",function(a){return t.updateLabel(a)}),t.on(r,"playbackrateschange",function(a){return t.handlePlaybackRateschange(a)}),t}var n=i.prototype;return n.createEl=function(){var e=s.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=x("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,s.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],a=e.length-1;a>=0;a--)t.push(new ri(this.player(),{rate:e[a]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),a=this.playbackRates(),o=a.indexOf(t),l=(o+1)%a.length;this.player().playbackRate(a[l])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},i}(Gr);ls.prototype.controlText_="Playback Rate";g.registerComponent("PlaybackRateMenuButton",ls);var us=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+s.prototype.buildCSSClass.call(this)},n.createEl=function(e,t,a){return e===void 0&&(e="div"),t===void 0&&(t={}),a===void 0&&(a={}),t.className||(t.className=this.buildCSSClass()),s.prototype.createEl.call(this,e,t,a)},i}(g);g.registerComponent("Spacer",us);var tl=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+s.prototype.buildCSSClass.call(this)},n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},i}(us);g.registerComponent("CustomControlSpacer",tl);var Mt=function(s){m.default(i,s);function i(){return s.apply(this,arguments)||this}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},i}(g);Mt.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in _.default&&Mt.prototype.options_.children.splice(Mt.prototype.options_.children.length-1,0,"pictureInPictureToggle");g.registerComponent("ControlBar",Mt);var cs=function(s){m.default(i,s);function i(r,e){var t;return t=s.call(this,r,e)||this,t.on(r,"error",function(a){return t.open(a)}),t}var n=i.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+s.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},i}(Xe);cs.prototype.options_=xr.default({},Xe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});g.registerComponent("ErrorDisplay",cs);var lr="vjs-text-track-settings",Ai=["#000","Black"],Ii=["#00F","Blue"],Li=["#0FF","Cyan"],Oi=["#0F0","Green"],Ni=["#F0F","Magenta"],Mi=["#F00","Red"],Ri=["#FFF","White"],Di=["#FF0","Yellow"],ur=["1","Opaque"],cr=["0.5","Semi-Transparent"],Fi=["0","Transparent"],Pe={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ai,Ri,Mi,Oi,Ii,Di,Ni,Li]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ur,cr,Fi]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ri,Ai,Mi,Oi,Ii,Di,Ni,Li]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(i){return i==="1.00"?null:Number(i)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ur,cr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Fi,cr,ur]}};Pe.windowColor.options=Pe.backgroundColor.options;function hs(s,i){if(i&&(s=i(s)),s&&s!=="none")return s}function rl(s,i){var n=s.options[s.options.selectedIndex].value;return hs(n,i)}function il(s,i,n){if(i){for(var r=0;r<s.options.length;r++)if(hs(s.options[r].value,n)===i){s.selectedIndex=r;break}}}var nl=function(s){m.default(i,s);function i(r,e){var t;return e.temporary=!1,t=s.call(this,r,e)||this,t.updateDisplay=t.updateDisplay.bind(A.default(t)),t.fill(),t.hasBeenOpened_=t.hasBeenFilled_=!0,t.endDialog=x("p",{className:"vjs-control-text",textContent:t.localize("End of dialog window.")}),t.el().appendChild(t.endDialog),t.setDefaults(),e.persistTextTrackSettings===void 0&&(t.options_.persistTextTrackSettings=t.options_.playerOptions.persistTextTrackSettings),t.on(t.$(".vjs-done-button"),"click",function(){t.saveSettings(),t.close()}),t.on(t.$(".vjs-default-button"),"click",function(){t.setDefaults(),t.updateDisplay()}),De(Pe,function(a){t.on(t.$(a.selector),"change",t.updateDisplay)}),t.options_.persistTextTrackSettings&&t.restoreSettings(),t}var n=i.prototype;return n.dispose=function(){this.endDialog=null,s.prototype.dispose.call(this)},n.createElSelect_=function(e,t,a){var o=this;t===void 0&&(t=""),a===void 0&&(a="label");var l=Pe[e],u=l.id.replace("%s",this.id_),c=[t,u].join(" ").trim();return["<"+a+' id="'+u+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(d){var h=u+"-"+d[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+h+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return x("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return x("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return x("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return s.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e=this;return za(Pe,function(t,a,o){var l=rl(e.$(a.selector),a.parser);return l!==void 0&&(t[o]=l),t},{})},n.setValues=function(e){var t=this;De(Pe,function(a,o){il(t.$(a.selector),e[o],a.parser)})},n.setDefaults=function(){var e=this;De(Pe,function(t){var a=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=a})},n.restoreSettings=function(){var e;try{e=JSON.parse(p.default.localStorage.getItem(lr))}catch(t){w.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?p.default.localStorage.setItem(lr,JSON.stringify(e)):p.default.localStorage.removeItem(lr)}catch(t){w.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,a=e&&e.captionsButton;t?t.focus():a&&a.focus()},i}(Xe);g.registerComponent("TextTrackSettings",nl);var sl=function(s){m.default(i,s);function i(r,e){var t,a=e.ResizeObserver||p.default.ResizeObserver;e.ResizeObserver===null&&(a=!1);var o=L({createEl:!a,reportTouchActivity:!1},e);return t=s.call(this,r,o)||this,t.ResizeObserver=e.ResizeObserver||p.default.ResizeObserver,t.loadListener_=null,t.resizeObserver_=null,t.debouncedHandler_=ro(function(){t.resizeHandler()},100,!1,A.default(t)),a?(t.resizeObserver_=new t.ResizeObserver(t.debouncedHandler_),t.resizeObserver_.observe(r.el())):(t.loadListener_=function(){if(!(!t.el_||!t.el_.contentWindow)){var l=t.debouncedHandler_,u=t.unloadListener_=function(){V(this,"resize",l),V(this,"unload",u),u=null};G(t.el_.contentWindow,"unload",u),G(t.el_.contentWindow,"resize",l)}},t.one("load",t.loadListener_)),t}var n=i.prototype;return n.createEl=function(){return s.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,s.prototype.dispose.call(this)},i}(g);g.registerComponent("ResizeManager",sl);var al={trackingThreshold:20,liveTolerance:15},ol=function(s){m.default(i,s);function i(r,e){var t,a=L(al,e,{createEl:!1});return t=s.call(this,r,a)||this,t.handleVisibilityChange_=function(o){return t.handleVisibilityChange(o)},t.trackLiveHandler_=function(){return t.trackLive_()},t.handlePlay_=function(o){return t.handlePlay(o)},t.handleFirstTimeupdate_=function(o){return t.handleFirstTimeupdate(o)},t.handleSeeked_=function(o){return t.handleSeeked(o)},t.seekToLiveEdge_=function(o){return t.seekToLiveEdge(o)},t.reset_(),t.on(t.player_,"durationchange",function(o){return t.handleDurationchange(o)}),t.on(t.player_,"canplay",function(){return t.toggleTracking()}),ft&&"hidden"in _.default&&"visibilityState"in _.default&&t.on(_.default,"visibilitychange",t.handleVisibilityChange_),t}var n=i.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(_.default.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(!(!e||!e.length)){var t=Number(p.default.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+a;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,te),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],a=e?e.length:0;a--;)t.push(e.end(a));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],a=e?e.length:0;a--;)t.push(e.start(a));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(_.default,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),s.prototype.dispose.call(this)},i}(g);g.registerComponent("LiveTracker",ol);var br=function(i){var n=i.el();if(n.hasAttribute("src"))return i.triggerSourceset(n.src),!0;var r=i.$$("source"),e=[],t="";if(!r.length)return!1;for(var a=0;a<r.length;a++){var o=r[a].src;o&&e.indexOf(o)===-1&&e.push(o)}return e.length?(e.length===1&&(t=e[0]),i.triggerSourceset(t),!0):!1},ll=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(i){var n=_.default.createElement(this.nodeName.toLowerCase());n.innerHTML=i;for(var r=_.default.createDocumentFragment();n.childNodes.length;)r.appendChild(n.childNodes[0]);return this.innerText="",p.default.Element.prototype.appendChild.call(this,r),this.innerHTML}}),ds=function(i,n){for(var r={},e=0;e<i.length&&(r=Object.getOwnPropertyDescriptor(i[e],n),!(r&&r.set&&r.get));e++);return r.enumerable=!0,r.configurable=!0,r},ul=function(i){return ds([i.el(),p.default.HTMLMediaElement.prototype,p.default.Element.prototype,ll],"innerHTML")},ji=function(i){var n=i.el();if(!n.resetSourceWatch_){var r={},e=ul(i),t=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=o.apply(n,u);return br(i),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){n[a]&&(r[a]=n[a],n[a]=t(r[a]))}),Object.defineProperty(n,"innerHTML",L(e,{set:t(e.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(r).forEach(function(a){n[a]=r[a]}),Object.defineProperty(n,"innerHTML",e)},i.one("sourceset",n.resetSourceWatch_)}},cl=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Vn(p.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(i){return p.default.Element.prototype.setAttribute.call(this,"src",i),i}}),hl=function(i){return ds([i.el(),p.default.HTMLMediaElement.prototype,cl],"src")},dl=function(i){if(i.featuresSourceset){var n=i.el();if(!n.resetSourceset_){var r=hl(i),e=n.setAttribute,t=n.load;Object.defineProperty(n,"src",L(r,{set:function(o){var l=r.set.call(n,o);return i.triggerSourceset(n.src),l}})),n.setAttribute=function(a,o){var l=e.call(n,a,o);return/src/i.test(a)&&i.triggerSourceset(n.src),l},n.load=function(){var a=t.call(n);return br(i)||(i.triggerSourceset(""),ji(i)),a},n.currentSrc?i.triggerSourceset(n.currentSrc):br(i)||ji(i),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=t,n.setAttribute=e,Object.defineProperty(n,"src",r),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},ii=function(i,n,r,e){e===void 0&&(e=!0);var t=function(l){return Object.defineProperty(i,n,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=r();return t(l),l}};return e&&(a.set=t),Object.defineProperty(i,n,a)},y=function(s){m.default(i,s);function i(r,e){var t;t=s.call(this,r,e)||this;var a=r.source,o=!1;if(t.featuresVideoFrameCallback=t.featuresVideoFrameCallback&&t.el_.tagName==="VIDEO",a&&(t.el_.currentSrc!==a.src||r.tag&&r.tag.initNetworkState_===3)?t.setSource(a):t.handleLateInit_(t.el_),r.enableSourceset&&t.setupSourcesetHandling_(),t.isScrubbing_=!1,t.el_.hasChildNodes()){for(var l=t.el_.childNodes,u=l.length,c=[];u--;){var d=l[u],h=d.nodeName.toLowerCase();h==="track"&&(t.featuresNativeTextTracks?(t.remoteTextTrackEls().addTrackElement_(d),t.remoteTextTracks().addTrack(d.track),t.textTracks().addTrack(d.track),!o&&!t.el_.hasAttribute("crossorigin")&&$t(d.src)&&(o=!0)):c.push(d))}for(var f=0;f<c.length;f++)t.el_.removeChild(c[f])}return t.proxyNativeTracks_(),t.featuresNativeTextTracks&&o&&w.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),t.restoreMetadataTracksInIOSNativePlayer_(),(Ve||Or||dn)&&r.nativeControlsForTouch===!0&&t.setControls(!0),t.proxyWebkitFullscreen_(),t.triggerReady(),t}var n=i.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,s.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){dl(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t,a=function(){t=[];for(var u=0;u<e.length;u++){var c=e[u];c.kind==="metadata"&&t.push({track:c,storedMode:c.mode})}};a(),e.addEventListener("change",a),this.on("dispose",function(){return e.removeEventListener("change",a)});var o=function l(){for(var u=0;u<t.length;u++){var c=t[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}e.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",a),e.removeEventListener("change",o),e.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",a),e.addEventListener("change",a),e.removeEventListener("change",o)})},n.overrideNative_=function(e,t){var a=this;if(t===this["featuresNative"+e+"Tracks"]){var o=e.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=a.el()[o+"Tracks"];u.removeEventListener(l,a[o+"TracksListeners_"][l])}),this["featuresNative"+e+"Tracks"]=!t,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,a=J[e],o=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(h){var f={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(f),e==="text"&&t[We.remoteText.getterName]().trigger(f)},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},c=function(){for(var h=[],f=0;f<l.length;f++){for(var v=!1,b=0;b<o.length;b++)if(o[b]===l[f]){v=!0;break}v||h.push(l[f])}for(;h.length;)l.removeTrack(h.shift())};this[a.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(d){var h=u[d];o.addEventListener(d,h),t.on("dispose",function(f){return o.removeEventListener(d,h)})}),this.on("loadstart",c),this.on("dispose",function(d){return t.off("loadstart",c)})}},n.proxyNativeTracks_=function(){var e=this;J.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},n.createEl=function(){var e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),i.disposeMediaElement(e),e=t}else{e=_.default.createElement("video");var a=this.options_.tag&&oe(this.options_.tag),o=L({},a);(!Ve||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,Tn(e,N(o,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Be(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],d=this.options_[c];typeof d<"u"&&(d?Be(e,c,c):Ut(e,c),e[c]=d)}return e},n.handleLateInit_=function(e){if(!(e.networkState===0||e.networkState===3)){if(e.readyState===0){var t=!1,a=function(){t=!0};this.on("loadstart",a);var o=function(){t||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",o),t||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),e.readyState>=2&&l.push("loadeddata"),e.readyState>=3&&l.push("canplay"),e.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Ht?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){w(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&pe&&ve&&this.el_.currentTime===0){var t=function a(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",a))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){e.off("webkitbeginfullscreen",a),e.off("webkitendfullscreen",t)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var e=p.default.navigator&&p.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)ie(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):s.prototype.requestVideoFrameCallback.call(this,e)},n.cancelVideoFrameCallback=function(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):s.prototype.cancelVideoFrameCallback.call(this,e)},n.src=function(e){if(e===void 0)return this.el_.src;this.setSrc(e)},n.reset=function(){i.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(e,t,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,a):s.prototype.addTextTrack.call(this,e,t,a)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return s.prototype.createRemoteTextTrack.call(this,e);var t=_.default.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},n.addRemoteTextTrack=function(e,t){var a=s.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},n.removeRemoteTextTrack=function(e){if(s.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),a=t.length;a--;)(e===t[a]||e===t[a].track)&&this.el().removeChild(t[a])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),p.default.performance&&typeof p.default.performance.now=="function"?e.creationTime=p.default.performance.now():p.default.performance&&p.default.performance.timing&&typeof p.default.performance.timing.navigationStart=="number"&&(e.creationTime=p.default.Date.now()-p.default.performance.timing.navigationStart),e},i}(I);ii(y,"TEST_VID",function(){if(qe()){var s=_.default.createElement("video"),i=_.default.createElement("track");return i.kind="captions",i.srclang="en",i.label="English",s.appendChild(i),s}});y.isSupported=function(){try{y.TEST_VID.volume=.5}catch{return!1}return!!(y.TEST_VID&&y.TEST_VID.canPlayType)};y.canPlayType=function(s){return y.TEST_VID.canPlayType(s)};y.canPlaySource=function(s,i){return y.canPlayType(s.type)};y.canControlVolume=function(){try{var s=y.TEST_VID.volume;y.TEST_VID.volume=s/2+.1;var i=s!==y.TEST_VID.volume;return i&&z?(p.default.setTimeout(function(){y&&y.prototype&&(y.prototype.featuresVolumeControl=s!==y.TEST_VID.volume)}),!1):i}catch{return!1}};y.canMuteVolume=function(){try{var s=y.TEST_VID.muted;return y.TEST_VID.muted=!s,y.TEST_VID.muted?Be(y.TEST_VID,"muted","muted"):Ut(y.TEST_VID,"muted","muted"),s!==y.TEST_VID.muted}catch{return!1}};y.canControlPlaybackRate=function(){if(pe&&ve&&pn<58)return!1;try{var s=y.TEST_VID.playbackRate;return y.TEST_VID.playbackRate=s/2+.1,s!==y.TEST_VID.playbackRate}catch{return!1}};y.canOverrideAttributes=function(){try{var s=function(){};Object.defineProperty(_.default.createElement("video"),"src",{get:s,set:s}),Object.defineProperty(_.default.createElement("audio"),"src",{get:s,set:s}),Object.defineProperty(_.default.createElement("video"),"innerHTML",{get:s,set:s}),Object.defineProperty(_.default.createElement("audio"),"innerHTML",{get:s,set:s})}catch{return!1}return!0};y.supportsNativeTextTracks=function(){return Ht||z&&ve};y.supportsNativeVideoTracks=function(){return!!(y.TEST_VID&&y.TEST_VID.videoTracks)};y.supportsNativeAudioTracks=function(){return!!(y.TEST_VID&&y.TEST_VID.audioTracks)};y.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(s){var i=s[0],n=s[1];ii(y.prototype,i,function(){return y[n]()},!0)});y.prototype.featuresVolumeControl=y.canControlVolume();y.prototype.movingMediaElementInDOM=!z;y.prototype.featuresFullscreenResize=!0;y.prototype.featuresProgressEvents=!0;y.prototype.featuresTimeupdateEvents=!0;y.prototype.featuresVideoFrameCallback=!!(y.TEST_VID&&y.TEST_VID.requestVideoFrameCallback);var Rt;y.patchCanPlayType=function(){Ar>=4&&!fn&&!ve&&(Rt=y.TEST_VID&&y.TEST_VID.constructor.prototype.canPlayType,y.TEST_VID.constructor.prototype.canPlayType=function(s){var i=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return s&&i.test(s)?"maybe":Rt.call(this,s)})};y.unpatchCanPlayType=function(){var s=y.TEST_VID.constructor.prototype.canPlayType;return Rt&&(y.TEST_VID.constructor.prototype.canPlayType=Rt),s};y.patchCanPlayType();y.disposeMediaElement=function(s){if(s){for(s.parentNode&&s.parentNode.removeChild(s);s.hasChildNodes();)s.removeChild(s.firstChild);s.removeAttribute("src"),typeof s.load=="function"&&function(){try{s.load()}catch{}}()}};y.resetMediaElement=function(s){if(s){for(var i=s.querySelectorAll("source"),n=i.length;n--;)s.removeChild(i[n]);s.removeAttribute("src"),typeof s.load=="function"&&function(){try{s.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(s){y.prototype[s]=function(){return this.el_[s]||this.el_.hasAttribute(s)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(s){y.prototype["set"+M(s)]=function(i){this.el_[s]=i,i?this.el_.setAttribute(s,s):this.el_.removeAttribute(s)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(s){y.prototype[s]=function(){return this.el_[s]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(s){y.prototype["set"+M(s)]=function(i){this.el_[s]=i}});["pause","load","play"].forEach(function(s){y.prototype[s]=function(){return this.el_[s]()}});I.withSourceHandlers(y);y.nativeSourceHandler={};y.nativeSourceHandler.canPlayType=function(s){try{return y.TEST_VID.canPlayType(s)}catch{return""}};y.nativeSourceHandler.canHandleSource=function(s,i){if(s.type)return y.nativeSourceHandler.canPlayType(s.type);if(s.src){var n=Vr(s.src);return y.nativeSourceHandler.canPlayType("video/"+n)}return""};y.nativeSourceHandler.handleSource=function(s,i,n){i.setSrc(s.src)};y.nativeSourceHandler.dispose=function(){};y.registerSourceHandler(y.nativeSourceHandler);I.registerTech("Html5",y);var fs=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],hr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Er=["tiny","xsmall","small","medium","large","xlarge","huge"],Pt={};Er.forEach(function(s){var i=s.charAt(0)==="x"?"x-"+s.substring(1):s;Pt[s]="vjs-layout-"+i});var fl={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},D=function(s){m.default(i,s);function i(r,e,t){var a;if(r.id=r.id||e.id||"vjs_video_"+ge(),e=N(i.getTagSettings(r),e),e.initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if(typeof r.closest=="function"){var o=r.closest("[lang]");o&&o.getAttribute&&(e.language=o.getAttribute("lang"))}else for(var l=r;l&&l.nodeType===1;){if(oe(l).hasOwnProperty("lang")){e.language=l.getAttribute("lang");break}l=l.parentNode}if(a=s.call(this,null,e,t)||this,a.boundDocumentFullscreenChange_=function(h){return a.documentFullscreenChange_(h)},a.boundFullWindowOnEscKey_=function(h){return a.fullWindowOnEscKey(h)},a.boundUpdateStyleEl_=function(h){return a.updateStyleEl_(h)},a.boundApplyInitTime_=function(h){return a.applyInitTime_(h)},a.boundUpdateCurrentBreakpoint_=function(h){return a.updateCurrentBreakpoint_(h)},a.boundHandleTechClick_=function(h){return a.handleTechClick_(h)},a.boundHandleTechDoubleClick_=function(h){return a.handleTechDoubleClick_(h)},a.boundHandleTechTouchStart_=function(h){return a.handleTechTouchStart_(h)},a.boundHandleTechTouchMove_=function(h){return a.handleTechTouchMove_(h)},a.boundHandleTechTouchEnd_=function(h){return a.handleTechTouchEnd_(h)},a.boundHandleTechTap_=function(h){return a.handleTechTap_(h)},a.isFullscreen_=!1,a.log=un(a.id_),a.fsApi_=It,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=r,a.tagAttributes=r&&oe(r),a.language(a.options_.language),e.languages){var u={};Object.getOwnPropertyNames(e.languages).forEach(function(h){u[h.toLowerCase()]=e.languages[h]}),a.languages_=u}else a.languages_=i.prototype.options_.languages;a.resetCache_(),a.poster_=e.poster||"",a.controls_=!!e.controls,r.controls=!1,r.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],r.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(h){if(typeof a[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),Dr(A.default(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(G(_.default,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=L(a.options_);e.plugins&&Object.keys(e.plugins).forEach(function(h){a[h](e.plugins[h])}),e.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(e.playbackRates),a.initChildren(),a.isAudio(r.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Ve&&a.addClass("vjs-touch-enabled"),z||a.addClass("vjs-workinghover"),i.players[a.id_]=A.default(a);var d=an.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",function(h){return a.listenForUserActivity_(h)}),a.on("stageclick",function(h){return a.handleStageClick_(h)}),a.on("keydown",function(h){return a.handleKeyDown(h)}),a.on("languagechange",function(h){return a.handleLanguagechange(h)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)}),a}var n=i.prototype;return n.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),V(_.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),V(_.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),No(this),B.names.forEach(function(t){var a=B[t],o=e[a.getterName]();o&&o.off&&o.off()}),s.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var e=this.tag,t,a=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";a?t=this.el_=e.parentNode:o||(t=this.el_=s.prototype.createEl.call(this,"div"));var l=oe(e);if(o){for(t=this.el_=e,e=this.tag=_.default.createElement("video");t.children.length;)e.appendChild(t.firstChild);we(t,"video-js")||ue(t,"video-js"),t.appendChild(e),a=this.playerElIngest_=t,Object.keys(t).forEach(function(v){try{e[v]=t[v]}catch{}})}if(e.setAttribute("tabindex","-1"),l.tabindex="-1",(ft||ve&&vn)&&(e.setAttribute("role","application"),l.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(v){o&&v==="class"||t.setAttribute(v,l[v]),o&&e.setAttribute(v,l[v])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),p.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=In("vjs-styles-dimensions");var u=be(".vjs-styles-defaults"),c=be("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var d=e.getElementsByTagName("a"),h=0;h<d.length;h++){var f=d.item(h);ue(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!a&&e.parentNode.insertBefore(t,e),pr(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");if(e!=="anonymous"&&e!=="use-credentials"){w.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"');return}this.techCall_("setCrossOrigin",e)},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var a=e+"_";if(t===void 0)return this[a]||0;if(t===""||t==="auto"){this[a]=void 0,this.updateStyleEl_();return}var o=parseFloat(t);if(isNaN(o)){w.error('Improper value "'+t+'" supplied for for '+e);return}this[a]=o,this.updateStyleEl_()},n.fluid=function(e){var t=this;if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ce(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),io(this,function(){t.on(["playerreset","resize"],t.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(p.default.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e=typeof this.width_=="number"?this.width_:this.options_.width,t=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(e>=0&&(a.width=e),t>=0&&(a.height=t));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var d=u.split(":"),h=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/h:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*h,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),Ln(this.styleEl_,"\n      ."+c+" {\n        width: "+o+"px;\n        height: "+l+"px;\n      }\n\n      ."+c+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+h*100+"%;\n      }\n    ")},n.loadTech_=function(e,t){var a=this;this.tech_&&this.unloadTech_();var o=M(e),l=e.charAt(0).toLowerCase()+e.slice(1);o!=="Html5"&&this.tag&&(I.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:t,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};B.names.forEach(function(h){var f=B[h];c[f.getterName]=a[f.privateName]}),N(c,this.options_[o]),N(c,this.options_[l]),N(c,this.options_[e.toLowerCase()]),this.tag&&(c.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=I.getTech(e);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready(O(this,this.handleTechReady_),!0),mi.jsonToTextTracks(this.textTracksJson_||[],this.tech_),fs.forEach(function(h){a.on(a.tech_,h,function(f){return a["handleTech"+M(h)+"_"](f)})}),Object.keys(hr).forEach(function(h){a.on(a.tech_,h,function(f){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+hr[h]+"_"].bind(a),event:f});return}a["handleTech"+hr[h]+"_"](f)})}),this.on(this.tech_,"loadstart",function(h){return a.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return a.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return a.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return a.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return a.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return a.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return a.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return a.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return a.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,f){return a.handleTechFullscreenChange_(h,f)}),this.on(this.tech_,"fullscreenerror",function(h,f){return a.handleTechFullscreenError_(h,f)}),this.on(this.tech_,"enterpictureinpicture",function(h){return a.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return a.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return a.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return a.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return a.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return a.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&pr(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;B.names.forEach(function(t){var a=B[t];e[a.privateName]=e[a.getterName]()}),this.textTracksJson_=mi.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return e===void 0&&w.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(!(!this.tech_||typeof e!="string")){var a=function(){var u=t.muted();t.muted(!0);var c=function(){t.muted(u)};t.playTerminatedQueue_.push(c);var d=t.play();if(ot(d))return d.catch(function(h){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},o;if(e==="any"&&!this.muted()?(o=this.play(),ot(o)&&(o=o.catch(a))):e==="muted"&&!this.muted()?o=a():o=this.play(),!!ot(o))return o.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){t.trigger({type:"autoplay-failure",autoplay:e})})}},n.updateSourceCaches_=function(e){e===void 0&&(e="");var t=e,a="";typeof t!="string"&&(t=e.src,a=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!a&&(a=Do(this,t)),this.cache_.source=L({},e,{src:t,type:a});for(var o=this.cache_.sources.filter(function(f){return f.src&&f.src===t}),l=[],u=this.$$("source"),c=[],d=0;d<u.length;d++){var h=oe(u[d]);l.push(h),h.src&&h.src===t&&c.push(h.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var a=function(c){return t.updateSourceCaches_(c)},o=this.currentSource().src,l=e.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(a=function(){}),a(l),e.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=t.techGet("currentSrc");t.lastSource_.tech=c,t.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime(),a=function o(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",o))};this.on("timeupdate",a)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(w.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?ie(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(e.target)});t||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!(t&&t!==this)){var a=this.el(),o=_.default[this.fsApi_.fullscreenElement]===a;!o&&a.matches?o=a.matches(":"+this.fsApi_.fullscreen):!o&&a.msMatchesSelector&&(o=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},n.handleTechFullscreenChange_=function(e,t){var a=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready(function(){if(e in Lo)return Ao(this.middleware_,this.tech_,e,t);if(e in Si)return ki(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(a){throw w(a),a}},!0)},n.techGet_=function(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Io)return xo(this.middleware_,this.tech_,e);if(e in Si)return ki(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===void 0?(w("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t):t.name==="TypeError"?(w("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t):(w(t),t)}}},n.play=function(){var e=this,t=this.options_.Promise||p.default.Promise;return t?new t(function(a){e.play_(a)}):this.play_()},n.play_=function(e){var t=this;e===void 0&&(e=ie),this.playCallbacks_.push(e);var a=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(Ht||z);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(c){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&o&&this.load();return}var l=this.techGet_("play"),u=o&&this.hasClass("vjs-ended");u&&this.resetProgressBar_(),l===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(l)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(t){t()})},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(a){a(e)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||xe(0,0)},n.scrubbing=function(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){if(typeof e<"u"){if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return(!e||!e.length)&&(e=xe(0,0)),e},n.bufferedPercent=function(){return Fn(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),a=e.end(e.length-1);return a>t&&(a=t),a},n.volume=function(e){var t;if(e!==void 0){t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t},n.muted=function(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1},n.defaultMuted=function(e){return e!==void 0?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(e!==void 0){var t=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||p.default.Promise;if(t){var a=this;return new t(function(o,l){function u(){a.off("fullscreenerror",d),a.off("fullscreenchange",c)}function c(){u(),o()}function d(f,v){u(),l(v)}a.one("fullscreenchange",c),a.one("fullscreenerror",d);var h=a.requestFullscreenHelper_(e);h&&(h.then(u,u),h.then(o,l))})}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(a=e)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](a);return o&&o.then(function(){return t.isFullscreen(!0)},function(){return t.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||p.default.Promise;if(e){var t=this;return new e(function(a,o){function l(){t.off("fullscreenerror",c),t.off("fullscreenchange",u)}function u(){l(),a()}function c(h,f){l(),o(f)}t.one("fullscreenchange",u),t.one("fullscreenerror",c);var d=t.exitFullscreenHelper_();d&&(d.then(l,l),d.then(a,o))})}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=_.default[this.fsApi_.exitFullscreen]();return t&&ie(t.then(function(){return e.isFullscreen(!1)})),t}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=_.default.documentElement.style.overflow,G(_.default,"keydown",this.boundFullWindowOnEscKey_),_.default.documentElement.style.overflow="hidden",ue(_.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){P.default.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,V(_.default,"keydown",this.boundFullWindowOnEscKey_),_.default.documentElement.style.overflow=this.docOrigOverflow,pt(_.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in _.default&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in _.default)return _.default.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(!(!t||!t.hotkeys)){var a=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var d=["textarea"];return d.indexOf(u)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof t.hotkeys=="function"?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},a=t.fullscreenKey,o=a===void 0?function(b){return P.default.isEventKey(b,"f")}:a,l=t.muteKey,u=l===void 0?function(b){return P.default.isEventKey(b,"m")}:l,c=t.playPauseKey,d=c===void 0?function(b){return P.default.isEventKey(b,"k")||P.default.isEventKey(b,"Space")}:c;if(o.call(this,e)){e.preventDefault(),e.stopPropagation();var h=g.getComponent("FullscreenToggle");_.default[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,e)}else if(u.call(this,e)){e.preventDefault(),e.stopPropagation();var f=g.getComponent("MuteToggle");f.prototype.handleClick.call(this,e)}else if(d.call(this,e)){e.preventDefault(),e.stopPropagation();var v=g.getComponent("PlayToggle");v.prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,a=0,o=this.options_.techOrder;a<o.length;a++){var l=o[a],u=I.getTech(l);if(u||(u=g.getComponent(l)),!u){w.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(t=u.canPlayType(e),t))return t}return""},n.selectSource=function(e){var t=this,a=this.options_.techOrder.map(function(d){return[d,I.getTech(d)]}).filter(function(d){var h=d[0],f=d[1];return f?f.isSupported():(w.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(h,f,v){var b;return h.some(function(S){return f.some(function(T){if(b=v(S,T),b)return!0})}),b},l,u=function(h){return function(f,v){return h(v,f)}},c=function(h,f){var v=h[0],b=h[1];if(b.canPlaySource(f,t.options_[v.toLowerCase()]))return{source:f,tech:v}};return this.options_.sourceOrder?l=o(e,a,u(c)):l=o(a,e,c),l||!1},n.handleSrc_=function(e,t){var a=this;if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=Fo(e);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,t||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Po(this,o[0],function(c,d){a.middleware_=d,t||(a.cache_.sources=o),a.updateSourceCaches_(c);var h=a.src_(c);if(h){if(o.length>1)return a.handleSrc_(o.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),a.triggerReady();return}wo(d,a.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){a.error(null),a.handleSrc_(o.slice(1),!0)},u=function(){a.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",u)}}},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t=this,a=this.selectSource([e]);return a?ao(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||p.default.Promise;if(this.paused()||!t)this.doReset_();else{var a=this.play();ie(a.then(function(){return e.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ce(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,a=e.remainingTimeDisplay;t&&t.updateContent(),a&&a.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return Object.keys(e).length!==0&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")},n.autoplay=function(e){if(e===void 0)return this.options_.autoplay||!1;var t;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t=typeof t>"u"?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return e!==void 0?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")},n.poster=function(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(e===void 0)return this.error_||null;if(Te("beforeerror").forEach(function(o){var l=o(t,e);if(!(de(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){t.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=l}),this.options_.suppressNotSupportedError&&e&&e.code===4){var a=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(e===null){this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new K(e),this.addClass("vjs-error"),w.error("(CODE:"+this.error_.code+" "+K.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Te("error").forEach(function(o){return o(t,t.error_)})},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,a,o=O(this,this.reportUserActivity),l=function(v){(v.screenX!==t||v.screenY!==a)&&(t=v.screenX,a=v.screenY,o())},u=function(){o(),this.clearInterval(e),e=this.setInterval(o,250)},c=function(v){o(),this.clearInterval(e)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var d=this.getChild("controlBar");d&&!z&&!pe&&(d.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var h;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var f=this.options_.inactivityTimeout;f<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))}},250)},n.playbackRate=function(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),a=this.getChild("ControlBar"),o=a&&a.currentHeight();t.forEach(function(l){l!==a&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),e.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(e){return e.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var a=this.options_.Promise||p.default.Promise;if(a){if(e){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),a.all(o).then(function(){return t.enableAudioOnlyUI_()})}return a.resolve().then(function(){return t.disableAudioOnlyUI_()})}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){var e=this.tech_&&this.tech_;e.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){var e=this.tech_&&this.tech_;e.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if(typeof e!="boolean"||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var a=this.options_.Promise||p.default.Promise;if(a){if(e){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){t.enablePosterModeUI_()})}return a.resolve().then(function(){t.enablePosterModeUI_()})}return a.resolve().then(function(){t.disablePosterModeUI_()})}if(e){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},n.addTextTrack=function(e,t,a){if(this.tech_)return this.tech_.addTextTrack(e,t,a)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){e===void 0&&(e={});var t=e,a=t.track;if(a||(a=e),this.tech_)return this.tech_.removeRemoteTextTrack(a)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ce(this)&&this.trigger("languagechange"))},n.languages=function(){return L(i.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=L(this.options_),t=e.tracks;e.tracks=[];for(var a=0;a<t.length;a++){var o=t[a];o=L(o),o.player=void 0,e.tracks[a]=o}return e},n.createModal=function(e,t){var a=this;t=t||{},t.content=e||"";var o=new Xe(this,t);return this.addChild(o),o.on("dispose",function(){a.removeChild(o)}),o.open(),o},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),a=0;a<Er.length;a++){var o=Er[a],l=this.breakpoints_[o];if(t<=l){if(e===o)return;e&&this.removeClass(Pt[e]),this.addClass(Pt[o]),this.breakpoint_=o;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return e===void 0?N(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=N({},fl,e),this.updateCurrentBreakpoint_(),N(this.breakpoints_))},n.responsive=function(e){if(e===void 0)return this.responsive_;e=!!e;var t=this.responsive_;if(e!==t)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Pt[this.breakpoint_]||""},n.loadMedia=function(e,t){var a=this;if(!(!e||typeof e!="object")){this.reset(),this.cache_.media=L(e);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,d=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:Nt(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(d)&&d.forEach(function(h){return a.addRemoteTextTrack(h,!1)}),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:t,textTracks:a};return e&&(o.poster=e,o.artwork=[{src:o.poster,type:Nt(o.poster)}]),o}return L(this.cache_.media)},i.getTagSettings=function(e){var t={sources:[],tracks:[]},a=oe(e),o=a["data-setup"];if(we(e,"vjs-fill")&&(a.fill=!0),we(e,"vjs-fluid")&&(a.fluid=!0),o!==null){var l=ja.default(o||"{}"),u=l[0],c=l[1];u&&w.error(u),N(a,c)}if(N(t,a),e.hasChildNodes())for(var d=e.childNodes,h=0,f=d.length;h<f;h++){var v=d[h],b=v.nodeName.toLowerCase();b==="source"?t.sources.push(oe(v)):b==="track"&&t.tracks.push(oe(v))}return t},n.flexNotSupported_=function(){var e=_.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(function(t){return typeof t=="number"})&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},i}(g);B.names.forEach(function(s){var i=B[s];D.prototype[i.getterName]=function(){return this.tech_?this.tech_[i.getterName]():(this[i.privateName]=this[i.privateName]||new i.ListClass,this[i.privateName])}});D.prototype.crossorigin=D.prototype.crossOrigin;D.players={};var tt=p.default.navigator;D.prototype.options_={techOrder:I.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:tt&&(tt.languages&&tt.languages[0]||tt.userLanguage||tt.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(s){D.prototype[s]=function(){return this.techGet_(s)}});fs.forEach(function(s){D.prototype["handleTech"+M(s)+"_"]=function(){return this.trigger(s)}});g.registerComponent("Player",D);var Dt="plugin",Fe="activePlugins_",Re={},Ft=function(i){return Re.hasOwnProperty(i)},wt=function(i){return Ft(i)?Re[i]:void 0},ps=function(i,n){i[Fe]=i[Fe]||{},i[Fe][n]=!0},jt=function(i,n,r){var e=(r?"before":"")+"pluginsetup";i.trigger(e,n),i.trigger(e+":"+n.name,n)},pl=function(i,n){var r=function(){jt(this,{name:i,plugin:n,instance:null},!0);var t=n.apply(this,arguments);return ps(this,i),jt(this,{name:i,plugin:n,instance:t}),t};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r},Vi=function(i,n){return n.prototype.name=i,function(){jt(this,{name:i,plugin:n,instance:null},!0);for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var a=Va.default(n,[this].concat(e));return this[i]=function(){return a},jt(this,a.getEventHash()),a}},se=function(){function s(n){if(this.constructor===s)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,this.log||(this.log=this.player.log.createLogger(this.name)),Dr(this),delete this.trigger,Dn(this,this.constructor.defaultState),ps(n,this.name),this.dispose=this.dispose.bind(this),n.on("dispose",this.dispose)}var i=s.prototype;return i.version=function(){return this.constructor.VERSION},i.getEventHash=function(r){return r===void 0&&(r={}),r.name=this.name,r.plugin=this.constructor,r.instance=this,r},i.trigger=function(r,e){return e===void 0&&(e={}),Ge(this.eventBusEl_,r,this.getEventHash(e))},i.handleStateChanged=function(r){},i.dispose=function(){var r=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Fe][r]=!1,this.player=this.state=null,e[r]=Vi(r,Re[r])},s.isBasic=function(r){var e=typeof r=="string"?wt(r):r;return typeof e=="function"&&!s.prototype.isPrototypeOf(e.prototype)},s.registerPlugin=function(r,e){if(typeof r!="string")throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+typeof r+".");if(Ft(r))w.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!');else if(D.prototype.hasOwnProperty(r))throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!');if(typeof e!="function")throw new Error('Illegal plugin for "'+r+'", must be a function, was '+typeof e+".");return Re[r]=e,r!==Dt&&(s.isBasic(e)?D.prototype[r]=pl(r,e):D.prototype[r]=Vi(r,e)),e},s.deregisterPlugin=function(r){if(r===Dt)throw new Error("Cannot de-register base plugin.");Ft(r)&&(delete Re[r],delete D.prototype[r])},s.getPlugins=function(r){r===void 0&&(r=Object.keys(Re));var e;return r.forEach(function(t){var a=wt(t);a&&(e=e||{},e[t]=a)}),e},s.getPluginVersion=function(r){var e=wt(r);return e&&e.VERSION||""},s}();se.getPlugin=wt;se.BASE_PLUGIN_NAME=Dt;se.registerPlugin(Dt,se);D.prototype.usingPlugin=function(s){return!!this[Fe]&&this[Fe][s]===!0};D.prototype.hasPlugin=function(s){return!!Ft(s)};var Bi=!1,vl=function(i,n){n===void 0&&(n={}),Bi||(w.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Bi=!0);var r=function(){i.apply(this,arguments)},e={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(r=n.constructor),e=n):typeof n=="function"&&(r=n),Ba.default(r,i),i&&(r.super_=i);for(var t in e)e.hasOwnProperty(t)&&(r.prototype[t]=e[t]);return r},vs=function(i){return i.indexOf("#")===0?i.slice(1):i};function C(s,i,n){var r=C.getPlayer(s);if(r)return i&&w.warn('Player "'+s+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var e=typeof s=="string"?be("#"+vs(s)):s;if(!$e(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!e.ownerDocument.defaultView||!e.ownerDocument.body.contains(e))&&w.warn("The element supplied is not included in the DOM"),i=i||{},i.restoreEl===!0&&(i.restoreEl=(e.parentNode&&e.parentNode.hasAttribute("data-vjs-player")?e.parentNode:e).cloneNode(!0)),Te("beforesetup").forEach(function(a){var o=a(e,L(i));if(!de(o)||Array.isArray(o)){w.error("please return an object in beforesetup hooks");return}i=L(i,o)});var t=g.getComponent("Player");return r=new t(e,i,n),Te("setup").forEach(function(a){return a(r)}),r}C.hooks_=le;C.hooks=Te;C.hook=Ha;C.hookOnce=Ua;C.removeHook=on;if(p.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&qe()){var Ct=be(".vjs-styles-defaults");if(!Ct){Ct=In("vjs-styles-defaults");var dr=be("head");dr&&dr.insertBefore(Ct,dr.firstChild),Ln(Ct,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}gr(1,C);C.VERSION=an;C.options=D.prototype.options_;C.getPlayers=function(){return D.players};C.getPlayer=function(s){var i=D.players,n;if(typeof s=="string"){var r=vs(s),e=i[r];if(e)return e;n=be("#"+r)}else n=s;if($e(n)){var t=n,a=t.player,o=t.playerId;if(a||i[o])return a||i[o]}};C.getAllPlayers=function(){return Object.keys(D.players).map(function(s){return D.players[s]}).filter(Boolean)};C.players=D.players;C.getComponent=g.getComponent;C.registerComponent=function(s,i){I.isTech(i)&&w.warn("The "+s+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.registerComponent.call(g,s,i)};C.getTech=I.getTech;C.registerTech=I.registerTech;C.use=So;Object.defineProperty(C,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(C.middleware,"TERMINATOR",{value:Ot,writeable:!1,enumerable:!0});C.browser=Ga;C.TOUCH_ENABLED=Ve;C.extend=vl;C.mergeOptions=L;C.bind=O;C.registerPlugin=se.registerPlugin;C.deregisterPlugin=se.deregisterPlugin;C.plugin=function(s,i){return w.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),se.registerPlugin(s,i)};C.getPlugins=se.getPlugins;C.getPlugin=se.getPlugin;C.getPluginVersion=se.getPluginVersion;C.addLanguage=function(s,i){var n;return s=(""+s).toLowerCase(),C.options.languages=L(C.options.languages,(n={},n[s]=i,n)),C.options.languages[s]};C.log=w;C.createLogger=un;C.createTimeRange=C.createTimeRanges=xe;C.formatTime=Ke;C.setFormatTime=Ko;C.resetFormatTime=zo;C.parseUrl=jr;C.isCrossOrigin=$t;C.EventTarget=j;C.on=G;C.one=zt;C.off=V;C.trigger=Ge;C.xhr=sn.default;C.TextTrack=vt;C.AudioTrack=Bn;C.VideoTrack=Hn;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(s){C[s]=function(){return w.warn("videojs."+s+"() is deprecated; use videojs.dom."+s+"() instead"),xn[s].apply(null,arguments)}});C.computedStyle=ut;C.dom=xn;C.url=bo;C.defineLazyProperty=ii;C.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var gl=C;const ye=Ts(gl),_l=ye.getComponent("Component");class gs extends _l{constructor(i,n){super(i,n)}createEl(){const i=super.createEl("div",{className:"peertube-dock"});if(this.options_.avatarUrl){const r=ye.dom.createEl("img",{className:"peertube-dock-avatar",src:this.options_.avatarUrl});i.appendChild(r)}const n=super.createEl("div",{className:"peertube-dock-title-description"});if(this.options_.title){const r=ye.dom.createEl("div",{className:"peertube-dock-title",title:this.options_.title,innerText:this.options_.title});n.appendChild(r)}if(this.options_.description){const r=ye.dom.createEl("div",{className:"peertube-dock-description",title:this.options_.description,innerText:this.options_.description});n.appendChild(r)}return(this.options_.title||this.options_.description)&&i.appendChild(n),i}}ye.registerComponent("PeerTubeDockComponent",gs);const yl=ye.getPlugin("plugin");class ml extends yl{constructor(i,n){super(i,n),i.ready(()=>{i.addClass("peertube-dock")}),this.dockComponent=new gs(i,n),i.addChild(this.dockComponent)}dispose(){var i;(i=this.dockComponent)==null||i.dispose(),this.player.removeChild(this.dockComponent),this.player.removeClass("peertube-dock"),super.dispose()}}ye.registerPlugin("peertubeDock",ml);const Ie={CONTINUE_100:100,SWITCHING_PROTOCOLS_101:101,OK_200:200,CREATED_201:201,ACCEPTED_202:202,NO_CONTENT_204:204,RESET_CONTENT_205:205,PARTIAL_CONTENT_206:206,MULTIPLE_CHOICES_300:300,MOVED_PERMANENTLY_301:301,FOUND_302:302,SEE_OTHER_303:303,NOT_MODIFIED_304:304,TEMPORARY_REDIRECT_307:307,PERMANENT_REDIRECT_308:308,BAD_REQUEST_400:400,UNAUTHORIZED_401:401,PAYMENT_REQUIRED_402:402,FORBIDDEN_403:403,NOT_FOUND_404:404,METHOD_NOT_ALLOWED_405:405,NOT_ACCEPTABLE_406:406,REQUEST_TIMEOUT_408:408,CONFLICT_409:409,GONE_410:410,LENGTH_REQUIRED_411:411,PRECONDITION_FAILED_412:412,PAYLOAD_TOO_LARGE_413:413,URI_TOO_LONG_414:414,UNSUPPORTED_MEDIA_TYPE_415:415,RANGE_NOT_SATISFIABLE_416:416,EXPECTATION_FAILED_417:417,I_AM_A_TEAPOT_418:418,UNPROCESSABLE_ENTITY_422:422,LOCKED_423:423,TOO_MANY_REQUESTS_429:429,REQUEST_HEADER_FIELDS_TOO_LARGE_431:431,UNAVAILABLE_FOR_LEGAL_REASONS_451:451,INTERNAL_SERVER_ERROR_500:500,NOT_IMPLEMENTED_501:501,BAD_GATEWAY_502:502,SERVICE_UNAVAILABLE_503:503,GATEWAY_TIMEOUT_504:504,HTTP_VERSION_NOT_SUPPORTED_505:505,INSUFFICIENT_STORAGE_507:507},Hi={MAX_FILE_SIZE_REACHED:"max_file_size_reached",QUOTA_REACHED:"quota_reached",DOES_NOT_RESPECT_FOLLOW_CONSTRAINTS:"does_not_respect_follow_constraints",LIVE_NOT_ENABLED:"live_not_enabled",LIVE_NOT_ALLOWING_REPLAY:"live_not_allowing_replay",LIVE_CONFLICTING_PERMANENT_AND_SAVE_REPLAY:"live_conflicting_permanent_and_save_replay",MAX_INSTANCE_LIVES_LIMIT_REACHED:"max_instance_lives_limit_reached",MAX_USER_LIVES_LIMIT_REACHED:"max_user_lives_limit_reached",INCORRECT_FILES_IN_TORRENT:"incorrect_files_in_torrent",COMMENT_NOT_ASSOCIATED_TO_VIDEO:"comment_not_associated_to_video",MISSING_TWO_FACTOR:"missing_two_factor",INVALID_TWO_FACTOR:"invalid_two_factor",ACCOUNT_WAITING_FOR_APPROVAL:"account_waiting_for_approval",ACCOUNT_APPROVAL_REJECTED:"account_approval_rejected",RUNNER_JOB_NOT_IN_PROCESSING_STATE:"runner_job_not_in_processing_state",RUNNER_JOB_NOT_IN_PENDING_STATE:"runner_job_not_in_pending_state",UNKNOWN_RUNNER_TOKEN:"unknown_runner_token",VIDEO_REQUIRES_PASSWORD:"video_requires_password",INCORRECT_VIDEO_PASSWORD:"incorrect_video_password",VIDEO_ALREADY_BEING_TRANSCODED:"video_already_being_transcoded",VIDEO_ALREADY_BEING_TRANSCRIBED:"video_already_being_transcribed",VIDEO_ALREADY_HAS_CAPTIONS:"video_already_has_captions",MAX_USER_VIDEO_QUOTA_EXCEEDED_FOR_USER_EXPORT:"max_user_video_quota_exceeded_for_user_export",CURRENT_PASSWORD_IS_INVALID:"current_password_is_invalid"},Tl={INVALID_GRANT:"invalid_grant",INVALID_CLIENT:"invalid_client",INVALID_TOKEN:"invalid_token"},je={PUBLIC:1,UNLISTED:2,PRIVATE:3,INTERNAL:4,PASSWORD_PROTECTED:5},me={PUBLISHED:1,TO_TRANSCODE:2,TO_IMPORT:3,WAITING_FOR_LIVE:4,LIVE_ENDED:5,TO_MOVE_TO_EXTERNAL_STORAGE:6,TRANSCODING_FAILED:7,TO_MOVE_TO_EXTERNAL_STORAGE_FAILED:8,TO_EDIT:9,TO_MOVE_TO_FILE_SYSTEM:10,TO_MOVE_TO_FILE_SYSTEM_FAILED:11},bl={HLS:1},_e=class _e{static getServerTranslations(i,n){const r=_e.getLocalePath(i,n);return r?fetch(r+"/server.json").then(e=>e.json()).catch(e=>{R.error("Cannot get server translations",e)}):Promise.resolve(void 0)}static loadLocaleInVideoJS(i,n,r){const e=_e.getLocalePath(i,n);if(!e)return Promise.resolve(void 0);let t;_e.videojsLocaleCache[e]?t=Promise.resolve(_e.videojsLocaleCache[e]):t=fetch(e+"/player.json").then(o=>o.json()).then(o=>(_e.videojsLocaleCache[e]=o,o)).catch(o=>{R.error("Cannot get player translations",o)});const a=ai(n);return t.then(o=>r.addLanguage(bs(a),o))}static getLocalePath(i,n){const r=ai(n);if(!(!Es(r)||Cs(r)))return i+"/client/locales/"+r}};E(_e,"videojsLocaleCache",{});let Cr=_e;function El(s,i){return s==="true"?!0:s==="false"?!1:i}function Z(s,i,n){return s.has(i)?s.get(i)==="1"||s.get(i)==="true":n}function ae(s,i,n){return s.has(i)?s.get(i):n}function Cl(s){const i=[];for(const n of Object.keys(s))i.push(encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return i.join("&")}function Bl(s){const{embedUrl:i,embedTitle:n,aspectRatio:r,responsive:e=!1}=s,t=document.createElement("iframe");if(t.title=n,t.width=e?"100%":"560",t.height=e?"100%":"315",t.src=i,t.frameBorder="0",t.allowFullscreen=!0,t.sandbox.add("allow-same-origin","allow-scripts","allow-popups","allow-forms"),e){const a=document.createElement("div");return a.style.position="relative",a.style.paddingTop=r?(1/r*100).toFixed(2)+"%":"56.25%",t.style.position="absolute",t.style.inset="0",a.appendChild(t),a.outerHTML}return t.outerHTML}function kl(s,i,n){return s.isLocal&&i.tracker.enabled===!1||wl()?!1:n}function Sl(s,i){return new Set([je.PRIVATE,je.INTERNAL]).has(s.privacy.id)||s.privacy.id===je.PASSWORD_PROTECTED&&!i}function Pl(s){return new Set([je.PRIVATE,je.INTERNAL,je.PASSWORD_PROTECTED]).has(s.privacy.id)}function wl(){return!(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)}class xl{constructor(i){E(this,"channel");E(this,"isReady",!1);E(this,"resolutions",[]);E(this,"videoElPlayListener");E(this,"videoElPauseListener");E(this,"videoElEndedListener");E(this,"videoElInterval");this.embed=i}initialize(){this.constructChannel()}initWithVideo(){this.disposeStateTracking(),this.setupStateTracking(),this.isReady||this.notifyReady()}get player(){return this.embed.player}constructChannel(){const i=ks.build({window:window.parent,origin:"*",scope:this.embed.getScope()});i.bind("setVideoPassword",(n,r)=>this.embed.setVideoPasswordByAPI(r)),i.bind("play",(n,r)=>{const e=this.player.play();e&&e.catch(t=>{console.error("Cannot play the video",t)})}),i.bind("pause",(n,r)=>this.player.pause()),i.bind("seek",(n,r)=>this.player.currentTime(r)),i.bind("setVolume",(n,r)=>this.player.volume(r)),i.bind("getVolume",(n,r)=>this.player.volume()),i.bind("isReady",(n,r)=>this.isReady),i.bind("setResolution",(n,r)=>this.setResolution(r)),i.bind("getResolutions",(n,r)=>this.resolutions),i.bind("getCaptions",(n,r)=>this.getCaptions()),i.bind("setCaption",(n,r)=>this.setCaption(r)),i.bind("setPlaybackRate",(n,r)=>this.player.playbackRate(r)),i.bind("getPlaybackRate",(n,r)=>this.player.playbackRate()),i.bind("getPlaybackRates",(n,r)=>this.player.options_.playbackRates),i.bind("playNextVideo",(n,r)=>this.embed.playNextPlaylistVideo()),i.bind("playPreviousVideo",(n,r)=>this.embed.playPreviousPlaylistVideo()),i.bind("getCurrentPosition",(n,r)=>this.embed.getCurrentPlaylistPosition()),i.bind("getImageDataUrl",(n,r)=>this.embed.getImageDataUrl()),this.channel=i}setResolution(i){if(R.info("Set resolution ".concat(i)),this.isWebVideo()&&i===-1){R.error("Auto resolution cannot be set in web video player mode");return}this.player.peertubeResolutions().select({id:i,fireCallback:!0})}getCaptions(){return this.player.textTracks().tracks_.map(i=>({id:i.id,src:i.src,label:i.label,mode:i.mode}))}setCaption(i){const n=this.player.textTracks().tracks_;for(const r of n)r.id===i?r.mode="showing":r.mode="disabled"}notifyReady(){this.isReady=!0,this.channel.notify({method:"ready",params:!0})}setupStateTracking(){let i="unstarted";this.videoElInterval=setInterval(()=>{var e,t,a,o;const n=(t=(e=this.player)==null?void 0:e.currentTime())!=null?t:0,r=(a=this.player)==null?void 0:a.volume();this.channel.notify({method:"playbackStatusUpdate",params:{position:n,volume:r,duration:(o=this.player)==null?void 0:o.duration(),playbackState:i}})},500),this.videoElPlayListener=()=>{i="playing",this.channel.notify({method:"playbackStatusChange",params:"playing"})},this.player.on("play",this.videoElPlayListener),this.videoElPauseListener=()=>{i="paused",this.channel.notify({method:"playbackStatusChange",params:"paused"})},this.player.on("pause",this.videoElPauseListener),this.videoElEndedListener=()=>{i="ended",this.channel.notify({method:"playbackStatusChange",params:"ended"})},this.player.on("ended",this.videoElEndedListener),this.player.peertubeResolutions().on("resolutions-added",()=>this.loadResolutions()),this.player.peertubeResolutions().on("resolutions-changed",()=>this.loadResolutions()),this.loadResolutions(),this.player.on("volumechange",()=>{this.channel.notify({method:"volumeChange",params:this.player.volume()})})}disposeStateTracking(){this.player&&(this.videoElPlayListener&&this.player.off("play",this.videoElPlayListener),this.videoElPauseListener&&this.player.off("pause",this.videoElPauseListener),this.videoElEndedListener&&this.player.off("ended",this.videoElEndedListener),clearInterval(this.videoElInterval))}loadResolutions(){this.resolutions=this.player.peertubeResolutions().getResolutions().map(i=>({id:i.id,label:i.label,active:i.selected,width:i.width,height:i.height})),this.channel.notify({method:"resolutionUpdate",params:this.resolutions})}isWebVideo(){return!!this.player.webVideo}}class Al{constructor(){E(this,"LOCAL_STORAGE_OAUTH_CLIENT_KEYS",{CLIENT_ID:"client_id",CLIENT_SECRET:"client_secret"});E(this,"userOAuthTokens");E(this,"headers",new Headers);this.userOAuthTokens=yt.getUserTokens(ke),this.userOAuthTokens&&this.setHeadersFromTokens()}fetch(i,{optionalAuth:n,method:r},e){let t={};return e&&this.headers.set("x-peertube-video-password",e),(e||n)&&(t={headers:this.headers}),this.refreshFetch(i.toString(),{...t,method:r})}getHeaderTokenValue(){return this.userOAuthTokens?"".concat(this.userOAuthTokens.tokenType," ").concat(this.userOAuthTokens.accessToken):null}isLoggedIn(){return!!this.userOAuthTokens}refreshFetch(i,n){return fetch(i,n).then(r=>r.status!==Ie.UNAUTHORIZED_401?r:new Promise((t,a)=>{const o=ke.getItem(this.LOCAL_STORAGE_OAUTH_CLIENT_KEYS.CLIENT_ID),l=ke.getItem(this.LOCAL_STORAGE_OAUTH_CLIENT_KEYS.CLIENT_SECRET),u=new Headers;u.set("Content-Type","application/x-www-form-urlencoded");const c={refresh_token:this.userOAuthTokens.refreshToken,client_id:o,client_secret:l,response_type:"code",grant_type:"refresh_token"};fetch("/api/v1/users/token",{headers:u,method:"POST",body:Cl(c)}).then(d=>{if(d.status!==Ie.UNAUTHORIZED_401)return d.json()}).then(d=>{if(!d||d.code===Tl.INVALID_GRANT)return yt.flushLocalStorage(ke),this.removeTokensFromHeaders(),t();this.userOAuthTokens.accessToken=d.access_token,this.userOAuthTokens.refreshToken=d.refresh_token,yt.saveToLocalStorage(ke,this.userOAuthTokens),this.setHeadersFromTokens(),t()}).catch(d=>{a(d)})}).catch(()=>{yt.flushLocalStorage(ke),this.removeTokensFromHeaders()}).then(()=>fetch(i,{...n,headers:this.headers})))}setHeadersFromTokens(){this.headers.set("Authorization",this.getHeaderTokenValue())}removeTokensFromHeaders(){this.headers.delete("Authorization")}}function H(){return window.location.origin}class Il{constructor(i){E(this,"pluginsManager");this.http=i}loadPlugins(i,n){return this.pluginsManager=new Ss({peertubeHelpersFactory:r=>this.buildPeerTubeHelpers({pluginInfo:r,translations:n})}),this.pluginsManager.loadPluginsList(i),this.pluginsManager.ensurePluginsAreLoaded("embed")}getPluginsManager(){return this.pluginsManager}buildPeerTubeHelpers(i){const{pluginInfo:n,translations:r}=i,e=()=>{throw new Error("This helper is not implemented in embed.")};return{getBaseStaticRoute:e,getBaseRouterRoute:e,getBaseWebSocketRoute:e,getBasePluginClientPath:e,getSettings:()=>{const t=this.getPluginUrl()+"/"+n.plugin.npmName+"/public-settings";return this.http.fetch(t,{optionalAuth:!0}).then(a=>a.json()).then(a=>a.publicSettings)},getUser:e,isLoggedIn:()=>this.http.isLoggedIn(),getAuthHeader:()=>{if(this.http.isLoggedIn())return{Authorization:this.http.getHeaderTokenValue()}},notifier:{info:e,error:e,success:e},showModal:e,getServerConfig:e,markdownRenderer:{textMarkdownToHTML:e,enhancedMarkdownToHTML:e},translate:t=>Promise.resolve(Q(t,r))}}getPluginUrl(){return H()+"/api/v1/plugins"}}class Ll{constructor(i){E(this,"liveSocket");E(this,"stateChangeListeners",new Map);E(this,"forceEndListeners",new Map);this.playerHTML=i}async listenForChanges(i){const{video:n,onPublishedVideo:r,onForceEnd:e}=i;if(!this.liveSocket){const o=(await Ui(async()=>{const{io:l}=await import("./index-eIo3d2NV.js");return{io:l}},__vite__mapDeps([0,1]))).io;this.liveSocket=o(H()+"/live-videos")}const t=o=>{if(o.state===me.PUBLISHED){this.playerHTML.removeInformation(),r();return}},a=()=>{e()};this.liveSocket.on("state-change",t),this.liveSocket.on("force-end",a),this.stateChangeListeners.set(n.uuid,t),this.forceEndListeners.set(n.uuid,a),this.liveSocket.emit("subscribe",{videoId:n.id})}stopListeningForChanges(i){{const n=this.stateChangeListeners.get(i.uuid);n&&this.liveSocket.off("state-change",n)}{const n=this.forceEndListeners.get(i.uuid);n&&this.liveSocket.off("force-end",n)}this.liveSocket.emit("unsubscribe",{videoId:i.id})}displayInfo(i){const{state:n,translations:r}=i;if(n===me.WAITING_FOR_LIVE){this.displayWaitingForLiveInfo(r);return}if(n===me.LIVE_ENDED){this.displayEndedLiveInfo(r);return}}displayWaitingForLiveInfo(i){this.playerHTML.displayInformation("This live is not currently streaming.",i)}displayEndedLiveInfo(i){this.playerHTML.displayInformation("This live has ended.",i)}}class Ol{constructor(i){E(this,"wrapperElement");E(this,"initVideoEl");E(this,"informationElement");this.videoWrapperId=i,this.wrapperElement=document.getElementById(this.videoWrapperId)}getInitVideoEl(){return this.initVideoEl}setInitVideoEl(i){this.initVideoEl=i}addInitVideoElToDOM(){this.wrapperElement.appendChild(this.initVideoEl)}displayError(i,n){R.error(i),this.initVideoEl&&(this.removeElement(this.initVideoEl),this.initVideoEl=void 0);const r=Q(i,n),e=Q("Sorry",n);document.title=e+" - "+r;const t=document.getElementById("error-block");t.style.display="flex";const a=document.getElementById("error-title");a.innerHTML=Q("Sorry",n);const o=document.getElementById("error-content");o.innerHTML=r,this.wrapperElement.style.display="none"}async askVideoPassword(i){const{incorrectPassword:n,translations:r}=i;return new Promise(e=>{this.wrapperElement.style.display="none";const t=Q("This video is password protected",r),a=Q("You need a password to watch this video.",r);document.title=t;const o=document.getElementById("video-password-block");o.style.display="flex";const l=document.getElementById("video-password-title");l.innerText=t;const u=document.getElementById("video-password-content");if(u.innerText=a,n){const f=document.getElementById("video-password-error");f.innerText=Q("Incorrect password, please enter a correct password",r),f.style.transform="scale(1.2)",setTimeout(()=>{f.style.transform="scale(1)"},500)}const c=document.getElementById("video-password-submit");c.innerText=Q("Watch Video",r);const d=document.getElementById("video-password-input");d.placeholder=Q("Password",r),document.getElementById("video-password-form").addEventListener("submit",f=>{f.preventDefault();const v=d.value;e(v)})})}removeVideoPasswordBlock(){const i=document.getElementById("video-password-block");i.style.display="none",this.wrapperElement.style.display="block"}displayInformation(i,n){this.informationElement&&this.removeInformation(),this.informationElement=document.createElement("div"),this.informationElement.className="player-information",this.informationElement.innerText=Q(i,n),document.body.appendChild(this.informationElement)}removeInformation(){this.informationElement&&(this.removeElement(this.informationElement),this.informationElement=void 0)}removeElement(i){i.parentElement.removeChild(i)}}class Nl{constructor(i,n,r){E(this,"autoplay");E(this,"controls");E(this,"controlBar");E(this,"muted");E(this,"loop");E(this,"subtitle");E(this,"enableApi",!1);E(this,"startTime",0);E(this,"stopTime");E(this,"playbackRate");E(this,"title");E(this,"warningTitle");E(this,"peertubeLink");E(this,"p2pEnabled");E(this,"bigPlayBackgroundColor");E(this,"foregroundColor");E(this,"waitPasswordFromEmbedAPI",!1);E(this,"mode");E(this,"scope","peertube");this.playerHTML=i,this.videoFetcher=n,this.peertubePlugin=r}hasAPIEnabled(){return this.enableApi}hasAutoplay(){return this.autoplay}hasControls(){return this.controls}hasTitle(){return this.title}hasWarningTitle(){return this.warningTitle}hasP2PEnabled(){return!!this.p2pEnabled}hasBigPlayBackgroundColor(){return!!this.bigPlayBackgroundColor}getBigPlayBackgroundColor(){return this.bigPlayBackgroundColor}hasForegroundColor(){return!!this.foregroundColor}getForegroundColor(){return this.foregroundColor}getMode(){return this.mode}getScope(){return this.scope}mustWaitPasswordFromEmbedAPI(){return this.waitPasswordFromEmbedAPI}loadCommonParams(){try{const i=new URL(window.location.toString()).searchParams;this.controls=Z(i,"controls",!0),this.controlBar=Z(i,"controlBar",!0),this.muted=Z(i,"muted",void 0),this.loop=Z(i,"loop",!1),this.title=Z(i,"title",!0),this.enableApi=Z(i,"api",this.enableApi),this.waitPasswordFromEmbedAPI=Z(i,"waitPasswordFromEmbedAPI",this.waitPasswordFromEmbedAPI),this.warningTitle=Z(i,"warningTitle",!0),this.peertubeLink=Z(i,"peertubeLink",!0),this.scope=ae(i,"scope",this.scope),this.subtitle=ae(i,"subtitle"),this.startTime=ae(i,"start"),this.stopTime=ae(i,"stop"),this.playbackRate=ae(i,"playbackRate"),this.bigPlayBackgroundColor=ae(i,"bigPlayBackgroundColor"),this.foregroundColor=ae(i,"foregroundColor")}catch(i){R.error("Cannot get params from URL.",i)}}loadVideoParams(i,n){try{const r=new URL(window.location.toString()).searchParams;this.autoplay=Z(r,"autoplay",!1),(n.state.id===me.LIVE_ENDED||n.state.id===me.WAITING_FOR_LIVE)&&(this.autoplay=!1),this.p2pEnabled=Z(r,"p2p",this.isP2PEnabled(i,n));const e=ae(r,"mode");e?e==="p2p-media-loader"?this.mode="p2p-media-loader":this.mode="web-video":Array.isArray(n.streamingPlaylists)&&n.streamingPlaylists.length!==0?this.mode="p2p-media-loader":this.mode="web-video"}catch(r){R.error("Cannot get params from URL.",r)}}getPlayerConstructorOptions(i){const{serverConfig:n,authorizationHeader:r}=i;return{controls:this.controls,controlBar:this.controlBar,muted:this.muted,loop:this.loop,playbackRate:this.playbackRate,inactivityTimeout:2500,videoViewIntervalMs:n.views.videos.watchingInterval.anonymous,metricsUrl:n.openTelemetry.metrics.enabled?H()+"/api/v1/metrics/playback":null,metricsInterval:n.openTelemetry.metrics.playbackStatsInterval,authorizationHeader:r,playerElement:()=>this.playerHTML.getInitVideoEl(),enableHotkeys:!0,peertubeLink:()=>this.peertubeLink,instanceName:n.instance.name,theaterButton:!1,serverUrl:H(),language:navigator.language,pluginsManager:this.peertubePlugin.getPluginsManager(),errorNotifier:()=>{}}}async getPlayerLoadOptions(i){const{video:n,captionsResponse:r,videoFileToken:e,videoPassword:t,requiresPassword:a,translations:o,alreadyPlayed:l,forceAutoplay:u,playlist:c,live:d,storyboardsResponse:h,chaptersResponse:f}=i,[v,b,S]=await Promise.all([this.buildCaptions(r,o),this.buildStoryboard(h),this.buildChapters(f)]);return{mode:this.mode,autoplay:u||l||this.autoplay,forceAutoplay:u,p2pEnabled:this.p2pEnabled,subtitle:this.subtitle,storyboard:b,videoChapters:S,startTime:c?c.playlistTracker.getCurrentElement().startTimestamp:this.startTime,stopTime:c?c.playlistTracker.getCurrentElement().stopTimestamp:this.stopTime,videoCaptions:v,videoViewUrl:this.videoFetcher.getVideoViewsUrl(n.uuid),videoShortUUID:n.shortUUID,videoUUID:n.uuid,duration:n.duration,videoRatio:n.aspectRatio,poster:H()+n.previewPath,embedUrl:H()+n.embedPath,embedTitle:n.name,requiresUserAuth:Sl(n),videoFileToken:e,requiresPassword:a,videoPassword:t,...this.buildLiveOptions(n,d),...this.buildPlaylistOptions(c),dock:this.buildDockOptions(n),webVideo:{videoFiles:n.files},hls:this.buildHLSOptions(n)}}buildLiveOptions(i,n){return i.isLive?{isLive:!0,liveOptions:{latencyMode:n.latencyMode}}:{isLive:!1}}async buildStoryboard(i){const{storyboards:n}=await i.json();if(!(!n||n.length===0))return{url:H()+n[0].storyboardPath,height:n[0].spriteHeight,width:n[0].spriteWidth,interval:n[0].spriteDuration}}async buildChapters(i){const{chapters:n}=await i.json();return n}buildPlaylistOptions(i){if(!i)return{nextVideo:{enabled:!1,displayControlBarButton:!1,getVideoTitle:()=>""},previousVideo:{enabled:!1,displayControlBarButton:!1}};const{playlistTracker:n,playNext:r,playPrevious:e,onVideoUpdate:t}=i;return{playlist:{elements:n.getPlaylistElements(),playlist:n.getPlaylist(),getCurrentPosition:()=>n.getCurrentPosition(),onItemClicked:a=>{n.setCurrentElement(a),t(a.video.uuid)}},previousVideo:{enabled:n.hasPreviousPlaylistElement(),handler:()=>e(),displayControlBarButton:!0},nextVideo:{enabled:n.hasNextPlaylistElement(),handler:()=>r(),getVideoTitle:()=>{var a,o;return(o=(a=n.getNextPlaylistElement())==null?void 0:a.video)==null?void 0:o.name},displayControlBarButton:!0},upnext:{isEnabled:()=>!0,isSuspended:()=>!1,timeout:0}}}buildHLSOptions(i){const n=i.streamingPlaylists.find(r=>r.type===bl.HLS);if(n)return{playlistUrl:n.playlistUrl,segmentsSha256Url:n.segmentsSha256Url,redundancyBaseUrls:n.redundancies.map(r=>r.baseUrl),trackerAnnounce:i.trackerUrls,videoFiles:n.files}}async buildCaptions(i,n){if(i.ok){const{data:r}=await i.json();return r.map(e=>({label:Q(e.language.label,n),language:e.language.id,automaticallyGenerated:e.automaticallyGenerated,src:H()+e.captionPath}))}return[]}buildDockOptions(i){if(!this.hasControls())return;const n=this.hasTitle()?i.name:void 0,r=this.hasWarningTitle()&&this.hasP2PEnabled()?Q("Watching this video may reveal your IP address to others."):void 0;if(!n&&!r)return;const e=i.channel.avatars.filter(a=>a.width<50),t=e.length!==0?e[0]:void 0;return{title:n,description:r,avatarUrl:n&&t?t.path:void 0}}isP2PEnabled(i,n){const r=El(ke.getItem(Ps.P2P_ENABLED),i.defaults.p2p.embed.enabled);return kl(n,i,r)}}class Ml{constructor(i){this.http=i}async loadPlaylist(i){const n=this.loadPlaylistInfo(i),r=this.loadPlaylistElements(i);let e,t;try{e=await n,t=e.status===Ie.OK_200}catch(a){R.error(a),t=!1}if(!t)throw(e==null?void 0:e.status)===Ie.NOT_FOUND_404?new Error("This playlist does not exist."):new Error("We cannot fetch the playlist. Please try again later.");return{playlistResponse:e,videosResponse:await r}}async loadAllPlaylistVideos(i,n){let r=n.data,e=n.total,t=0;for(;e>r.length&&t<10;){const o=await(await this.loadPlaylistElements(i,r.length)).json();e=o.total,r=r.concat(o.data),t++}return t===10&&R.error("Cannot fetch all playlists elements, there are too many!"),r}loadPlaylistInfo(i){return this.http.fetch(this.getPlaylistUrl(i),{optionalAuth:!0})}loadPlaylistElements(i,n=0){const r=new URL(this.getPlaylistUrl(i)+"/videos");return r.search=new URLSearchParams({start:""+n,count:"100"}).toString(),this.http.fetch(r.toString(),{optionalAuth:!0})}getPlaylistUrl(i){return H()+"/api/v1/video-playlists/"+i}}class Rl{constructor(i,n){E(this,"currentPlaylistElement");this.playlist=i,this.playlistElements=n}getPlaylist(){return this.playlist}getPlaylistElements(){return this.playlistElements}hasNextPlaylistElement(i){return!!this.getNextPlaylistElement(i)}getNextPlaylistElement(i){if(i||(i=this.currentPlaylistElement.position+1),i>this.playlist.videosLength)return;const n=this.playlistElements.find(r=>r.position===i);return n!=null&&n.video?n:this.getNextPlaylistElement(i+1)}hasPreviousPlaylistElement(i){return!!this.getPreviousPlaylistElement(i)}getPreviousPlaylistElement(i){if(i||(i=this.currentPlaylistElement.position-1),i<1)return;const n=this.playlistElements.find(r=>r.position===i);return n!=null&&n.video?n:this.getNextPlaylistElement(i-1)}nextVideoTitle(){const i=this.getNextPlaylistElement();return i?i.video.name:""}setPosition(i){var n;if(this.currentPlaylistElement=this.playlistElements.find(r=>r.position===i),(n=this.currentPlaylistElement)!=null&&n.video||(R.error("Current playlist element is not valid.",this.currentPlaylistElement),this.currentPlaylistElement=this.getNextPlaylistElement()),!this.currentPlaylistElement)throw new Error("This playlist does not have any valid element")}setCurrentElement(i){this.currentPlaylistElement=i}getCurrentElement(){return this.currentPlaylistElement}getCurrentPosition(){return this.currentPlaylistElement?this.currentPlaylistElement.position:-1}}class Dl extends Error{constructor(n,r){super(n);E(this,"serverCode");this.name="CustomError",this.serverCode=r}}class Fl{constructor(i){this.http=i}async loadVideo({videoId:i,videoPassword:n}){const r=this.loadVideoInfo({videoId:i,videoPassword:n});let e,t;try{e=await r,t=e.status===Ie.OK_200}catch(u){R.error(u),t=!1}if(!t){if((e==null?void 0:e.status)===Ie.NOT_FOUND_404)throw new Error("This video does not exist.");if((e==null?void 0:e.status)===Ie.FORBIDDEN_403){const u=await e.json();throw new Dl(u.message||u.detail,u.code)}throw new Error("We cannot fetch the video. Please try again later.")}const a=this.loadVideoCaptions({videoId:i,videoPassword:n}),o=this.loadVideoChapters({videoId:i,videoPassword:n}),l=this.loadStoryboards(i);return{captionsPromise:a,chaptersPromise:o,storyboardsPromise:l,videoResponse:e}}loadLive(i){return this.http.fetch(this.getLiveUrl(i.uuid),{optionalAuth:!0}).then(n=>n.json())}loadVideoToken(i,n){return this.http.fetch(this.getVideoTokenUrl(i.uuid),{optionalAuth:!0,method:"POST"},n).then(r=>r.json()).then(r=>r.files.token)}getVideoViewsUrl(i){return this.getVideoUrl(i)+"/views"}loadVideoInfo({videoId:i,videoPassword:n}){return this.http.fetch(this.getVideoUrl(i),{optionalAuth:!0},n)}loadVideoCaptions({videoId:i,videoPassword:n}){return this.http.fetch(this.getVideoUrl(i)+"/captions",{optionalAuth:!0},n)}loadVideoChapters({videoId:i,videoPassword:n}){return this.http.fetch(this.getVideoUrl(i)+"/chapters",{optionalAuth:!0},n)}getVideoUrl(i){return H()+"/api/v1/videos/"+i}getLiveUrl(i){return H()+"/api/v1/videos/live/"+i}loadStoryboards(i){return this.http.fetch(this.getStoryboardsUrl(i),{optionalAuth:!0})}getStoryboardsUrl(i){return H()+"/api/v1/videos/"+i+"/storyboards"}getVideoTokenUrl(i){return this.getVideoUrl(i)+"/token"}}class ni{constructor(i){E(this,"player");E(this,"api",null);E(this,"config");E(this,"translationsPromise");E(this,"PeerTubePlayerManagerModulePromise");E(this,"http");E(this,"videoFetcher");E(this,"playlistFetcher");E(this,"peertubePlugin");E(this,"playerHTML");E(this,"playerOptionsBuilder");E(this,"liveManager");E(this,"peertubePlayer");E(this,"playlistTracker");E(this,"alreadyInitialized",!1);E(this,"alreadyPlayed",!1);E(this,"videoPassword");E(this,"videoPasswordFromAPI");E(this,"onVideoPasswordFromAPIResolver");E(this,"requiresPassword");R.registerServerSending(H()),this.http=new Al,this.videoFetcher=new Fl(this.http),this.playlistFetcher=new Ml(this.http),this.peertubePlugin=new Il(this.http),this.playerHTML=new Ol(i),this.playerOptionsBuilder=new Nl(this.playerHTML,this.videoFetcher,this.peertubePlugin),this.liveManager=new Ll(this.playerHTML),this.requiresPassword=!1;try{this.config=JSON.parse(window.PeerTubeServerConfig)}catch(n){R.error("Cannot parse HTML config.",n)}}static async main(){const i="video-wrapper";await new ni(i).init()}getScope(){return this.playerOptionsBuilder.getScope()}async init(){this.translationsPromise=Cr.getServerTranslations(H(),navigator.language),this.PeerTubePlayerManagerModulePromise=Ui(()=>import("./peertube-player-DY9Muruo.js"),__vite__mapDeps([2,3,1])),this.config||(this.config=await this.http.fetch(H()+"/api/v1/config",{optionalAuth:!1}).then(n=>n.json()));const i=this.isPlaylistEmbed()?await this.initPlaylist():this.getResourceId();if(i)return this.loadVideoAndBuildPlayer({uuid:i,forceAutoplay:!1})}async initPlaylist(){const i=this.getResourceId();try{const n=await this.playlistFetcher.loadPlaylist(i),[r,e]=await Promise.all([n.playlistResponse.json(),n.videosResponse.json()]),t=await this.playlistFetcher.loadAllPlaylistVideos(i,e);this.playlistTracker=new Rl(r,t);const a=new URL(window.location.toString()).searchParams,o=ae(a,"playlistPosition"),l=o?parseInt(o+"",10):1;this.playlistTracker.setPosition(l)}catch(n){this.playerHTML.displayError(n.message,await this.translationsPromise);return}return this.playlistTracker.getCurrentElement().video.uuid}initializeApi(){this.playerOptionsBuilder.hasAPIEnabled()&&(this.api||(this.api=new xl(this),this.api.initialize()))}setVideoPasswordByAPI(i){R.info("Setting password from API"),this.videoPasswordFromAPI=i,this.onVideoPasswordFromAPIResolver&&this.onVideoPasswordFromAPIResolver(i)}getPasswordByAPI(){return this.videoPasswordFromAPI?Promise.resolve(this.videoPasswordFromAPI):new Promise(i=>{this.onVideoPasswordFromAPIResolver=i})}async playNextPlaylistVideo(){const i=this.playlistTracker.getNextPlaylistElement();if(!i){R.info("Next element not found in playlist.");return}return this.playlistTracker.setCurrentElement(i),this.loadVideoAndBuildPlayer({uuid:i.video.uuid,forceAutoplay:!1})}async playPreviousPlaylistVideo(){const i=this.playlistTracker.getPreviousPlaylistElement();if(!i){R.info("Previous element not found in playlist.");return}this.playlistTracker.setCurrentElement(i),await this.loadVideoAndBuildPlayer({uuid:i.video.uuid,forceAutoplay:!1})}getCurrentPlaylistPosition(){return this.playlistTracker.getCurrentPosition()}async loadVideoAndBuildPlayer(i){const{uuid:n,forceAutoplay:r}=i;this.playerOptionsBuilder.loadCommonParams(),this.initializeApi();try{const{videoResponse:e,captionsPromise:t,chaptersPromise:a,storyboardsPromise:o}=await this.videoFetcher.loadVideo({videoId:n,videoPassword:this.videoPassword});return this.buildVideoPlayer({videoResponse:e,captionsPromise:t,chaptersPromise:a,storyboardsPromise:o,forceAutoplay:r})}catch(e){await this.handlePasswordError(e)?this.loadVideoAndBuildPlayer({...i}):this.playerHTML.displayError(e.message,await this.translationsPromise)}}async buildVideoPlayer(i){const{videoResponse:n,captionsPromise:r,chaptersPromise:e,storyboardsPromise:t,forceAutoplay:a}=i,o=n.json().then(async T=>{this.playerOptionsBuilder.loadVideoParams(this.config,T);const k=T.isLive?await this.videoFetcher.loadLive(T):void 0,X=Pl(T)?await this.videoFetcher.loadVideoToken(T,this.videoPassword):void 0;return{live:k,video:T,videoFileToken:X}}),[{video:l,live:u,videoFileToken:c},d,h,f,v]=await Promise.all([o,this.translationsPromise,r,e,t,this.buildPlayerIfNeeded()]),b=this.playlistTracker?{onVideoUpdate:T=>this.loadVideoAndBuildPlayer({uuid:T,forceAutoplay:!1}),playlistTracker:this.playlistTracker,playNext:()=>this.playNextPlaylistVideo(),playPrevious:()=>this.playPreviousPlaylistVideo()}:void 0,S=await this.playerOptionsBuilder.getPlayerLoadOptions({video:l,captionsResponse:h,chaptersResponse:f,translations:d,storyboardsResponse:v,videoFileToken:()=>c,videoPassword:()=>this.videoPassword,requiresPassword:this.requiresPassword,playlist:b,live:u,forceAutoplay:a,alreadyPlayed:this.alreadyPlayed});await this.peertubePlayer.load(S),this.alreadyInitialized||(this.player=this.peertubePlayer.getPlayer(),window.videojsPlayer=this.player,this.buildCSS(),this.api&&this.api.initWithVideo()),this.alreadyInitialized=!0,this.player.one("play",()=>{this.alreadyPlayed=!0}),this.videoPassword&&this.playerHTML.removeVideoPasswordBlock(),l.isLive&&(this.liveManager.listenForChanges({video:l,onPublishedVideo:()=>{this.liveManager.stopListeningForChanges(l),this.loadVideoAndBuildPlayer({uuid:l.uuid,forceAutoplay:!0})},onForceEnd:()=>this.endLive(l,d)}),l.state.id===me.WAITING_FOR_LIVE||l.state.id===me.LIVE_ENDED?(this.liveManager.displayInfo({state:l.state.id,translations:d}),this.peertubePlayer.disable()):this.player.one("ended",()=>this.endLive(l,d))),this.peertubePlugin.getPluginsManager().runHook("action:embed.player.loaded",void 0,{player:this.player,videojs:ye,video:l})}buildCSS(){const i=document.getElementById("custom-css");this.playerOptionsBuilder.hasBigPlayBackgroundColor()&&i.style.setProperty("--embedBigPlayBackgroundColor",this.playerOptionsBuilder.getBigPlayBackgroundColor()),this.playerOptionsBuilder.hasForegroundColor()&&i.style.setProperty("--embedForegroundColor",this.playerOptionsBuilder.getForegroundColor())}getResourceId(){const i=window.location.search;if(i.startsWith("?videoId="))return i.replace(/^\?videoId=/,"");if(i.startsWith("?videoPlaylistId="))return i.replace(/^\?videoPlaylistId=/,"");const n=window.location.pathname.split("/");return n[n.length-1]}isPlaylistEmbed(){return window.location.pathname.split("/")[1]==="video-playlists"}endLive(i,n){this.liveManager.displayInfo({state:me.LIVE_ENDED,translations:n}),this.peertubePlayer.unload(),this.peertubePlayer.disable(),this.peertubePlayer.setPoster(i.previewPath)}async handlePasswordError(i){let n=null;if(i.serverCode===Hi.VIDEO_REQUIRES_PASSWORD?n=!1:i.serverCode===Hi.INCORRECT_VIDEO_PASSWORD&&(n=!0),n===null)return!1;if(this.requiresPassword=!0,this.playerOptionsBuilder.mustWaitPasswordFromEmbedAPI()){R.info("Waiting for password from Embed API");const r=await this.getPasswordByAPI();return r&&this.videoPassword!==r?(R.info("Using video password from API"),this.videoPassword=r,!0):(R.error("Password from embed API is not valid"),!1)}return this.videoPassword=await this.playerHTML.askVideoPassword({incorrectPassword:n,translations:await this.translationsPromise}),!0}async buildPlayerIfNeeded(){if(this.peertubePlayer){this.peertubePlayer.enable();return}const i=document.createElement("video");i.className="video-js vjs-peertube-skin",i.setAttribute("playsinline","true"),this.playerHTML.setInitVideoEl(i),this.playerHTML.addInitVideoElToDOM();const[{PeerTubePlayer:n}]=await Promise.all([this.PeerTubePlayerManagerModulePromise,this.peertubePlugin.loadPlugins(this.config,await this.translationsPromise)]),r=this.playerOptionsBuilder.getPlayerConstructorOptions({serverConfig:this.config,authorizationHeader:()=>this.http.getHeaderTokenValue()});this.peertubePlayer=new n(r),this.player=this.peertubePlayer.getPlayer()}getImageDataUrl(){const i=document.createElement("canvas");i.width=this.player.videoWidth(),i.height=this.player.videoHeight();const n=this.player.tech(!0).el();return i.getContext("2d").drawImage(n,0,0,i.width,i.height),i.toDataURL("image/jpeg")}}ni.main().catch(s=>{window.displayIncompatibleBrowser(),R.error("Cannot init embed.",s)});export{Cr as T,Ui as _,Bl as b,ye as v};
