import{B as D}from"./chunk-XEFO2OX5.js";import{a as $}from"./chunk-WRZZAQTV.js";import{a as A,c as V,f as L,k,z}from"./chunk-AHXSH3AS.js";import{Ab as h,Ca as o,Da as O,Eb as N,Fb as R,Gb as S,Hb as F,Ib as P,Oa as u,Sa as s,X as _,ab as p,ba as C,bb as c,cb as x,fg as G,gb as E,ka as b,kb as I,la as y,ma as M,ob as f,pb as g,pc as T,rc as w,sa as v,zb as d}from"./chunk-4A7FW7VV.js";import{j as t}from"./chunk-K6ICEIKK.js";function B(a,n){if(a&1&&x(0,"my-global-icon",7),a&2){let i=g();s("iconName",i.icon);}}function W(a,n){if(a&1&&(p(0,"div",8),d(1),c()),a&2){let i=g();o(),h(i.filename);}}function j(a,n){if(a&1){let i=E();p(0,"button",9),f("click",function(){y(i);let m=g();return M(m.reset());}),I(1,0),c();}}var r=class r{constructor(n){this.notifier=n;t(this,"theme","secondary");t(this,"inputLabel");t(this,"inputName");t(this,"extensions",[]);t(this,"maxFileSize");t(this,"displayFilename",!1);t(this,"displayReset",!1);t(this,"icon");t(this,"buttonTooltip");t(this,"fileChanged",new v());t(this,"classes",{});t(this,"allowedExtensionsMessage","");t(this,"fileInputValue");t(this,"file");t(this,"propagateChange",n=>{});}get filename(){return this.file?this.file.name:"";}ngOnInit(){this.allowedExtensionsMessage=this.extensions.join(", "),this.buildClasses();}ngOnChanges(){this.buildClasses();}buildClasses(){this.classes={"with-icon":!!this.icon,"orange-button":this.theme==="primary","grey-button":this.theme==="secondary"};}fileChange(n){var i;if((i=n.target.files)!=null&&i.length){let[e]=n.target.files;if(e.size>this.maxFileSize){this.notifier.error("Ova je datoteka prevelika.");return;}let m="."+e.name.split(".").pop();if(this.extensions.includes(m.toLowerCase())===!1){let l="PeerTube ne mo\u017Ee obraditi ovu vrstu datoteke. Prihva\u0107eni datote\u010Dni nastavci su "+this.allowedExtensionsMessage+".";this.notifier.error(l);return;}this.file=e,this.propagateChange(this.file);}this.fileChanged.emit(this.file);}reset(){this.writeValue(void 0),this.propagateChange(void 0),this.fileChanged.emit(void 0);}writeValue(n){this.file=n,this.file||(this.fileInputValue=null);}registerOnChange(n){this.propagateChange=n;}registerOnTouched(){}};t(r,"\u0275fac",function(i){return new(i||r)(O(G));}),t(r,"\u0275cmp",C({type:r,selectors:[["my-reactive-file"]],inputs:{theme:"theme",inputLabel:"inputLabel",inputName:"inputName",extensions:"extensions",maxFileSize:"maxFileSize",displayFilename:"displayFilename",displayReset:"displayReset",icon:"icon",buttonTooltip:"buttonTooltip"},outputs:{fileChanged:"fileChanged"},standalone:!0,features:[F([{provide:A,useExisting:_(()=>r),multi:!0}]),b,P],decls:8,vars:10,consts:()=>{let n;return n="Obnovi",[n,[1,"root"],[1,"button-file",3,"ngClass","ngbTooltip"],[3,"iconName",4,"ngIf"],["type","file",3,"change","ngModelChange","name","id","accept","ngModel"],["class","filename",4,"ngIf"],["class","reset-button reset-button-small ms-2",3,"click",4,"ngIf"],[3,"iconName"],[1,"filename"],[1,"reset-button","reset-button-small","ms-2",3,"click"]];},template:function(i,e){i&1&&(p(0,"div",1)(1,"div",2),u(2,B,1,1,"my-global-icon",3),p(3,"span"),d(4),c(),p(5,"input",4),f("change",function(l){return e.fileChange(l);}),S("ngModelChange",function(l){return R(e.fileInputValue,l)||(e.fileInputValue=l),l;}),c()(),u(6,W,2,1,"div",5)(7,j,2,0,"button",6),c()),i&2&&(o(),s("ngClass",e.classes)("ngbTooltip",e.buttonTooltip),o(),s("ngIf",e.icon),o(2),h(e.inputLabel),o(),s("name",e.inputName)("id",e.inputName)("accept",e.extensions),N("ngModel",e.fileInputValue),o(),s("ngIf",e.displayFilename===!0&&e.filename),o(),s("ngIf",e.displayReset&&e.filename));},dependencies:[T,D,w,$,z,V,L,k],styles:[".root[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}.root[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{width:auto;position:relative;overflow:hidden;display:inline-block;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.root[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.root[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.root[_ngcontent-%COMP%]   .button-file.with-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:20px;top:-1px;margin-inline-end:.1875rem}.root[_ngcontent-%COMP%]   .filename[_ngcontent-%COMP%]{font-weight:600;margin-inline-start:.3125rem}"]}));var H=r;export{H as a};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/