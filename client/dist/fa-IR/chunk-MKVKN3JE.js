import{b as y}from"./chunk-NO6VG5DO.js";import"./chunk-WRZZAQTV.js";import{h as G}from"./chunk-5CNYD3QV.js";import{b as $,c as b}from"./chunk-RZGVOE4L.js";import{A as I,d as O,f as C,g as v,l as M,o as N,r as w,z as D}from"./chunk-AHXSH3AS.js";import{Ca as _,Da as t,Ib as T,La as c,Sa as S,Zc as g,ab as d,ad as A,ba as u,bb as i,cb as l,fg as h,kb as p,ob as P,ug as W}from"./chunk-4A7FW7VV.js";import"./chunk-BERSDMCF.js";import"./chunk-ONF7AOBQ.js";import{j as a}from"./chunk-K6ICEIKK.js";var F={VALIDATORS:[O.required],MESSAGES:{required:"\u062A\u0623\u06CC\u06CC\u062F \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0644\u0632\u0627\u0645\u06CC \u0627\u0633\u062A."}};var s=class s extends b{constructor(e,o,r,m,E){super();this.formReactiveService=e;this.userService=o;this.notifier=r;this.router=m;this.route=E;a(this,"userId");a(this,"verificationString");}ngOnInit(){this.buildForm({password:G,"password-confirm":F}),this.userId=this.route.snapshot.queryParams.userId,this.verificationString=this.route.snapshot.queryParams.verificationString,(!this.userId||!this.verificationString)&&(this.notifier.error("\u0642\u0627\u062F\u0631 \u0628\u0647 \u067E\u06CC\u062F\u0627 \u06A9\u0631\u062F\u0646 \u0634\u0646\u0627\u0633\u0647 \u06A9\u0627\u0631\u0628\u0631 \u06CC\u0627 \u0631\u0634\u062A\u0647 \u062A\u0623\u06CC\u06CC\u062F \u0646\u06CC\u0633\u062A."),this.router.navigate(["/"]));}resetPassword(){this.userService.resetPassword(this.userId,this.verificationString,this.form.value.password).subscribe({next:()=>{this.notifier.success("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0634\u0645\u0627 \u0628\u0627\u0645\u0648\u0641\u0642\u06CC\u062A \u0631\u06CC\u0633\u062A \u0634\u062F!"),this.router.navigate(["/login"]);},error:e=>this.notifier.error(e.message)});}isConfirmedPasswordValid(){let e=this.form.value;return e.password===e["password-confirm"];}};a(s,"\u0275fac",function(o){return new(o||s)(t($),t(W),t(h),t(A),t(g));}),a(s,"\u0275cmp",u({type:s,selectors:[["ng-component"]],standalone:!0,features:[c,T],decls:13,vars:4,consts:()=>{let e;e="\u0631\u0645\u0632\u0639\u0628\u0648\u0631";let o;o="\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u062A\u0627\u06CC\u06CC\u062F \u0634\u062F\u0647";let r;r="\u062A\u063A\u06CC\u06CC\u0631 \u0631\u0645\u0632\u0639\u0628\u0648\u0631";let m;m="\u062A\u063A\u06CC\u06CC\u0631 \u0631\u0645\u0632\u0639\u0628\u0648\u0631";let E;E="\u0631\u0645\u0632\u0639\u0628\u0648\u0631";let f;return f="\u062A\u0627\u06CC\u06CC\u062F \u0631\u0645\u0632\u0639\u0628\u0648\u0631",[m,E,f,[1,"margin-content"],[1,"title-page"],["role","form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","password"],["formControlName","password","inputId","password","placeholder",e,"autocomplete","new-password",3,"formError"],["for","password-confirm"],["formControlName","password-confirm","inputId","password-confirm","placeholder",o,"autocomplete","new-password",3,"formError"],["type","submit","value",r,1,"peertube-button","orange-button",3,"disabled"]];},template:function(o,r){o&1&&(d(0,"div",3)(1,"h1",4),p(2,0),i(),d(3,"form",5),P("ngSubmit",function(){return r.resetPassword();}),d(4,"div",6)(5,"label",7),p(6,1),i(),l(7,"my-input-text",8),i(),d(8,"div",6)(9,"label",9),p(10,2),i(),l(11,"my-input-text",10),i(),l(12,"input",11),i()()),o&2&&(_(3),S("formGroup",r.form),_(4),S("formError",r.formErrors.password),_(4),S("formError",r.formErrors["password-confirm"]),_(),S("disabled",!r.form.valid||!r.isConfirmedPasswordValid()));},dependencies:[D,M,C,v,I,N,w,y],styles:["my-input-text[_ngcontent-%COMP%]{max-width:340px;display:block}"]}));var R=s;var re=[{path:"",component:R,data:{meta:{title:"\u062A\u0646\u0638\u06CC\u0645 \u0645\u062C\u062F\u062F \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}}}];export{re as default};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/