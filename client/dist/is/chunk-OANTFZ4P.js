import{B as k,k as D,m as B,n as $}from"./chunk-XEFO2OX5.js";import{a as U}from"./chunk-WRZZAQTV.js";import{Ca as p,Da as E,Df as z,Ef as H,Ib as S,Oa as d,Qf as G,Sa as a,Wb as I,ab as c,ba as y,bb as l,cb as _,fb as v,fg as L,gb as M,kb as s,la as f,ma as C,ob as O,pb as g,rc as R,sa as h,ua as x,vb as P,wb as T,wc as N,xb as w,yb as u,za as A}from"./chunk-4A7FW7VV.js";import{j as r}from"./chunk-K6ICEIKK.js";var V=["bannerfileInput"],Q=["bannerPopover"];function X(i,t){if(i&1&&_(0,"img",11),i&2){let e=g();a("src",e.preview||e.bannerUrl,A);}}function j(i,t){i&1&&v(0);}function q(i,t){if(i&1&&(c(0,"div",12),d(1,j,1,0,"ng-container",13),l()),i&2){let e=g(),n=u(7);a("ngbTooltip",e.bannerFormat),p(),a("ngTemplateOutlet",n);}}function J(i,t){i&1&&v(0);}function K(i,t){if(i&1){let e=M();c(0,"div",14)(1,"button",15),_(2,"my-global-icon",16),c(3,"label",17),s(4,2),l()(),c(5,"div",18)(6,"div",19),d(7,J,1,0,"ng-container",13),l(),c(8,"button",20),O("click",function(){f(e);let o=g();return C(o.deleteBanner());}),_(9,"my-global-icon",21),c(10,"span"),s(11,3),l()()()();}if(i&2){let e=g(),n=u(7);p(6),a("ngbTooltip",e.bannerFormat),p(),a("ngTemplateOutlet",n);}}function W(i,t){if(i&1){let e=M();_(0,"my-global-icon",22),c(1,"span",23),s(2,4),l(),c(3,"input",24,1),O("change",function(){f(e);let o=u(4),b=g();return C(b.onBannerChange(o));}),l();}if(i&2){let e=g();p(3),a("accept",e.bannerExtensions);}}var m=class m{constructor(t,e){this.serverService=t;this.notifier=e;r(this,"bannerfileInput");r(this,"bannerPopover");r(this,"bannerUrl");r(this,"previewImage",!1);r(this,"bannerChange",new h());r(this,"bannerDelete",new h());r(this,"bannerFormat","");r(this,"maxBannerSize",0);r(this,"bannerExtensions","");r(this,"preview");}ngOnInit(){let t=this.serverService.getHTMLConfig();this.maxBannerSize=t.banner.file.size.max,this.bannerExtensions=t.banner.file.extensions.join(", "),this.bannerFormat="hlutfalli\xF0 6/1, \xE1kj\xF3sanleg st\xE6r\xF0: 1920x317, h\xE1marksst\xE6r\xF0: "+z(this.maxBannerSize)+", skr\xE1arendingar: "+this.bannerExtensions+"";}onBannerChange(t){var o;this.bannerfileInput=new x(t);let e=this.bannerfileInput.nativeElement.files[0];if(e.size>this.maxBannerSize){this.notifier.error("Error","\xDEessi mynd er of st\xF3r.");return;}let n=new FormData();n.append("bannerfile",e),(o=this.bannerPopover)==null||o.close(),this.bannerChange.emit(n),this.previewImage&&H(e).then(b=>this.preview=b);}deleteBanner(){this.preview=void 0,this.bannerDelete.emit();}hasBanner(){return!!this.preview||!!this.bannerUrl;}};r(m,"\u0275fac",function(e){return new(e||m)(E(G),E(L));}),r(m,"\u0275cmp",y({type:m,selectors:[["my-actor-banner-edit"]],viewQuery:function(e,n){if(e&1&&(P(V,5),P(Q,5)),e&2){let o;T(o=w())&&(n.bannerfileInput=o.first),T(o=w())&&(n.bannerPopover=o.first);}},inputs:{bannerUrl:"bannerUrl",previewImage:"previewImage"},outputs:{bannerChange:"bannerChange",bannerDelete:"bannerDelete"},standalone:!0,features:[S],decls:8,vars:3,consts:()=>{let t;t="Breyttu bor\xF0anum \xFE\xEDnum";let e;e="Fjarl\xE6gja bor\xF0a";let n;return n="Senda inn n\xFDjan bor\xF0a",[["uploadNewBanner",""],["bannerfileInput",""],t,e,n,[1,"actor"],[1,"actor-img-edit-container"],[1,"banner-placeholder"],["alt","Banner",3,"src",4,"ngIf"],["class","actor-img-edit-button button-focus-within","placement","right","container","body",3,"ngbTooltip",4,"ngIf"],["ngbDropdown","","placement","right",4,"ngIf"],["alt","Banner",3,"src"],["placement","right","container","body",1,"actor-img-edit-button","button-focus-within",3,"ngbTooltip"],[4,"ngTemplateOutlet"],["ngbDropdown","","placement","right"],["type","button","ngbDropdownToggle","",1,"actor-img-edit-button"],["iconName","edit"],["for","bannerMenu"],["ngbDropdownMenu",""],[1,"dropdown-item","dropdown-file","button-focus-within",3,"ngbTooltip"],["type","button",1,"dropdown-item",3,"click"],["iconName","delete"],["iconName","upload"],["for","bannerfile"],["type","file","name","bannerfile","id","bannerfile",3,"change","accept"]];},template:function(e,n){e&1&&(c(0,"div",5)(1,"div",6)(2,"div",7),d(3,X,1,1,"img",8),l(),d(4,q,2,2,"div",9)(5,K,12,2,"div",10),l()(),d(6,W,5,1,"ng-template",null,0,I)),e&2&&(p(3),a("ngIf",n.hasBanner()),p(),a("ngIf",!n.hasBanner()),p(),a("ngIf",n.hasBanner()));},dependencies:[R,k,N,$,B,U,D],styles:[".dropdown-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.dropdown-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.actor-img-edit-button[_ngcontent-%COMP%]{width:31px;position:relative;overflow:hidden;display:inline-block;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.actor-img-edit-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:19px;top:-1px;margin-inline-end:0}.actor-img-edit-button[_ngcontent-%COMP%]:focus, .actor-img-edit-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.actor-img-edit-button[_ngcontent-%COMP%], .actor-img-edit-button[_ngcontent-%COMP%]:active, .actor-img-edit-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.actor-img-edit-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.actor-img-edit-button[disabled][_ngcontent-%COMP%], .actor-img-edit-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.actor-img-edit-button[_ngcontent-%COMP%]{display:flex;justify-content:center;cursor:pointer}.actor-img-edit-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px;height:30px}",".banner-placeholder[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:16.6666666667%}.banner-placeholder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .banner-placeholder[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0}.banner-placeholder[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor)}.actor-img-edit-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.dropdown[_ngcontent-%COMP%]{position:absolute}.dropdown[_ngcontent-%COMP%] > .actor-img-edit-button[_ngcontent-%COMP%]{position:relative}.actor-img-edit-button[_ngcontent-%COMP%]{width:auto;position:absolute}.actor-img-edit-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:0}.button-focus-within[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.dropdown-item[_ngcontent-%COMP%]{padding:6px 15px}.dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}));var F=m;export{F as a};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/