import{a as Q}from"./chunk-GOWSOB6U.js";import{B as V,k as F,m as z,n as G}from"./chunk-XEFO2OX5.js";import{a as B}from"./chunk-WRZZAQTV.js";import{Ab as O,Ca as c,Da as T,Df as L,Ef as U,Ib as H,Na as S,Oa as A,Qf as X,Sa as l,ab as o,ba as I,bb as s,bc as E,cb as p,fg as j,gb as h,ka as x,kb as m,la as v,lb as R,ma as u,mb as P,ob as C,pb as _,rc as k,sa as b,ua as w,vb as D,wb as N,xb as $,yb as M,zb as y}from"./chunk-4A7FW7VV.js";import{j as e}from"./chunk-K6ICEIKK.js";var J=["avatarfileInput"];function K(n,i){if(n&1){let t=h();o(0,"div",16),p(1,"my-global-icon",17),o(2,"label",18),m(3,1),s(),o(4,"input",19,0),C("change",function(){v(t);let a=M(5),d=_(2);return u(d.onAvatarChange(a));}),s()();}if(n&2){let t=_(2);l("ngbTooltip",t.avatarFormat),c(4),l("accept",t.avatarExtensions);}}function W(n,i){if(n&1){let t=h();o(0,"div",20)(1,"button",21),p(2,"my-global-icon",22),o(3,"label",23),m(4,2),s()(),o(5,"div",24)(6,"div",25),p(7,"my-global-icon",17),o(8,"span",26),m(9,3),s(),o(10,"input",19,0),C("change",function(){v(t);let a=M(11),d=_(2);return u(d.onAvatarChange(a));}),s()(),o(12,"button",27),C("click",function(){v(t);let a=_(2);return u(a.deleteAvatar());})("key.enter",function(){v(t);let a=_(2);return u(a.deleteAvatar());}),p(13,"my-global-icon",28),o(14,"span"),m(15,4),s()()()();}if(n&2){let t=_(2);c(6),l("ngbTooltip",t.avatarFormat),c(4),l("accept",t.avatarExtensions);}}function Y(n,i){if(n&1&&(o(0,"div",29),y(1),s()),n&2){let t=_(2);c(),O(t.displayName);}}function Z(n,i){if(n&1&&(o(0,"div",30),y(1),s()),n&2){let t=_(2);c(),O(t.username);}}function tt(n,i){if(n&1&&(o(0,"div",31),m(1,5),s()),n&2){let t=_(2);c(),R(t.subscribers),P(1);}}function et(n,i){if(n&1&&(o(0,"div",7)(1,"div",8),p(2,"my-actor-avatar",9),A(3,K,6,2,"div",10)(4,W,16,2,"div",11),s(),o(5,"div",12),A(6,Y,2,1,"div",13)(7,Z,2,1,"div",14)(8,tt,2,1,"div",15),s()()),n&2){let t=_();c(2),l("actor",t.actor)("actorType",t.actorType)("previewImage",t.preview),c(),l("ngIf",t.editable&&!t.hasAvatar()),c(),l("ngIf",t.editable&&t.hasAvatar()),c(2),l("ngIf",t.displayName),c(),l("ngIf",t.displayUsername&&t.username),c(),l("ngIf",t.subscribers);}}var g=class g{constructor(i,t){this.serverService=i;this.notifier=t;e(this,"avatarfileInput");e(this,"actorType");e(this,"avatars");e(this,"username");e(this,"displayName");e(this,"subscribers");e(this,"displayUsername",!0);e(this,"editable",!0);e(this,"previewImage",!1);e(this,"avatarChange",new b());e(this,"avatarDelete",new b());e(this,"avatarFormat","");e(this,"maxAvatarSize",0);e(this,"avatarExtensions","");e(this,"preview");e(this,"actor");}ngOnInit(){let i=this.serverService.getHTMLConfig();this.maxAvatarSize=i.avatar.file.size.max,this.avatarExtensions=i.avatar.file.extensions.join(", "),this.avatarFormat="max velikost: 192*192px, "+L(this.maxAvatarSize)+" roz\u0161\xED\u0159en\xED: "+this.avatarExtensions+"";}ngOnChanges(){this.actor={avatars:this.avatars,name:this.username};}onAvatarChange(i){this.avatarfileInput=new w(i);let t=this.avatarfileInput.nativeElement.files[0];if(t.size>this.maxAvatarSize){this.notifier.error("Error","Tento obr\xE1zek je p\u0159\xEDli\u0161 velk\xFD.");return;}let r=new FormData();r.append("avatarfile",t),this.avatarChange.emit(r),this.previewImage&&U(t).then(a=>this.preview=a);}deleteAvatar(){this.preview=void 0,this.avatarDelete.emit();}hasAvatar(){return!!this.preview||this.avatars.length!==0;}};e(g,"\u0275fac",function(t){return new(t||g)(T(X),T(j));}),e(g,"\u0275cmp",I({type:g,selectors:[["my-actor-avatar-edit"]],viewQuery:function(t,r){if(t&1&&D(J,5),t&2){let a;N(a=$())&&(r.avatarfileInput=a.first);}},inputs:{actorType:"actorType",avatars:"avatars",username:"username",displayName:"displayName",subscribers:"subscribers",displayUsername:[2,"displayUsername","displayUsername",E],editable:[2,"editable","editable",E],previewImage:[2,"previewImage","previewImage",E]},outputs:{avatarChange:"avatarChange",avatarDelete:"avatarDelete"},standalone:!0,features:[S,x,H],decls:1,vars:1,consts:()=>{let i;i="Nahr\xE1t nov\xFD avatar";let t;t="Zm\u011B\u0148 si sv\u016Fj avatar";let r;r="Nahr\xE1t nov\xFD avatar";let a;a="Odeberte sv\u016Fj avatar";let d;return d="\n          "+"\uFFFD0\uFFFD"+" odb\u011Bratel\u016F\n        ",[["avatarfileInput",""],i,t,r,a,d,["class","actor",4,"ngIf"],[1,"actor"],[1,"position-relative","me-3"],["size","100",3,"actor","actorType","previewImage"],["class","actor-img-edit-button button-focus-within","placement","right","container","body",3,"ngbTooltip",4,"ngIf"],["ngbDropdown","","placement","right",4,"ngIf"],[1,"actor-info"],["class","actor-info-display-name",4,"ngIf"],["class","actor-info-username",4,"ngIf"],["class","actor-info-followers",4,"ngIf"],["placement","right","container","body",1,"actor-img-edit-button","button-focus-within",3,"ngbTooltip"],["iconName","upload"],["for","avatarfile",1,"visually-hidden"],["type","file","name","avatarfile","id","avatarfile",3,"change","accept"],["ngbDropdown","","placement","right"],["type","button","ngbDropdownToggle","",1,"actor-img-edit-button"],["iconName","edit"],["for","avatarMenu",1,"visually-hidden"],["ngbDropdownMenu",""],[1,"dropdown-item","dropdown-file","button-focus-within",3,"ngbTooltip"],["for","avatarfile"],["type","button",1,"dropdown-item",3,"click","key.enter"],["iconName","delete"],[1,"actor-info-display-name"],[1,"actor-info-username"],[1,"actor-info-followers"]];},template:function(t,r){t&1&&A(0,et,9,8,"div",6),t&2&&l("ngIf",r.actor);},dependencies:[k,Q,V,B,G,z,F],styles:[".dropdown-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.dropdown-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.actor-img-edit-button[_ngcontent-%COMP%]{width:31px;position:relative;overflow:hidden;display:inline-block;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.actor-img-edit-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:var(--mainBackgroundColor);cursor:inherit;display:block}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:19px;top:-1px;margin-inline-end:0}.actor-img-edit-button[_ngcontent-%COMP%]:focus, .actor-img-edit-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.actor-img-edit-button[_ngcontent-%COMP%], .actor-img-edit-button[_ngcontent-%COMP%]:active, .actor-img-edit-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.actor-img-edit-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.actor-img-edit-button[disabled][_ngcontent-%COMP%], .actor-img-edit-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.actor-img-edit-button[_ngcontent-%COMP%]{display:flex;justify-content:center;cursor:pointer}.actor-img-edit-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px;height:30px}",".actor[_ngcontent-%COMP%]{display:flex}.actor-info[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.actor-info-display-name[_ngcontent-%COMP%]{font-weight:700;word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-size:1.25rem}@media screen and (max-width: 800px){.actor-info-display-name[_ngcontent-%COMP%]{font-size:1.125rem}}.actor-info-username[_ngcontent-%COMP%]{position:relative;font-size:14px;color:var(--greyForegroundColor)}.actor-info-followers[_ngcontent-%COMP%]{padding-bottom:.5rem}.actor-img-edit-button[_ngcontent-%COMP%]{border-radius:50%;position:absolute;bottom:5px;right:5px}.button-focus-within[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.dropdown-item[_ngcontent-%COMP%]{padding:6px 15px}.dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}));var q=g;export{q as a};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/