import{a as ge,b as Ce,c as ke,d as _e}from"./chunk-24QQSIIJ.js";import{b as D,c as N}from"./chunk-X6JWC5WV.js";import{a as x,f as oe,k as ue,z as he}from"./chunk-AHXSH3AS.js";import{Ca as v,Cc as le,Da as g,Dc as A,Eb as Y,Fb as $,Gb as ee,Hb as E,Ib as te,Kb as ie,Me as me,Na as Q,Ne as ce,Oa as w,Oe as fe,Ra as V,Sa as d,Ua as G,Wa as H,X as I,Yd as pe,Z as j,Zd as de,ab as k,ac as P,ba as M,bb as _,bc as p,ca as K,cc as O,db as W,eb as Z,gb as T,ic as ne,la as m,ma as c,ob as b,pb as y,pc as B,rc as se,sa as f,ua as U,ub as J,vb as X,vc as ae,wa as z,wb as R,wc as re,xb as F}from"./chunk-4A7FW7VV.js";import{j as n}from"./chunk-K6ICEIKK.js";var ye=["input"];function Ie(o,l){if(o&1){let u=T();k(0,"TimesIcon",5),b("click",function(){m(u);let i=y(2);return c(i.clear())}),_()}o&2&&(d("styleClass","p-inputmask-clear-icon"),V("data-pc-section","clearIcon"))}function Me(o,l){}function Ve(o,l){o&1&&w(0,Me,0,0,"ng-template")}function Te(o,l){if(o&1){let u=T();k(0,"span",6),b("click",function(){m(u);let i=y(2);return c(i.clear())}),w(1,Ve,1,0,null,7),_()}if(o&2){let u=y(2);V("data-pc-section","clearIcon"),v(),d("ngTemplateOutlet",u.clearIconTemplate)}}function Ee(o,l){if(o&1&&(W(0),w(1,Ie,1,2,"TimesIcon",3)(2,Te,2,2,"span",4),Z()),o&2){let u=y();v(),d("ngIf",!u.clearIconTemplate),v(),d("ngIf",u.clearIconTemplate)}}var Pe={provide:x,useExisting:I(()=>L),multi:!0},L=(()=>{let l=class l{constructor(t,i,e,s,a){n(this,"document");n(this,"platformId");n(this,"el");n(this,"cd");n(this,"config");n(this,"type","text");n(this,"slotChar","_");n(this,"autoClear",!0);n(this,"showClear",!1);n(this,"style");n(this,"inputId");n(this,"styleClass");n(this,"placeholder");n(this,"size");n(this,"maxlength");n(this,"tabindex");n(this,"title");n(this,"variant","outlined");n(this,"ariaLabel");n(this,"ariaLabelledBy");n(this,"ariaRequired");n(this,"disabled");n(this,"readonly");n(this,"unmask");n(this,"name");n(this,"required");n(this,"characterPattern","[A-Za-z]");n(this,"autofocus");n(this,"autocomplete");n(this,"keepBuffer",!1);n(this,"onComplete",new f);n(this,"onFocus",new f);n(this,"onBlur",new f);n(this,"onInput",new f);n(this,"onKeydown",new f);n(this,"onClear",new f);n(this,"inputViewChild");n(this,"templates");n(this,"clearIconTemplate");n(this,"value");n(this,"_mask");n(this,"onModelChange",()=>{});n(this,"onModelTouched",()=>{});n(this,"input");n(this,"filled");n(this,"defs");n(this,"tests");n(this,"partialPosition");n(this,"firstNonMaskPos");n(this,"lastRequiredNonMaskPos");n(this,"len");n(this,"oldVal");n(this,"buffer");n(this,"defaultBuffer");n(this,"focusText");n(this,"caretTimeoutId");n(this,"androidChrome",!0);n(this,"focused");n(this,"_variant","outlined");this.document=t,this.platformId=i,this.el=e,this.cd=s,this.config=a}set autoFocus(t){this.autofocus=t,console.warn("autoFocus is deprecated. Use autofocus property instead.")}get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}get inputClass(){return{"p-inputmask":!0}}ngOnInit(){if(A(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break}})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let i=0;i<t.length;i++){let e=t[i];e=="?"?(this.len--,this.partialPosition=i):this.defs[e]?(this.tests.push(new RegExp(this.defs[e])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<t.length;i++){let e=t[i];e!="?"&&(this.defs[e]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(e))}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.value==null||this.value==null?this.inputViewChild.nativeElement.value="":this.inputViewChild.nativeElement.value=this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,i){var r;let e,s,a;if(!(!((r=this.inputViewChild)!=null&&r.nativeElement.offsetParent)||this.inputViewChild.nativeElement!==this.inputViewChild.nativeElement.ownerDocument.activeElement))if(typeof t=="number")s=t,a=typeof i=="number"?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,a):this.inputViewChild.nativeElement.createTextRange&&(e=this.inputViewChild.nativeElement.createTextRange(),e.collapse(!0),e.moveEnd("character",a),e.moveStart("character",s),e.select());else return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,a=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(e=this.document.createRange(),s=0-e.duplicate().moveStart("character",-1e5),a=s+e.text.length),{begin:s,end:a}}isCompleted(){let t;for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(t){return t<this.slotChar.length?this.slotChar.charAt(t):this.slotChar.charAt(0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,i){let e,s;if(!(t<0)){for(e=t,s=this.seekNext(i);e<this.len;e++)if(this.tests[e]){if(s<this.len&&this.tests[e].test(this.buffer[s]))this.buffer[e]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s);else break;s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let i,e,s,a;for(i=t,e=this.getPlaceholder(t);i<this.len;i++)if(this.tests[i])if(s=this.seekNext(i),a=this.buffer[i],this.buffer[i]=e,s<this.len&&this.tests[s].test(a))e=a;else break}handleAndroidInput(t){var s;var i=(s=this.inputViewChild)==null?void 0:s.nativeElement.value,e=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);e.begin>0&&!this.tests[e.begin-1];)e.begin--;if(e.begin===0)for(;e.begin<this.firstNonMaskPos&&!this.tests[e.begin];)e.begin++;setTimeout(()=>{this.caret(e.begin,e.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);e.begin<this.len&&!this.tests[e.begin];)e.begin++;setTimeout(()=>{this.caret(e.begin,e.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){var i,e,s;if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),((i=this.inputViewChild)==null?void 0:i.nativeElement.value)!=this.focusText||((e=this.inputViewChild)==null?void 0:e.nativeElement.value)!=this.value){this.updateModel(t);let a=this.document.createEvent("HTMLEvents");a.initEvent("change",!0,!1),(s=this.inputViewChild)==null||s.nativeElement.dispatchEvent(a)}}onInputKeydown(t){var h;if(this.readonly)return;let i=t.which||t.keyCode,e,s,a,r;A(this.platformId)&&(r=/iphone/i.test(N.getUserAgent())),this.oldVal=(h=this.inputViewChild)==null?void 0:h.nativeElement.value,this.onKeydown.emit(t),i===8||i===46||r&&i===127?(e=this.caret(),s=e.begin,a=e.end,a-s===0&&(s=i!==46?this.seekPrev(s):a=this.seekNext(s-1),a=i===46?this.seekNext(a):a),this.clearBuffer(s,a),this.keepBuffer?this.shiftL(s,a-2):this.shiftL(s,a-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):i===13?(this.onInputBlur(t),this.updateModel(t)):i===27&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var i=t.which||t.keyCode,e=this.caret(),s,a,r,h;t.ctrlKey||t.altKey||t.metaKey||i<32||i>34&&i<41||(i&&i!==13&&(e.end-e.begin!==0&&(this.clearBuffer(e.begin,e.end),this.shiftL(e.begin,e.end-1)),s=this.seekNext(e.begin-1),s<this.len&&(a=String.fromCharCode(i),this.tests[s].test(a)&&(this.shiftR(s),this.buffer[s]=a,this.writeBuffer(),r=this.seekNext(s),N.isClient()&&/android/i.test(N.getUserAgent())?setTimeout(()=>{this.caret(r)},0):this.caret(r),e.begin<=this.lastRequiredNonMaskPos&&(h=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),h&&this.onComplete.emit())}}clearBuffer(t,i){if(!this.keepBuffer){let e;for(e=t;e<i&&e<this.len;e++)this.tests[e]&&(this.buffer[e]=this.getPlaceholder(e))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){var h,S,q;let i=(h=this.inputViewChild)==null?void 0:h.nativeElement.value,e=-1,s,a,r;for(s=0,r=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);r++<i.length;)if(a=i.charAt(r-1),this.tests[s].test(a)){this.keepBuffer||(this.buffer[s]=a),e=s;break}if(r>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(r)&&r++,s<this.partialPosition&&(e=s);return t?this.writeBuffer():e+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?((S=this.inputViewChild)!=null&&S.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=(q=this.inputViewChild)==null?void 0:q.nativeElement.value.substring(0,e+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(t){var e,s;if(this.readonly)return;this.focused=!0,clearTimeout(this.caretTimeoutId);let i;this.focusText=(e=this.inputViewChild)==null?void 0:e.nativeElement.value,i=this.keepBuffer?(s=this.inputViewChild)==null?void 0:s.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{var a,r,h;((a=this.inputViewChild)==null?void 0:a.nativeElement)===((r=this.inputViewChild)==null?void 0:r.nativeElement.ownerDocument.activeElement)&&(this.writeBuffer(),i==((h=this.mask)==null?void 0:h.replace("?","").length)?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||this.disabled||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let i=0;i<this.buffer.length;i++){let e=this.buffer[i];this.tests[i]&&e!=this.getPlaceholder(i)&&t.push(e)}return t.join("")}updateModel(t){let i=this.unmask?this.getUnmaskedValue():t.target.value;(i!==null||i!==void 0)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){var t;this.filled=((t=this.inputViewChild)==null?void 0:t.nativeElement)&&this.inputViewChild.nativeElement.value!=""}focus(){var t;(t=this.inputViewChild)==null||t.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}};n(l,"\u0275fac",function(i){return new(i||l)(g(ne),g(z),g(U),g(P),g(me))}),n(l,"\u0275cmp",M({type:l,selectors:[["p-inputMask"]],contentQueries:function(i,e,s){if(i&1&&J(s,ce,4),i&2){let a;R(a=F())&&(e.templates=a)}},viewQuery:function(i,e){if(i&1&&X(ye,7),i&2){let s;R(s=F())&&(e.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(i,e){i&2&&G("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focused)("p-inputmask-clearable",e.showClear&&!e.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:[2,"autoClear","autoClear",p],showClear:[2,"showClear","showClear",p],style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:[2,"size","size",O],maxlength:[2,"maxlength","maxlength",O],tabindex:"tabindex",title:"title",variant:"variant",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:[2,"ariaRequired","ariaRequired",p],disabled:[2,"disabled","disabled",p],readonly:[2,"readonly","readonly",p],unmask:[2,"unmask","unmask",p],name:"name",required:[2,"required","required",p],characterPattern:"characterPattern",autofocus:[2,"autofocus","autofocus",p],autoFocus:[2,"autoFocus","autoFocus",p],autocomplete:"autocomplete",keepBuffer:[2,"keepBuffer","keepBuffer",p],mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[E([Pe]),Q],decls:3,vars:24,consts:[["input",""],["pInputText","","pAutoFocus","",3,"focus","blur","keydown","keypress","input","paste","ngClass","ngStyle","disabled","readonly","variant","autofocus"],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(i,e){if(i&1){let s=T();k(0,"input",1,0),b("focus",function(r){return m(s),c(e.onInputFocus(r))})("blur",function(r){return m(s),c(e.onInputBlur(r))})("keydown",function(r){return m(s),c(e.onInputKeydown(r))})("keypress",function(r){return m(s),c(e.onKeyPress(r))})("input",function(r){return m(s),c(e.onInputChange(r))})("paste",function(r){return m(s),c(e.handleInputChange(r))}),_(),w(2,Ee,3,2,"ng-container",2)}i&2&&(H(e.styleClass),d("ngClass",e.inputClass)("ngStyle",e.style)("disabled",e.disabled)("readonly",e.readonly)("variant",e.variant)("autofocus",e.autofocus),V("id",e.inputId)("type",e.type)("name",e.name)("placeholder",e.placeholder)("title",e.title)("size",e.size)("autocomplete",e.autocomplete)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-required",e.ariaRequired)("required",e.required)("data-pc-name","inputmask")("data-pc-section","root"),v(2),d("ngIf",e.value!=null&&e.filled&&e.showClear&&!e.disabled))},dependencies:()=>[B,se,re,ae,ke,ge,D],styles:[`@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let o=l;return o})(),be=(()=>{let l=class l{};n(l,"\u0275fac",function(i){return new(i||l)}),n(l,"\u0275mod",K({type:l})),n(l,"\u0275inj",j({imports:[le,_e,Ce,D,fe]}));let o=l;return o})();var xe=o=>({"border-disabled":o}),C=class C{constructor(l){this.changeDetector=l;n(this,"maxTimestamp");n(this,"timestamp");n(this,"disabled",!1);n(this,"inputName");n(this,"disableBorder",!0);n(this,"inputBlur",new f);n(this,"timestampString");n(this,"propagateChange",l=>{})}ngOnInit(){this.writeValue(this.timestamp||0)}writeValue(l){this.timestamp=l,this.timestampString=de({seconds:this.timestamp,format:"full",symbol:":"})}registerOnChange(l){this.propagateChange=l}registerOnTouched(){}onModelChange(){this.timestamp=pe(this.timestampString),this.propagateChange(this.timestamp)}onBlur(){this.maxTimestamp&&this.timestamp>this.maxTimestamp&&(this.writeValue(this.maxTimestamp),this.changeDetector.detectChanges(),this.propagateChange(this.timestamp)),this.inputBlur.emit()}};n(C,"\u0275fac",function(u){return new(u||C)(g(P))}),n(C,"\u0275cmp",M({type:C,selectors:[["my-timestamp-input"]],inputs:{maxTimestamp:"maxTimestamp",timestamp:"timestamp",disabled:"disabled",inputName:"inputName",disableBorder:"disableBorder"},outputs:{inputBlur:"inputBlur"},standalone:!0,features:[E([{provide:x,useExisting:I(()=>C),multi:!0}]),te],decls:1,vars:6,consts:[["mask","99:99:99","slotChar","0",3,"ngModelChange","onBlur","disabled","ngModel","ngClass","inputId"]],template:function(u,t){u&1&&(k(0,"p-inputMask",0),ee("ngModelChange",function(e){return $(t.timestampString,e)||(t.timestampString=e),e}),b("onBlur",function(){return t.onBlur()})("ngModelChange",function(){return t.onModelChange()}),_()),u&2&&(d("disabled",t.disabled),Y("ngModel",t.timestampString),d("ngClass",ie(4,xe,t.disableBorder))("inputId",t.inputName))},dependencies:[be,L,he,oe,ue,B],styles:["p-inputmask[_ngcontent-%COMP%]     input{width:80px;text-align:center}p-inputmask[_ngcontent-%COMP%]     input:focus-within, p-inputmask[_ngcontent-%COMP%]     input:focus{box-shadow:0 0 0 .2rem var(--mainColorLightest)}p-inputmask[_ngcontent-%COMP%]     input:disabled{background:var(--mainBackgroundColor);opacity:.5}p-inputmask.border-disabled[_ngcontent-%COMP%]     input{border:0}p-inputmask[_ngcontent-%COMP%]:not(.border-disabled)     input{font-size:15px;padding:3px 15px;width:80px;max-width:80px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}p-inputmask[_ngcontent-%COMP%]:not(.border-disabled)     input::placeholder{color:var(--inputPlaceholderColor)}p-inputmask[_ngcontent-%COMP%]:not(.border-disabled)     input[readonly]{opacity:.7}@media screen and (max-width: 120px){p-inputmask[_ngcontent-%COMP%]:not(.border-disabled)     input{width:100%}}p-inputmask[_ngcontent-%COMP%]:not(.border-disabled)     input{padding:3px 10px}"]}));var ve=C;export{ve as a};
/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/
