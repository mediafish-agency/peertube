import{l as Et,m as Ct,n as Mt}from"./chunk-RXO3LGSG.js";import{a as gt,b as ut}from"./chunk-F4NNW7U6.js";import{a as ie}from"./chunk-AJTAIDL7.js";import{a as St,b as Pt}from"./chunk-4G4LA24F.js";import{a as pt}from"./chunk-UOVZQ5E7.js";import{c as mt}from"./chunk-GP5LX4CA.js";import{a as ne}from"./chunk-4V7EB4W6.js";import{b as ct}from"./chunk-NO6VG5DO.js";import{b as Qe,i as je,j as Je,k as Ke,m as Ze,n as et,r as tt,t as nt,u as it,v as ot,w as at,x as _t,y as rt}from"./chunk-XEFO2OX5.js";import{a as te}from"./chunk-WRZZAQTV.js";import{f as j,k as J,s as Xe,t as We,u as Fe,z as K}from"./chunk-AHXSH3AS.js";import{Ab as R,Ca as a,Da as A,Eb as E,Fb as C,Gb as M,Gd as Z,Hd as Be,Ib as N,Kb as D,Kd as L,Kf as de,Oa as u,Qf as ee,Ra as X,Sa as s,Tc as Ge,Wb as ke,Ya as Ve,Zd as re,ab as r,ac as ze,ba as w,bb as l,bd as Q,cb as P,db as y,eb as O,ee as Ye,fg as lt,gb as v,he as qe,hg as st,kb as S,ke as le,la as m,lb as He,le as se,ma as p,mb as $e,ob as f,pb as d,pc as Y,qc as Ue,rc as q,sa as Le,sg as dt,vb as W,wb as F,xb as B,ya as ae,yb as _e,zb as T}from"./chunk-4A7FW7VV.js";import{a as I,j as c,k as G}from"./chunk-K6ICEIKK.js";var Tt=["moreDropdown"],ht=n=>({playing:n}),Rt=n=>["/c",n],xt=n=>["/my-library","video-playlists",n];function Dt(n,i){n&1&&P(0,"my-global-icon",19);}function It(n,i){if(n&1&&(y(0),T(1),O()),n&2){let e=d();a(),R(e.position);}}function wt(n,i){if(n&1&&P(0,"my-video-thumbnail",20),n&2){let e=d();s("video",e.playlistElement.video)("nsfw",e.isVideoBlur(e.playlistElement.video))("videoRouterLink",e.buildRouterLink())("queryParams",e.buildRouterQuery())("ariaLabel",e.getVideoAriaLabel());}}function Nt(n,i){n&1&&P(0,"div",21);}function Lt(n,i){n&1&&(r(0,"span",32),S(1,1),l());}function Vt(n,i){n&1&&(r(0,"span",32),S(1,2),l());}function Ht(n,i){if(n&1&&(y(0),T(1),O()),n&2){let e=d(3);a(),R(e.playlistElement.video.byAccount);}}function $t(n,i){if(n&1&&(y(0),T(1),O()),n&2){let e=d(3);a(),R(e.playlistElement.video.byVideoChannel);}}function kt(n,i){if(n&1&&(r(0,"a",33),u(1,Ht,2,1,"ng-container",12)(2,$t,2,1,"ng-container",12),l()),n&2){let e=d(2);s("routerLink",D(3,Rt,e.playlistElement.video.byVideoChannel)),a(),s("ngIf",e.getVideoOwnerDisplayType(e.playlistElement)==="account"),a(),s("ngIf",e.getVideoOwnerDisplayType(e.playlistElement)==="videoChannel");}}function zt(n,i){if(n&1&&(r(0,"span",34),T(1),l()),n&2){let e=d(2);a(),R(e.playlistElement.video.byAccount);}}function Ut(n,i){if(n&1&&(y(0),r(1,"div",22)(2,"a",23),T(3),l(),u(4,Lt,2,0,"span",24)(5,Vt,2,0,"span",24),l(),r(6,"span",25),P(7,"my-date-toggle",26),r(8,"span",27),T(9," \u2022 "),P(10,"my-video-views-counter",28),l()(),u(11,kt,3,5,"a",29)(12,zt,2,1,"span",30),r(13,"span",31),T(14),l(),O()),n&2){let e=d();a(2),s("ariaLabel",e.getVideoAriaLabel())("routerLink",e.buildRouterLink())("queryParams",e.buildRouterQuery()),X("title",e.playlistElement.video.name),a(),R(e.playlistElement.video.name),a(),s("ngIf",e.isVideoPrivate()),a(),s("ngIf",e.isVideoPasswordProtected()),a(2),s("date",e.playlistElement.video.publishedAt),a(),s("title",e.playlistElement.video.getExactNumberOfViews()),a(2),s("video",e.playlistElement.video),a(),s("ngIf",e.accountLink),a(),s("ngIf",!e.accountLink),a(2),R(e.formatTimestamp(e.playlistElement));}}function Gt(n,i){n&1&&(y(0),S(1,3),O());}function Xt(n,i){n&1&&(y(0),S(1,4),O());}function Wt(n,i){n&1&&(y(0),S(1,5),O());}function Ft(n,i){if(n&1&&(r(0,"span",35),u(1,Gt,2,0,"ng-container",12)(2,Xt,2,0,"ng-container",12)(3,Wt,2,0,"ng-container",12),l()),n&2){let e=d();a(),s("ngIf",e.isUnavailable(e.playlistElement)),a(),s("ngIf",e.isPrivate(e.playlistElement)),a(),s("ngIf",e.isDeleted(e.playlistElement));}}function Bt(n,i){if(n&1&&P(0,"my-edit-button",36),n&2){let e=d();s("ptRouterLink",D(1,xt,e.playlist.shortUUID));}}function Yt(n,i){if(n&1){let e=v();r(0,"div",45)(1,"div")(2,"my-peertube-checkbox",46),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.timestampOptions.startTimestampEnabled,t)||(_.timestampOptions.startTimestampEnabled=t),p(t);}),l(),r(3,"my-timestamp-input",47),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.timestampOptions.startTimestamp,t)||(_.timestampOptions.startTimestamp=t),p(t);}),l()(),r(4,"div")(5,"my-peertube-checkbox",48),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.timestampOptions.stopTimestampEnabled,t)||(_.timestampOptions.stopTimestampEnabled=t),p(t);}),l(),r(6,"my-timestamp-input",47),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.timestampOptions.stopTimestamp,t)||(_.timestampOptions.stopTimestamp=t),p(t);}),l()(),r(7,"input",49),f("click",function(){m(e);let t=d(3);return p(t.updateTimestamps(t.playlistElement));}),l()();}if(n&2){let e=d(3);a(2),E("ngModel",e.timestampOptions.startTimestampEnabled),a(),s("timestamp",e.timestampOptions.startTimestamp)("maxTimestamp",e.playlistElement.video.duration)("disabled",!e.timestampOptions.startTimestampEnabled),E("ngModel",e.timestampOptions.startTimestamp),a(2),E("ngModel",e.timestampOptions.stopTimestampEnabled),a(),s("timestamp",e.timestampOptions.stopTimestamp)("maxTimestamp",e.playlistElement.video.duration)("disabled",!e.timestampOptions.stopTimestampEnabled),E("ngModel",e.timestampOptions.stopTimestamp);}}function qt(n,i){if(n&1){let e=v();y(0),r(1,"button",41),f("click",function(t){m(e);let _=d(2);return p(_.toggleDisplayTimestampsOptions(t,_.playlistElement));}),P(2,"my-global-icon",43),y(3),S(4,7),O(),l(),u(5,Yt,8,10,"div",44),O();}if(n&2){let e=d(2);a(5),s("ngIf",e.displayTimestampOptions);}}function Qt(n,i){if(n&1){let e=v();r(0,"div",37,0),f("openChange",function(){m(e);let t=d();return p(t.onDropdownOpenChange());}),r(2,"button",38),f("click",function(t){return m(e),p(t.preventDefault());}),P(3,"my-global-icon",39),l(),r(4,"div",40),u(5,qt,6,1,"ng-container",12),r(6,"button",41),f("click",function(){m(e);let t=d();return p(t.removeFromPlaylist(t.playlistElement));}),P(7,"my-global-icon",42),y(8),S(9,6),O(),l()()();}if(n&2){let e=d();a(5),s("ngIf",e.playlistElement.video),a(4),He(e.playlist==null?null:e.playlist.displayName),$e(9);}}var V=class V{constructor(i,e,o,t,_,h){this.authService=i;this.serverService=e;this.notifier=o;this.videoPlaylistService=t;this.videoService=_;this.cdr=h;c(this,"moreDropdown");c(this,"playlist");c(this,"playlistElement");c(this,"owned",!1);c(this,"playing",!1);c(this,"rowLink",!1);c(this,"accountLink",!0);c(this,"position");c(this,"touchScreenEditButton",!1);c(this,"elementRemoved",new Le());c(this,"displayTimestampOptions",!1);c(this,"timestampOptions",{});c(this,"serverConfig");}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig();}getVideoAriaLabel(){return"Watch video "+this.playlistElement.video.name+"";}getVideoOwnerDisplayType(i){return this.videoService.buildDefaultOwnerDisplayType(i.video);}isVideoPrivate(){return this.playlistElement.video.privacy.id===L.PRIVATE;}isVideoPasswordProtected(){return this.playlistElement.video.privacy.id===L.PASSWORD_PROTECTED;}isUnavailable(i){return i.type===Z.UNAVAILABLE;}isPrivate(i){return i.type===Z.PRIVATE;}isDeleted(i){return i.type===Z.DELETED;}buildRouterLink(){return this.playlist?gt.buildWatchUrl(this.playlist):null;}buildRouterQuery(){var i;return(i=this.playlistElement)!=null&&i.video?{playlistPosition:this.playlistElement.position,start:this.playlistElement.startTimestamp,stop:this.playlistElement.stopTimestamp,resume:!0}:{};}isVideoBlur(i){return i.isVideoNSFWForUser(this.authService.getUser(),this.serverConfig);}removeFromPlaylist(i){let e=this.playlistElement.video?this.playlistElement.video.id:void 0;this.videoPlaylistService.removeVideoFromPlaylist(this.playlist.id,i.id,e).subscribe({next:()=>{this.notifier.success("Chaidh a\u2019 video a thoirt air falbh o "+this.playlist.displayName+" "),this.elementRemoved.emit(i);},error:o=>this.notifier.error(o.message)}),this.moreDropdown.close();}updateTimestamps(i){let e={};e.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,e.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist.id,i.id,e,this.playlistElement.video.id).subscribe({next:()=>{this.notifier.success("Chaidh na stampaichean-t\xECde \xF9rachadh"),i.startTimestamp=e.startTimestamp,i.stopTimestamp=e.stopTimestamp,this.cdr.detectChanges();},error:o=>this.notifier.error(o.message)}),this.moreDropdown.close();}formatTimestamp(i){let e=i.startTimestamp,o=i.stopTimestamp,t=re({seconds:e,format:"full",symbol:":"}),_=re({seconds:o,format:"full",symbol:":"});return e===null&&o===null?"":e!==null&&o===null?"Tha e a\u2019 t\xF2iseachadh aig"+t:e===null&&o!==null?"Tha e a\u2019 cr\xECochnachadh aig"+_:"Tha e a\u2019 t\xF2iseachadh aig"+t+"\u2019s a\u2019 cr\xECochnachadh aig"+_;}onDropdownOpenChange(){this.displayTimestampOptions=!1;}toggleDisplayTimestampsOptions(i,e){i.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,this.displayTimestampOptions===!0&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:e.video.duration},e.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=e.startTimestamp),e.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=e.stopTimestamp)),this.cdr.markForCheck();}};c(V,"\u0275fac",function(e){return new(e||V)(A(st),A(ee),A(lt),A(ut),A(mt),A(ze));}),c(V,"\u0275cmp",w({type:V,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(e,o){if(e&1&&W(Tt,5),e&2){let t;F(t=B())&&(o.moreDropdown=t.first);}},inputs:{playlist:"playlist",playlistElement:"playlistElement",owned:"owned",playing:"playing",rowLink:"rowLink",accountLink:"accountLink",position:"position",touchScreenEditButton:"touchScreenEditButton"},outputs:{elementRemoved:"elementRemoved"},standalone:!0,features:[N],decls:12,vars:13,consts:()=>{let i;i="Pr\xECobhaideach";let e;e="\u2019Ga dh\xECon le facal-faire";let o;o="Chan eil seo ri fhaighinn";let t;t="Pr\xECobhaideach";let _;_="Air a sguabadh \xE0s";let h;h="Sguab \xE0s o "+"\uFFFD0\uFFFD"+"";let x;x="Tha toiseach/deireadh an deasachaidh aig";let k;k="T\xF2isich aig";let z;z="Cuir \u2019na stad aig";let U;return U="S\xE0bhail",[["moreDropdown","ngbDropdown"],i,e,o,t,_,h,x,[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","nsfw","videoRouterLink","queryParams","ariaLabel",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],[3,"ptRouterLink",4,"ngIf"],["class","more dropdown-root","ngbDropdown","","placement","left auto","autoClose","outside","container","body",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","nsfw","videoRouterLink","queryParams","ariaLabel"],[1,"fake-thumbnail"],[1,"video-info-header"],["tabindex","-1",1,"video-info-name",3,"ariaLabel","routerLink","queryParams"],["class","pt-badge badge-yellow",4,"ngIf"],[1,"video-miniature-created-at-views"],[3,"date"],[1,"views",3,"title"],[3,"video"],["tabindex","-1","class","video-info-owner",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-owner",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],[1,"pt-badge","badge-yellow"],["tabindex","-1",1,"video-info-owner",3,"routerLink"],["tabindex","-1",1,"video-info-owner"],[1,"video-info-name"],[3,"ptRouterLink"],["ngbDropdown","","placement","left auto","autoClose","outside","container","body",1,"more","dropdown-root",3,"openChange"],["ngbDropdownToggle","",1,"border-0","p-0","more-button",3,"click"],["iconName","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["iconName","delete","aria-hidden","true"],["iconName","edit","aria-hidden","true"],["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt","labelText",k,3,"ngModelChange","ngModel"],[3,"ngModelChange","timestamp","maxTimestamp","disabled","ngModel"],["inputName","stopAt","labelText",z,3,"ngModelChange","ngModel"],["type","submit","value",U,3,"click"]];},template:function(e,o){e&1&&(r(0,"div",8)(1,"a",9)(2,"div",10),u(3,Dt,1,0,"my-global-icon",11)(4,It,2,1,"ng-container",12),l(),u(5,wt,1,5,"my-video-thumbnail",13)(6,Nt,1,0,"div",14),r(7,"div",15),u(8,Ut,15,13,"ng-container",12)(9,Ft,4,3,"span",16),l()(),u(10,Bt,1,3,"my-edit-button",17)(11,Qt,10,2,"div",18),l()),e&2&&(s("ngClass",D(11,ht,o.playing)),a(),s("routerLink",o.buildRouterLink())("queryParams",o.buildRouterQuery()),a(2),s("ngIf",o.playing),a(),s("ngIf",!o.playing),a(),s("ngIf",o.playlistElement.video),a(),s("ngIf",!o.playlistElement.video),a(2),s("ngIf",o.playlistElement.video),a(),s("ngIf",!o.playlistElement.video),a(),s("ngIf",o.owned&&o.touchScreenEditButton),a(),s("ngIf",o.owned));},dependencies:[Y,Q,q,te,Mt,Ct,Et,pt,et,Ze,Ke,Je,je,ne,K,j,J,ie],styles:["my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{width:130px;height:72px;background-color:#ececec}my-video-thumbnail[_ngcontent-%COMP%], .fake-thumbnail[_ngcontent-%COMP%]{display:flex;margin-inline-end:.625rem}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;background-color:var(--mainBackgroundColor);padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}.video.playing[_ngcontent-%COMP%]{background-color:#00000005}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);min-width:25px}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:17px;position:relative;left:-2px}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{justify-self:flex-end;cursor:pointer;min-width:24px;margin-inline-start:auto}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{display:flex;align-items:center}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]:after{border:0}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.video[_ngcontent-%COMP%]:hover, .video[_ngcontent-%COMP%]:focus{background-color:#0000000d}.video[_ngcontent-%COMP%]:hover   .more-button[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]:focus-within   .more-button[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:1}@media not all and (hover: hover) and (pointer: fine){.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:1!important}}.video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]{display:flex;align-items:baseline}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]   .pt-badge[_ngcontent-%COMP%]{margin:0 5px;white-space:nowrap}.video-info[_ngcontent-%COMP%]   .video-info-owner[_ngcontent-%COMP%], .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--greyForegroundColor)}.video-info-owner[_ngcontent-%COMP%], .video-info-timestamp[_ngcontent-%COMP%], .video-miniature-created-at-views[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{cursor:pointer;padding:6px 15px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;margin-top:5px;margin-bottom:15px;padding-inline-start:calc(1.34375rem + 1.125vw)}@media (min-width: 1200px){.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-inline-start:2.1875rem}}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-inline-end:.3125rem}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@media screen and (min-width: 800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width: 800px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.expanded[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:max-content;margin:auto}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 500px){.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.expanded[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .expanded   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}@media screen and (min-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:inline-flex}}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.main-col:not(.expanded)[_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:max-content;margin:auto}.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 740px){.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.main-col:not(.expanded)[_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label, .main-col:not(.expanded)   [_nghost-%COMP%]   .video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}"],changeDetection:0}));var yt=V;var H=class H{constructor(){c(this,"pluginId");}getId(){return"plugin-placeholder-"+this.pluginId;}};c(H,"\u0275fac",function(e){return new(e||H)();}),c(H,"\u0275cmp",w({type:H,selectors:[["my-plugin-placeholder"]],inputs:{pluginId:"pluginId"},standalone:!0,features:[N],decls:1,vars:1,consts:[[3,"id"]],template:function(e,o){e&1&&P(0,"div",0),e&2&&s("id",o.getId());},styles:["div[_ngcontent-%COMP%]{height:100%}"]}));var oe=H;var jt=["modal"],Jt=n=>["/my-library/video-playlists/update",n],Kt=n=>["/videos/","update",n],Zt=n=>({disabled:n});function en(n,i){n&1&&(r(0,"h5",41),S(1,6),l());}function tn(n,i){if(n&1&&(r(0,"div",42)(1,"div"),S(2,7),l(),r(3,"a",43),S(4,8),l()()),n&2){let e=d(3);a(3),s("routerLink",D(1,Jt,e.playlist.shortUUID));}}function nn(n,i){if(n&1&&(r(0,"div",44),P(1,"my-input-text",45),l()),n&2){let e=d(3);a(),s("value",e.playlistUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function on(n,i){if(n&1&&(r(0,"div",44),P(1,"qrcode",46),l()),n&2){let e=d(3);a(),s("qrdata",e.playlistUrl)("width",256);}}function an(n,i){n&1&&(r(0,"div",50),S(1,9),l());}function _n(n,i){if(n&1){let e=v();r(0,"div",44)(1,"my-input-text",47),f("change",function(){m(e);let t=d(3);return p(t.onUpdate());}),l(),u(2,an,2,0,"div",48),P(3,"div",49),l();}if(n&2){let e=d(3);a(),s("value",e.customizations.onlyEmbedUrl?e.playlistEmbedUrl:e.playlistEmbedHTML)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),a(),s("ngIf",e.notSecure()),a(),s("innerHTML",e.playlistEmbedSafeHTML,ae);}}function rn(n,i){if(n&1){let e=v();r(0,"div",51)(1,"my-peertube-checkbox",52),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.includeVideoInPlaylist,t)||(_.customizations.includeVideoInPlaylist=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.includeVideoInPlaylist);}}function ln(n,i){if(n&1){let e=v();y(0),r(1,"div",51)(2,"my-peertube-checkbox",53),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.onlyEmbedUrl,t)||(_.customizations.onlyEmbedUrl=t),p(t);}),l()(),r(3,"div",51)(4,"my-peertube-checkbox",54),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.responsive,t)||(_.customizations.responsive=t),p(t);}),l()(),O();}if(n&2){let e=d(3);a(2),E("ngModel",e.customizations.onlyEmbedUrl),a(2),E("ngModel",e.customizations.responsive);}}function sn(n,i){if(n&1){let e=v();r(0,"div",27),u(1,en,2,0,"h5",28)(2,tn,5,3,"div",29),r(3,"div",30,1),M("activeIdChange",function(t){m(e);let _=d(2);return C(_.activePlaylistId,t)||(_.activePlaylistId=t),p(t);}),y(5,31),r(6,"a",32),S(7,3),l(),u(8,nn,2,5,"ng-template",33),O(),y(9,34),r(10,"a",32),S(11,4),l(),u(12,on,2,2,"ng-template",33),O(),y(13,35),r(14,"a",32),S(15,5),l(),u(16,_n,4,7,"ng-template",33),O(),l(),P(17,"div",36),r(18,"div",37),u(19,rn,2,1,"div",38)(20,ln,5,2,"ng-container",39),P(21,"my-plugin-placeholder",40),l()();}if(n&2){let e=_e(4),o=d(2);a(),s("ngIf",o.video),a(),s("ngIf",o.isPrivatePlaylist()),a(),E("activeId",o.activePlaylistId),a(14),s("ngbNavOutlet",e),a(2),s("ngIf",o.video),a(),s("ngIf",o.isInPlaylistEmbedTab());}}function dn(n,i){n&1&&(r(0,"h5",41),S(1,13),l());}function cn(n,i){if(n&1&&(r(0,"div",42)(1,"div"),S(2,14),l(),r(3,"a",43),S(4,15),l()()),n&2){let e=d(3);a(3),s("routerLink",D(1,Kt,e.video.shortUUID));}}function mn(n,i){n&1&&(r(0,"div",42),S(1,16),l());}function pn(n,i){if(n&1&&(r(0,"div",44),P(1,"my-input-text",45),l()),n&2){let e=d(3);a(),s("value",e.videoUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function gn(n,i){if(n&1&&(r(0,"div",44),P(1,"qrcode",46),l()),n&2){let e=d(3);a(),s("qrdata",e.videoUrl)("width",256);}}function un(n,i){n&1&&(r(0,"div",50),S(1,17),l());}function En(n,i){if(n&1){let e=v();r(0,"div",44)(1,"my-input-text",64),f("ngModelChange",function(){m(e);let t=d(3);return p(t.onUpdate());}),l(),u(2,un,2,0,"div",48),P(3,"div",49),l();}if(n&2){let e=d(3);a(),s("value",e.customizations.onlyEmbedUrl?e.videoEmbedUrl:e.videoEmbedHTML)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),a(),s("ngIf",e.notSecure()),a(),s("innerHTML",e.videoEmbedSafeHTML,ae);}}function Cn(n,i){if(n&1){let e=v();r(0,"div",65)(1,"my-peertube-checkbox",66),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.startAtCheckbox,t)||(_.customizations.startAtCheckbox=t),p(t);}),l(),r(2,"my-timestamp-input",67),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.startAt,t)||(_.customizations.startAt=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.startAtCheckbox),a(),s("timestamp",e.customizations.startAt)("maxTimestamp",e.video.duration)("disabled",!e.customizations.startAtCheckbox),E("ngModel",e.customizations.startAt);}}function Mn(n,i){if(n&1&&(r(0,"option",73),T(1),l()),n&2){let e=i.$implicit;s("value",e.language.id),a(),R(e.language.label);}}function Sn(n,i){if(n&1){let e=v();r(0,"div",68)(1,"my-peertube-checkbox",69),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.subtitleCheckbox,t)||(_.customizations.subtitleCheckbox=t),p(t);}),l(),r(2,"div",70)(3,"select",71),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.subtitle,t)||(_.customizations.subtitle=t),p(t);}),u(4,Mn,2,2,"option",72),l()()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.subtitleCheckbox),a(),s("ngClass",D(5,Zt,!e.customizations.subtitleCheckbox)),a(),E("ngModel",e.customizations.subtitle),s("disabled",!e.customizations.subtitleCheckbox),a(),s("ngForOf",e.videoCaptions);}}function Pn(n,i){if(n&1){let e=v();r(0,"div",51)(1,"my-peertube-checkbox",74),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.onlyEmbedUrl,t)||(_.customizations.onlyEmbedUrl=t),p(t);}),l()(),r(2,"div",51)(3,"my-peertube-checkbox",75),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.responsive,t)||(_.customizations.responsive=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.onlyEmbedUrl),a(2),E("ngModel",e.customizations.responsive);}}function yn(n,i){if(n&1){let e=v();r(0,"div",76)(1,"my-peertube-checkbox",77),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.stopAtCheckbox,t)||(_.customizations.stopAtCheckbox=t),p(t);}),l(),r(2,"my-timestamp-input",67),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.stopAt,t)||(_.customizations.stopAt=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.stopAtCheckbox),a(),s("timestamp",e.customizations.stopAt)("maxTimestamp",e.video.duration)("disabled",!e.customizations.stopAtCheckbox),E("ngModel",e.customizations.stopAt);}}function On(n,i){if(n&1){let e=v();r(0,"div",51)(1,"my-peertube-checkbox",78),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.loop,t)||(_.customizations.loop=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.loop);}}function vn(n,i){if(n&1){let e=v();r(0,"div",51)(1,"my-peertube-checkbox",79),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.originUrl,t)||(_.customizations.originUrl=t),p(t);}),l()();}if(n&2){let e=d(3);a(),E("ngModel",e.customizations.originUrl);}}function bn(n,i){if(n&1){let e=v();y(0),r(1,"div",51)(2,"my-peertube-checkbox",80),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.title,t)||(_.customizations.title=t),p(t);}),l()(),r(3,"div",51)(4,"my-peertube-checkbox",81),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.embedP2P,t)||(_.customizations.embedP2P=t),p(t);}),l()(),r(5,"div",51)(6,"my-peertube-checkbox",82),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.warningTitle,t)||(_.customizations.warningTitle=t),p(t);}),l()(),r(7,"div",51)(8,"my-peertube-checkbox",83),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.controlBar,t)||(_.customizations.controlBar=t),p(t);}),l()(),r(9,"div",51)(10,"my-peertube-checkbox",84),M("ngModelChange",function(t){m(e);let _=d(3);return C(_.customizations.peertubeLink,t)||(_.customizations.peertubeLink=t),p(t);}),l()(),O();}if(n&2){let e=d(3);a(2),E("ngModel",e.customizations.title),a(2),E("ngModel",e.customizations.embedP2P),a(2),E("ngModel",e.customizations.warningTitle),s("disabled",!e.customizations.embedP2P),a(2),E("ngModel",e.customizations.controlBar),a(2),E("ngModel",e.customizations.peertubeLink);}}function An(n,i){n&1&&(y(0),P(1,"span",85),y(2),S(3,18),O()());}function fn(n,i){n&1&&(y(0),P(1,"span",86),y(2),S(3,19),O()());}function Tn(n,i){if(n&1){let e=v();r(0,"div",55),u(1,dn,2,0,"h5",28)(2,cn,5,3,"div",29)(3,mn,2,0,"div",29),r(4,"div",30,1),M("activeIdChange",function(t){m(e);let _=d(2);return C(_.activeVideoId,t)||(_.activeVideoId=t),p(t);}),y(6,31),r(7,"a",32),S(8,10),l(),u(9,pn,2,5,"ng-template",33),O(),y(10,34),r(11,"a",32),S(12,11),l(),u(13,gn,2,2,"ng-template",33),O(),y(14,35),r(15,"a",32),S(16,12),l(),u(17,En,4,7,"ng-template",33),O(),l(),P(18,"div",36),r(19,"div",37),u(20,Cn,3,5,"div",56)(21,Sn,5,7,"div",57)(22,Pn,4,2),P(23,"my-plugin-placeholder",58),r(24,"div",59),u(25,yn,3,5,"div",60),r(26,"div",51)(27,"my-peertube-checkbox",61),M("ngModelChange",function(t){m(e);let _=d(2);return C(_.customizations.autoplay,t)||(_.customizations.autoplay=t),p(t);}),l()(),r(28,"div",51)(29,"my-peertube-checkbox",62),M("ngModelChange",function(t){m(e);let _=d(2);return C(_.customizations.muted,t)||(_.customizations.muted=t),p(t);}),l()(),u(30,On,2,1,"div",38)(31,vn,2,1,"div",38)(32,bn,11,6,"ng-container",39),l(),r(33,"button",63),f("click",function(){m(e);let t=d(2);return p(t.isAdvancedCustomizationCollapsed=!t.isAdvancedCustomizationCollapsed);}),u(34,An,4,0,"ng-container",39)(35,fn,4,0,"ng-container",39),l()()();}if(n&2){let e=_e(5),o=d(2);a(),s("ngIf",o.playlist),a(),s("ngIf",o.isPrivateVideo()),a(),s("ngIf",o.isPasswordProtectedVideo()),a(),E("activeId",o.activeVideoId),a(14),s("ngbNavOutlet",e),a(2),s("ngIf",!o.video.isLive),a(),s("ngIf",o.videoCaptions.length!==0),a(),Ve(o.isInVideoEmbedTab()?22:-1),a(2),s("ngbCollapse",o.isAdvancedCustomizationCollapsed)("animation",!0),a(),s("ngIf",!o.video.isLive),a(2),E("ngModel",o.customizations.autoplay),a(2),E("ngModel",o.customizations.muted),a(),s("ngIf",!o.video.isLive),a(),s("ngIf",!o.isLocalVideo()&&!o.isInVideoEmbedTab()),a(),s("ngIf",o.isInVideoEmbedTab()),a(),X("aria-expanded",!o.isAdvancedCustomizationCollapsed),a(),s("ngIf",o.isAdvancedCustomizationCollapsed),a(),s("ngIf",!o.isAdvancedCustomizationCollapsed);}}function hn(n,i){if(n&1){let e=v();r(0,"div",20)(1,"h4",21),S(2,2),l(),r(3,"button",22),f("click",function(){let t=m(e).close;return p(t());}),P(4,"my-global-icon",23),l()(),r(5,"div",24),u(6,sn,22,6,"div",25)(7,Tn,36,19,"div",26),l();}if(n&2){let e=d();a(6),s("ngIf",e.playlist),a(),s("ngIf",e.video);}}var $=class ${constructor(i,e,o,t){this.modalService=i;this.sanitizer=e;this.server=o;this.hooks=t;c(this,"modal");c(this,"video",null);c(this,"videoCaptions",[]);c(this,"playlist",null);c(this,"playlistPosition",null);c(this,"activeVideoId","url");c(this,"activePlaylistId","url");c(this,"customizations");c(this,"isAdvancedCustomizationCollapsed",!0);c(this,"videoUrl");c(this,"playlistUrl");c(this,"videoEmbedUrl");c(this,"playlistEmbedUrl");c(this,"videoEmbedHTML");c(this,"videoEmbedSafeHTML");c(this,"playlistEmbedHTML");c(this,"playlistEmbedSafeHTML");}show(i,e){var t;let o;this.videoCaptions&&this.videoCaptions.length!==0&&(o=this.videoCaptions[0].language.id),this.customizations=new Proxy({startAtCheckbox:!1,startAt:i?Math.floor(i):0,stopAtCheckbox:!1,stopAt:(t=this.video)==null?void 0:t.duration,subtitleCheckbox:!1,subtitle:o,loop:!1,originUrl:!1,autoplay:!1,muted:!1,embedP2P:this.server.getHTMLConfig().defaults.p2p.embed.enabled,onlyEmbedUrl:!1,title:!0,warningTitle:!0,controlBar:!0,peertubeLink:!0,responsive:!1,includeVideoInPlaylist:!1},{set:(_,h,x)=>(_[h]=x,h==="embedP2P"&&(this.customizations.warningTitle=x),this.onUpdate(),!0)}),this.playlistPosition=e,this.onUpdate(),this.modalService.open(this.modal,{centered:!0}).shown.subscribe(()=>{this.hooks.runAction("action:modal.share.shown","video-watch",{video:this.video,playlist:this.playlist});});}getVideoUrl(){let i=this.customizations.originUrl?this.video.url:qe(this.video,window.location.origin);return this.hooks.wrapFun(le,I({url:i},this.getVideoOptions(!1)),"video-watch","filter:share.video-url.build.params","filter:share.video-url.build.result");}getVideoEmbedUrl(){return this.hooks.wrapFun(le,I({url:this.video.embedUrl},this.getVideoOptions(!0)),"video-watch","filter:share.video-embed-url.build.params","filter:share.video-embed-url.build.result");}getVideoEmbedCode(i){return G(this,null,function*(){let{responsive:e}=i;return this.hooks.wrapFun(de,{embedUrl:yield this.getVideoEmbedUrl(),embedTitle:this.video.name,responsive:e,aspectRatio:this.video.aspectRatio},"video-watch","filter:share.video-embed-code.build.params","filter:share.video-embed-code.build.result");});}getPlaylistUrl(){let i=Ye(this.playlist);return this.hooks.wrapFun(se,I({url:i},this.getPlaylistOptions()),"video-watch","filter:share.video-playlist-url.build.params","filter:share.video-playlist-url.build.result");}getPlaylistEmbedUrl(){return this.hooks.wrapFun(se,I({url:this.playlist.embedUrl},this.getPlaylistOptions()),"video-watch","filter:share.video-playlist-embed-url.build.params","filter:share.video-playlist-embed-url.build.result");}getPlaylistEmbedCode(i){return G(this,null,function*(){var o;let{responsive:e}=i;return this.hooks.wrapFun(de,{embedUrl:yield this.getPlaylistEmbedUrl(),embedTitle:this.playlist.displayName,responsive:e,aspectRatio:(o=this.video)==null?void 0:o.aspectRatio},"video-watch","filter:share.video-playlist-embed-code.build.params","filter:share.video-playlist-embed-code.build.result");});}onUpdate(){return G(this,null,function*(){this.playlist&&(this.playlistUrl=yield this.getPlaylistUrl(),this.playlistEmbedUrl=yield this.getPlaylistEmbedUrl(),this.playlistEmbedHTML=yield this.getPlaylistEmbedCode({responsive:this.customizations.responsive}),this.playlistEmbedSafeHTML=this.sanitizer.bypassSecurityTrustHtml(yield this.getPlaylistEmbedCode({responsive:!1}))),this.video&&(this.videoUrl=yield this.getVideoUrl(),this.videoEmbedUrl=yield this.getVideoEmbedUrl(),this.videoEmbedHTML=yield this.getVideoEmbedCode({responsive:this.customizations.responsive}),this.videoEmbedSafeHTML=this.sanitizer.bypassSecurityTrustHtml(yield this.getVideoEmbedCode({responsive:!1})));});}notSecure(){return window.location.protocol==="http:";}isInVideoEmbedTab(){return this.activeVideoId==="embed";}isInPlaylistEmbedTab(){return this.activePlaylistId==="embed";}isLocalVideo(){return this.video.isLocal;}isPrivateVideo(){return this.video.privacy.id===L.PRIVATE;}isPrivatePlaylist(){return this.playlist.privacy.id===Be.PRIVATE;}isPasswordProtectedVideo(){return this.video.privacy.id===L.PASSWORD_PROTECTED;}getPlaylistOptions(i){return{baseUrl:i,playlistPosition:this.playlistPosition&&this.customizations.includeVideoInPlaylist?this.playlistPosition:void 0};}getVideoOptions(i){let e=i?{title:this.customizations.title,warningTitle:this.customizations.warningTitle,controlBar:this.customizations.controlBar,peertubeLink:this.customizations.peertubeLink,p2p:this.customizations.embedP2P===this.server.getHTMLConfig().defaults.p2p.embed.enabled?void 0:this.customizations.embedP2P}:{};return I({startTime:this.customizations.startAtCheckbox?this.customizations.startAt:void 0,stopTime:this.customizations.stopAtCheckbox?this.customizations.stopAt:void 0,subtitle:this.customizations.subtitleCheckbox?this.customizations.subtitle:void 0,loop:this.customizations.loop,autoplay:this.customizations.autoplay,muted:this.customizations.muted},e);}};c($,"\u0275fac",function(e){return new(e||$)(A(tt),A(Ge),A(ee),A(dt));}),c($,"\u0275cmp",w({type:$,selectors:[["my-video-share"]],viewQuery:function(e,o){if(e&1&&W(jt,7),e&2){let t;F(t=B())&&(o.modal=t.first);}},inputs:{video:"video",videoCaptions:"videoCaptions",playlist:"playlist",playlistPosition:"playlistPosition"},standalone:!0,features:[N],decls:2,vars:0,consts:()=>{let i;i="Co-roinn";let e;e="URL";let o;o="C\xF2d QR";let t;t="Leabaich";let _;_="Co-roinn an liosta-chluich";let h;h="Tha an liosta-chluich seo pr\xECobhaideach is chan urrainn dhut a co-roinneadh le cleachdaichean air an taobh a-muigh";let x;x="\xD9raich pr\xECobhaideachd na liosta-chluich";let k;k="Chan eil an url t\xE8arainte (d\xECth HTTPS) \u2019s chan obraich leabachadh a\u2019 video air l\xE0raichean-l\xECn HTTPS (bacaidh brabhsairean iarrtasan HTTP nach eil t\xE8arainte air l\xE0raichean-l\xECn HTTPS).";let z;z="Co-roinn an liosta-chluich aig ionad seo a\u2019 video";let U;U="Na seall ach an t-URL leabachaidh";let b;b="Leabachadh freagairteach";let ce;ce="F\xE8in-chluich";let me;me="Air a mh\xF9chadh";let pe;pe="URL";let ge;ge="C\xF2d QR";let ue;ue="Leabaich";let Ee;Ee="Co-roinn a\u2019 video";let Ce;Ce="Tha a\u2019 video seo pr\xECobhaideach is chan urrainn dhut a cho-roinneadh le cleachdaichean air an taobh a-muigh";let Me;Me="\xD9raich pr\xECobhaideachd a\u2019 video";let Se;Se="Tha a\u2019 video seo fo dh\xECon facail-fhaire, thoir an aire gum feum na faightearan am facal-faire co-cheangailte airson an t-susbaint inntrigeadh.";let Pe;Pe="Chan eil an url t\xE8arainte (d\xECth HTTPS) \u2019s chan obraich leabachadh a\u2019 video air l\xE0raichean-l\xECn HTTPS (bacaidh brabhsairean iarrtasan HTTP nach eil t\xE8arainte air l\xE0raichean-l\xECn HTTPS).";let ye;ye="T\xF2isich aig";let Oe;Oe="Tagh fo-thiotalan gu f\xE8in-obrachail";let ve;ve="Na seall ach an t-URL leabachaidh";let be;be="Leabachadh freagairteach";let Ae;Ae="Cuir \u2019na stad aig";let fe;fe="L\xF9b";let Te;Te="Cleachd URL an ionstans th\xF9sail";let he;he="Seall tiotal a\u2019 video";let Re;Re="P2P";let xe;xe="Seall rabhadh pr\xECobhaideachd";let De;De="Seall b\xE0r sti\xF9ireadh a\u2019 chluicheadair";let Ie;Ie="Seall putan le ceangal PeerTube";let we;we="Barrachd gn\xE0thachaidh";let Ne;return Ne="Nas lugha de ghn\xE0thachadh",[["modal",""],["nav","ngbNav"],i,e,o,t,_,h,x,k,pe,ge,ue,Ee,Ce,Me,Se,Pe,we,Ne,[1,"modal-header"],[1,"modal-title"],[1,"border-0","p-0",3,"click"],["iconName","cross","aria-label","Close","role","button"],[1,"modal-body"],["class","playlist",4,"ngIf"],["class","video",4,"ngIf"],[1,"playlist"],["class","text-center mb-4",4,"ngIf"],["class","alert-private alert alert-warning",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],["ngbNavItem","url"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","qrcode"],["ngbNavItem","embed"],[3,"ngbNavOutlet"],[1,"filters"],["class","form-group",4,"ngIf"],[4,"ngIf"],["pluginId","share-modal-playlist-settings"],[1,"text-center","mb-4"],[1,"alert-private","alert","alert-warning"],["target","_blank","rel","noopener noreferrer",1,"peertube-button-link","orange-button",3,"routerLink"],[1,"nav-content"],[3,"value","withToggle","withCopy","show","readonly"],["level","Q",3,"qrdata","width"],[3,"change","value","withToggle","withCopy","show","readonly"],["class","alert alert-warning",4,"ngIf"],[1,"embed",3,"innerHTML"],[1,"alert","alert-warning"],[1,"form-group"],["inputName","includeVideoInPlaylist","labelText",z,3,"ngModelChange","ngModel"],["inputName","onlyEmbedUrl","labelText",U,3,"ngModelChange","ngModel"],["inputName","responsive","labelText",b,3,"ngModelChange","ngModel"],[1,"video"],["class","form-group start-at",4,"ngIf"],["class","form-group video-caption-block",4,"ngIf"],["pluginId","share-modal-video-settings"],[1,"advanced-filters",3,"ngbCollapse","animation"],["class","form-group stop-at",4,"ngIf"],["inputName","autoplay","labelText",ce,3,"ngModelChange","ngModel"],["inputName","muted","labelText",me,3,"ngModelChange","ngModel"],["aria-controls","collapseBasic",1,"border-0","p-0","mt-4","mx-auto","fw-semibold","d-block",3,"click"],[3,"ngModelChange","value","withToggle","withCopy","show","readonly"],[1,"form-group","start-at"],["inputName","startAt","labelText",ye,3,"ngModelChange","ngModel"],[3,"ngModelChange","timestamp","maxTimestamp","disabled","ngModel"],[1,"form-group","video-caption-block"],["inputName","subtitleCheckbox","labelText",Oe,3,"ngModelChange","ngModel"],[1,"peertube-select-container",3,"ngClass"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["inputName","onlyEmbedUrl","labelText",ve,3,"ngModelChange","ngModel"],["inputName","responsive","labelText",be,3,"ngModelChange","ngModel"],[1,"form-group","stop-at"],["inputName","stopAt","labelText",Ae,3,"ngModelChange","ngModel"],["inputName","loop","labelText",fe,3,"ngModelChange","ngModel"],["inputName","originUrl","labelText",Te,3,"ngModelChange","ngModel"],["inputName","title","labelText",he,3,"ngModelChange","ngModel"],["inputName","embedP2P","labelText",Re,3,"ngModelChange","ngModel"],["inputName","warningTitle","labelText",xe,3,"ngModelChange","ngModel","disabled"],["inputName","controlBar","labelText",De,3,"ngModelChange","ngModel"],["inputName","peertubeLink","labelText",Ie,3,"ngModelChange","ngModel"],[1,"chevron-down"],[1,"chevron-up"]];},template:function(e,o){e&1&&u(0,hn,8,2,"ng-template",null,0,ke);},dependencies:[te,q,Q,ot,it,_t,at,nt,ct,Pt,St,rt,ne,K,We,Fe,Xe,j,J,oe,ie,Y,Ue,Qe],styles:['my-input-text[_ngcontent-%COMP%]{width:100%}.playlist[_ngcontent-%COMP%]{margin-bottom:50px}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:200px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;height:min-content}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{background-color:#f9f9f9}@media screen and (max-width: 200px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--mainForegroundColor);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:3px 35px 3px 12px;position:relative;border:1px solid var(--inputBorderColor);background:transparent none;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--mainForegroundColor);line-height:23px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[value=undefined][_ngcontent-%COMP%]{font-weight:600}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor);color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:var(--greySecondaryBackgroundColor)}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0;padding:4px 35px 4px 12px}.qr-code-group[_ngcontent-%COMP%]{text-align:center}.nav-content[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center;flex-direction:column}.alert[_ngcontent-%COMP%], .embed[_ngcontent-%COMP%]{margin-top:20px}.alert-private[_ngcontent-%COMP%]{margin-top:0}.filters[_ngcontent-%COMP%]{margin-top:30px}.filters[_ngcontent-%COMP%]   .advanced-filters.show[_ngcontent-%COMP%]{overflow:visible!important}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]{font-weight:600}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]{display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-inline-start:.625rem}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-inline-start:.625rem}.alert-private[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}h5[_ngcontent-%COMP%]{font-size:1.15rem}']}));var bt=$;export{yt as a,oe as b,bt as c};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/