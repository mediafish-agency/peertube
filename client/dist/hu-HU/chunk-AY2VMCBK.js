import{a as O,b as A,c as L}from"./chunk-PP4DPUP3.js";import{a as U}from"./chunk-FLZZWV3F.js";import"./chunk-AV5N3MGJ.js";import{a}from"./chunk-6HYTQZ43.js";import"./chunk-RXO3LGSG.js";import"./chunk-PZG7XDNU.js";import"./chunk-CF2PRKCK.js";import{b as C}from"./chunk-F4NNW7U6.js";import"./chunk-AJTAIDL7.js";import{e as y,f as T,g as P}from"./chunk-FDM4WNGU.js";import"./chunk-24QQSIIJ.js";import"./chunk-FCT3LKDI.js";import"./chunk-K67EGD4G.js";import"./chunk-UOVZQ5E7.js";import"./chunk-NAT3JZF7.js";import"./chunk-SPKU4WOP.js";import"./chunk-JPIRBOZL.js";import"./chunk-EBTUWTIZ.js";import"./chunk-YFOGWDCQ.js";import"./chunk-3VYEMMNL.js";import"./chunk-XLVZGSUB.js";import"./chunk-RVLWM6RI.js";import"./chunk-73DTZG4O.js";import"./chunk-CVTLOUPO.js";import"./chunk-CNM6TRJ3.js";import"./chunk-X6JWC5WV.js";import{c as I}from"./chunk-GP5LX4CA.js";import"./chunk-4V7EB4W6.js";import"./chunk-KG4UYECH.js";import"./chunk-NO6VG5DO.js";import"./chunk-UDQ7P63C.js";import"./chunk-6C7DPHTS.js";import"./chunk-7HXKHM3O.js";import"./chunk-4XL6BJ7M.js";import"./chunk-GOWSOB6U.js";import"./chunk-RBCGTDIC.js";import"./chunk-DPQ4XGHN.js";import"./chunk-XEFO2OX5.js";import"./chunk-WRZZAQTV.js";import"./chunk-RZGVOE4L.js";import"./chunk-AHXSH3AS.js";import{Da as r,Ib as b,R as l,Sa as f,T as u,Uc as h,Wf as g,ba as v,cb as S,hg as k,l as m,lg as V,sg as F}from"./chunk-4A7FW7VV.js";import"./chunk-BERSDMCF.js";import"./chunk-ONF7AOBQ.js";import{a as c,b as p,j as e}from"./chunk-K6ICEIKK.js";var s=class s{constructor(t,i,o,w,D){this.authService=t;this.userSubscription=i;this.hooks=o;this.videoService=w;this.scopedTokensService=D;e(this,"getVideosObservableFunction",this.getVideosObservable.bind(this));e(this,"getSyndicationItemsFunction",this.getSyndicationItems.bind(this));e(this,"defaultSort","-publishedAt");e(this,"actions",[{routerLink:"/my-library/subscriptions",label:"Feliratkoz\xE1sok",iconName:"cog"}]);e(this,"titlePage","Vide\xF3k a feliratkoz\xF3it\xF3l");e(this,"disabled",!1);e(this,"feedToken");}getVideosObservable(t,i){let o=p(c({},i.toVideosAPIObject()),{videoPagination:t,skipCount:!0});return this.hooks.wrapObsFun(this.userSubscription.getUserSubscriptionVideos.bind(this.userSubscription),o,"common","filter:api.user-subscriptions-videos.videos.list.params","filter:api.user-subscriptions-videos.videos.list.result");}getSyndicationItems(){return this.loadFeedToken().then(()=>{let t=this.authService.getUser();return this.videoService.getVideoSubscriptionFeedUrls(t.account.id,this.feedToken);});}disableForReuse(){this.disabled=!0;}enabledForReuse(){this.disabled=!1;}loadFeedToken(){if(this.feedToken)return Promise.resolve(this.feedToken);let t=this.authService.userInformationLoaded.pipe(l(()=>this.scopedTokensService.getScopedTokens()),u(i=>this.feedToken=i.feedToken));return m(t);}};e(s,"\u0275fac",function(i){return new(i||s)(r(k),r(a),r(F),r(I),r(V));}),e(s,"\u0275cmp",v({type:s,selectors:[["my-videos-user-subscriptions"]],standalone:!0,features:[b],decls:1,vars:6,consts:[["displayFilters","false","displayModerationBlock","false","loadUserVideoPreferences","false","groupByDate","true","highlightLives","false",3,"getVideosObservableFunction","getSyndicationItemsFunction","title","defaultSort","disabled","headerActions"]],template:function(i,o){i&1&&S(0,"my-videos-list",0),i&2&&f("getVideosObservableFunction",o.getVideosObservableFunction)("getSyndicationItemsFunction",o.getSyndicationItemsFunction)("title",o.titlePage)("defaultSort",o.defaultSort)("disabled",o.disabled)("headerActions",o.actions);},dependencies:[U],encapsulation:2}));var d=s;var ie=[{path:"",providers:[O,a,C,P,T,y],children:[{path:"overview",component:A,data:{meta:{title:"Vide\xF3k felfedez\xE9se"}}},{path:"most-liked",redirectTo:"trending?sort=most-liked"},{matcher:n=>n.length===1&&["recently-added","trending","local"].includes(n[0].path)?{consumed:n,posParams:{page:new h(n[0].path,{})}}:null,component:L,data:{reuse:{enabled:!0,key:"videos-list"}}},{path:"subscriptions",canActivate:[g],component:d,data:{meta:{title:"Feliratkoz\xE1sok"},reuse:{enabled:!0,key:"subscription-videos-list"}}}]}];export{ie as default};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/