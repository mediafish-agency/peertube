import{a as $t}from"./chunk-LOVXD4GQ.js";import{a as z,b as y}from"./chunk-VYZQNJAY.js";import{b as xt}from"./chunk-XGXRY5NY.js";import{b as Ht}from"./chunk-QMXGW4KM.js";import{a as wt}from"./chunk-6HYTQZ43.js";import{a as Lt}from"./chunk-7AYEGJPF.js";import{o as It}from"./chunk-RXO3LGSG.js";import"./chunk-PZG7XDNU.js";import"./chunk-CF2PRKCK.js";import{a as ne,b as At}from"./chunk-F4NNW7U6.js";import"./chunk-AJTAIDL7.js";import{e as Ot,f as bt,g as Nt}from"./chunk-FDM4WNGU.js";import"./chunk-24QQSIIJ.js";import"./chunk-FCT3LKDI.js";import"./chunk-K67EGD4G.js";import"./chunk-UOVZQ5E7.js";import{a as Ft}from"./chunk-NAT3JZF7.js";import{a as yt}from"./chunk-SPKU4WOP.js";import"./chunk-JPIRBOZL.js";import"./chunk-EBTUWTIZ.js";import"./chunk-RVLWM6RI.js";import"./chunk-73DTZG4O.js";import"./chunk-CVTLOUPO.js";import"./chunk-CNM6TRJ3.js";import"./chunk-X6JWC5WV.js";import"./chunk-GP5LX4CA.js";import"./chunk-4V7EB4W6.js";import"./chunk-KG4UYECH.js";import"./chunk-NO6VG5DO.js";import"./chunk-UDQ7P63C.js";import"./chunk-6C7DPHTS.js";import"./chunk-7HXKHM3O.js";import{a as te}from"./chunk-4XL6BJ7M.js";import{a as Pt}from"./chunk-GOWSOB6U.js";import"./chunk-RBCGTDIC.js";import{a as Tt}from"./chunk-DPQ4XGHN.js";import{b as ht}from"./chunk-XEFO2OX5.js";import"./chunk-WRZZAQTV.js";import"./chunk-5CNYD3QV.js";import"./chunk-RZGVOE4L.js";import{c as at,f as lt,g as st,i as ct,k as _t,l as dt,n as ut,s as gt,t as pt,u as St,z as Ct}from"./chunk-AHXSH3AS.js";import{$ as O,Ab as P,Ca as s,Da as v,Eb as m,Fb as f,Gb as E,Ib as q,Kb as Ze,Oa as p,Qf as ee,Ra as Ke,Sa as c,Sb as et,Tb as tt,Te as ce,Wb as nt,Y as D,Zc as rt,_f as ft,ab as l,ad as A,ba as Y,bb as i,bd as ot,c as Be,cb as b,db as oe,eb as ae,fb as le,fg as Et,gb as M,hg as Mt,ib as j,jb as J,kb as u,kf as Z,la as C,lb as G,m as Ye,ma as h,mb as X,nb as Qe,ob as S,pb as _,pf as mt,qc as K,r as je,rc as Q,sa as Je,sg as vt,ug as Rt,wc as it,yb as se,za as qe,zb as T}from"./chunk-4A7FW7VV.js";import"./chunk-BERSDMCF.js";import"./chunk-ONF7AOBQ.js";import{i as Ue,j as d}from"./chunk-K6ICEIKK.js";function kt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("sort","-match"));}),u(1,23),i();}}function Gt(o,n){if(o&1){let e=M();l(0,"div",48)(1,"input",94),E("ngModelChange",function(a){C(e);let r=_();return f(r.advancedSearch.sort,a)||(r.advancedSearch.sort=a),h(a);}),i(),l(2,"label",95),T(3),i()();}if(o&2){let e=n.$implicit,t=_();s(),c("id",e.id)("value",e.id),m("ngModel",t.advancedSearch.sort),s(),c("for",e.id),s(),P(e.label);}}function Xt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("isLive"));}),u(1,24),i();}}function zt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("nsfw"));}),u(1,25),i();}}function Wt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetLocalField("publishedDateRange"));}),u(1,26),i();}}function Ut(o,n){if(o&1){let e=M();l(0,"div",48)(1,"input",96),S("change",function(){C(e);let a=_();return h(a.onDurationOrPublishedUpdated());}),E("ngModelChange",function(a){C(e);let r=_();return f(r.publishedDateRange,a)||(r.publishedDateRange=a),h(a);}),i(),l(2,"label",95),T(3),i()();}if(o&2){let e=n.$implicit,t=_();s(),c("id",e.id)("value",e.id),m("ngModel",t.publishedDateRange),s(),c("for",e.id),s(),P(e.label);}}function Bt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetOriginalPublicationYears());}),u(1,27),i();}}function Yt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetLocalField("durationRange"));}),u(1,28),i();}}function jt(o,n){if(o&1){let e=M();l(0,"div",48)(1,"input",97),S("change",function(){C(e);let a=_();return h(a.onDurationOrPublishedUpdated());}),E("ngModelChange",function(a){C(e);let r=_();return f(r.durationRange,a)||(r.durationRange=a),h(a);}),i(),l(2,"label",95),T(3),i()();}if(o&2){let e=n.$implicit,t=_();s(),c("id",e.id)("value",e.id),m("ngModel",t.durationRange),s(),c("for",e.id),s(),P(e.label);}}function Jt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("categoryOneOf"));}),u(1,29),i();}}function qt(o,n){if(o&1&&(l(0,"option",98),T(1),i()),o&2){let e=n.$implicit;c("value",e.id),s(),P(e.label);}}function Kt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("licenceOneOf"));}),u(1,30),i();}}function Qt(o,n){if(o&1&&(l(0,"option",98),T(1),i()),o&2){let e=n.$implicit;c("value",e.id),s(),P(e.label);}}function Zt(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("languageOneOf"));}),u(1,31),i();}}function en(o,n){if(o&1&&(l(0,"option",98),T(1),i()),o&2){let e=n.$implicit;c("value",e.id),s(),P(e.label);}}function tn(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("tagsAllOf"));}),u(1,32),i();}}function nn(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("tagsOneOf"));}),u(1,33),i();}}function rn(o,n){if(o&1){let e=M();l(0,"button",93),S("click",function(){C(e);let a=_();return h(a.resetField("resultType"));}),u(1,34),i();}}function on(o,n){if(o&1){let e=M();l(0,"div",42)(1,"div",43)(2,"label",99),u(3,35),i()(),l(4,"div",48)(5,"input",100),E("ngModelChange",function(a){C(e);let r=_();return f(r.advancedSearch.searchTarget,a)||(r.advancedSearch.searchTarget=a),h(a);}),i(),l(6,"label",101),u(7,36),i()(),l(8,"div",48)(9,"input",102),E("ngModelChange",function(a){C(e);let r=_();return f(r.advancedSearch.searchTarget,a)||(r.advancedSearch.searchTarget=a),h(a);}),i(),l(10,"label",103),u(11,37),i()()();}if(o&2){let e=_();s(5),m("ngModel",e.advancedSearch.searchTarget),s(4),m("ngModel",e.advancedSearch.searchTarget);}}function an(o,n){if(o&1){let e=M();l(0,"button",104),S("click",function(){C(e);let a=_();return h(a.reset());}),u(1,38),i();}}var k=class k{constructor(n){this.serverService=n;d(this,"advancedSearch",new z());d(this,"filtered",new Je());d(this,"videoCategories",[]);d(this,"videoLicences",[]);d(this,"videoLanguages",[]);d(this,"publishedDateRanges",[]);d(this,"sorts",[]);d(this,"durationRanges",[]);d(this,"publishedDateRange");d(this,"durationRange");d(this,"originallyPublishedStartYear");d(this,"originallyPublishedEndYear");d(this,"serverConfig");this.publishedDateRanges=[{id:"today",label:"Oggi"},{id:"last_7days",label:"Ultimi 7 giorni"},{id:"last_30days",label:"Ultimi 30 giorni"},{id:"last_365days",label:"Ultimi 365 giorni"}],this.durationRanges=[{id:"short",label:"Breve (< 4 min)"},{id:"medium",label:"Medio (4-10 min)"},{id:"long",label:"Lungo (> 10 min)"}],this.sorts=[{id:"-match",label:"Rilevanza"},{id:"-publishedAt",label:"Data pubblicazione"},{id:"-views",label:"Visualizzazioni"}];}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.serverService.getVideoCategories().subscribe(n=>this.videoCategories=n),this.serverService.getVideoLicences().subscribe(n=>this.videoLicences=n),this.serverService.getVideoLanguages().subscribe(n=>this.videoLanguages=n),this.loadFromDurationRange(),this.loadFromPublishedRange(),this.loadOriginallyPublishedAtYears();}onDurationOrPublishedUpdated(){this.updateModelFromDurationRange(),this.updateModelFromPublishedRange(),this.updateModelFromOriginallyPublishedAtYears();}formUpdated(){this.onDurationOrPublishedUpdated(),this.filtered.emit(this.advancedSearch);}reset(){this.advancedSearch.reset(),this.resetOriginalPublicationYears(),this.durationRange=void 0,this.publishedDateRange=void 0,this.onDurationOrPublishedUpdated();}resetField(n,e){this.advancedSearch[n]=e;}resetLocalField(n,e){this[n]=e,this.onDurationOrPublishedUpdated();}resetOriginalPublicationYears(){this.originallyPublishedStartYear=this.originallyPublishedEndYear=void 0;}isSearchTargetEnabled(){return this.serverConfig.search.searchIndex.enabled&&this.serverConfig.search.searchIndex.disableLocalSearch!==!0;}loadOriginallyPublishedAtYears(){this.originallyPublishedStartYear=this.advancedSearch.originallyPublishedStartDate?new Date(this.advancedSearch.originallyPublishedStartDate).getFullYear().toString():void 0,this.originallyPublishedEndYear=this.advancedSearch.originallyPublishedEndDate?new Date(this.advancedSearch.originallyPublishedEndDate).getFullYear().toString():void 0;}loadFromDurationRange(){(this.advancedSearch.durationMin||this.advancedSearch.durationMax)&&(this.advancedSearch.durationMin===240&&this.advancedSearch.durationMax===600?this.durationRange="medium":this.advancedSearch.durationMax===240?this.durationRange="short":this.advancedSearch.durationMin===600&&(this.durationRange="long"));}loadFromPublishedRange(){if(this.advancedSearch.startDate){let n=new Date(this.advancedSearch.startDate),e=new Date(),t=Math.abs(n.getTime()-e.getTime()),a=1e3*3600*24,r=t/a;r>=365?this.publishedDateRange="last_365days":r>=30?this.publishedDateRange="last_30days":r>=7?this.publishedDateRange="last_7days":r>=0&&(this.publishedDateRange="today");}}updateModelFromOriginallyPublishedAtYears(){let n=new Date();if(n.setHours(0,0,0,0),n.setMonth(0,1),this.originallyPublishedStartYear){let e=parseInt(this.originallyPublishedStartYear,10),t=new Date(n);t.setFullYear(e),this.advancedSearch.originallyPublishedStartDate=t.toISOString();}else this.advancedSearch.originallyPublishedStartDate=void 0;if(this.originallyPublishedEndYear){let e=parseInt(this.originallyPublishedEndYear,10),t=new Date(n);t.setFullYear(e),this.advancedSearch.originallyPublishedEndDate=t.toISOString();}else this.advancedSearch.originallyPublishedEndDate=void 0;}updateModelFromDurationRange(){if(!this.durationRange){this.advancedSearch.durationMin=void 0,this.advancedSearch.durationMax=void 0;return;}let n=60*4,e=60*10;switch(this.durationRange){case"short":this.advancedSearch.durationMin=void 0,this.advancedSearch.durationMax=n;break;case"medium":this.advancedSearch.durationMin=n,this.advancedSearch.durationMax=e;break;case"long":this.advancedSearch.durationMin=e,this.advancedSearch.durationMax=void 0;break;}}updateModelFromPublishedRange(){if(!this.publishedDateRange)return;let n=new Date();switch(n.setHours(0,0,0,0),this.publishedDateRange){case"last_7days":n.setDate(n.getDate()-7);break;case"last_30days":n.setDate(n.getDate()-30);break;case"last_365days":n.setDate(n.getDate()-365);break;}this.advancedSearch.startDate=n.toISOString();}};d(k,"\u0275fac",function(e){return new(e||k)(v(ee));}),d(k,"\u0275cmp",Y({type:k,selectors:[["my-search-filters"]],inputs:{advancedSearch:"advancedSearch"},outputs:{filtered:"filtered"},standalone:!0,features:[q],decls:121,vars:38,consts:()=>{let n;n="Dopo...";let e;e="Prima...";let t;t="Filtra";let a;a="Ordina";let r;r="Solo display";let w;w="Video in diretta";let H;H="Video VOD";let V;V="Mostra contenuti sensibili";let R;R="S\xEC";let ue;ue="No";let ge;ge="Data di pubblicazione";let pe;pe="Data di pubblicazione";let Se;Se="Durata";let Ce;Ce="Categoria";let he;he="Mostra tutte le categorie";let me;me="Licenza";let fe;fe="Mostra tutte le licenze";let Ee;Ee="Lingua";let Me;Me="Mostra tutte le lingue";let ve;ve="Tutti questi tag";let Re;Re="Uno di questi tag";let Te;Te="Host dell'istanza PeerTube";let Pe;Pe="Tipi di risultato";let ye;ye="Video";let Oe;Oe="Canali";let be;be="Playlist";let Ae;Ae="Ripristina";let Fe;Fe="Ripristina";let Ne;Ne="Ripristina";let Ie;Ie="Ripristina";let Le;Le="Ripristina";let xe;xe="Ripristina";let $e;$e="Ripristina";let we;we="Ripristina";let He;He="Ripristina";let Ve;Ve="Ripristina";let De;De="Ripristina";let ke;ke="Ripristina";let Ge;Ge="Obiettivo di ricerca";let Xe;Xe="Istanza";let ze;ze="Vidiverse";let We;return We="Ripristina",[a,r,w,H,V,R,ue,ge,pe,Se,Ce,he,me,fe,Ee,Me,ve,Re,Te,Pe,ye,Oe,be,Ae,Fe,Ne,Ie,Le,xe,$e,we,He,Ve,De,ke,Ge,Xe,ze,We,["role","form",3,"ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-xs-12"],["role","radiogroup",1,"form-group"],[1,"radio-label","label-container"],["for","sort"],["type","button","class","reset-button reset-button-small",3,"click",4,"ngIf"],["class","peertube-radio-container",4,"ngFor","ngForOf"],["for","isLive"],[1,"peertube-radio-container"],["type","radio","name","isLive","id","isLiveTrue","value","true",3,"ngModelChange","ngModel"],["for","isLiveTrue",1,"radio"],["type","radio","name","isLive","id","isLiveFalse","value","false",3,"ngModelChange","ngModel"],["for","isLiveFalse",1,"radio"],["for","sensitiveContent"],["type","radio","name","sensitiveContent","id","sensitiveContentYes","value","both",3,"ngModelChange","ngModel"],["for","sensitiveContentYes",1,"radio"],["type","radio","name","sensitiveContent","id","sensitiveContentNo","value","false",3,"ngModelChange","ngModel"],["for","sensitiveContentNo",1,"radio"],[1,"form-group"],["for","publishedDateRange"],[1,"label-container"],["for","original-publication-after"],[1,"ps-0","col-sm-6"],["type","text","id","original-publication-after","name","original-publication-after","placeholder",n,1,"form-control",3,"change","keydown.enter","ngModelChange","ngModel"],[1,"pe-0","col-sm-6"],["type","text","id","original-publication-before","name","original-publication-before","placeholder",e,1,"form-control",3,"change","keydown.enter","ngModelChange","ngModel"],["for","durationRange"],["for","category"],[1,"peertube-select-container"],["id","category","name","category",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","licence"],["id","licence","name","licence",1,"form-control",3,"ngModelChange","ngModel"],["for","language"],["id","language","name","language",1,"form-control",3,"ngModelChange","ngModel"],["for","tagsAllOf"],["name","tagsAllOf","labelForId","tagsAllOf","id","tagsAllOf",3,"ngModelChange","ngModel"],["for","tagsOneOf"],["name","tagsOneOf","labelForId","tagsOneOf","id","tagsOneOf",3,"ngModelChange","ngModel"],["for","host"],["type","text","id","host","name","host","placeholder","example.com",1,"form-control",3,"change","keydown.enter","ngModelChange","ngModel"],["for","resultType"],["type","radio","name","resultType","id","resultTypeVideos","value","videos",3,"ngModelChange","ngModel"],["for","resultTypeVideos",1,"radio"],["type","radio","name","resultType","id","resultTypeChannels","value","channels",3,"ngModelChange","ngModel"],["for","resultTypeChannels",1,"radio"],["type","radio","name","resultType","id","resultTypePlaylists","value","playlists",3,"ngModelChange","ngModel"],["for","resultTypePlaylists",1,"radio"],["class","form-group","role","radiogroup",4,"ngIf"],[1,"submit-button"],["type","button","class","reset-button me-3",3,"click",4,"ngIf"],["type","submit","value",t,"aria-label","Filter the results and automatically close the filters panel"],["type","button",1,"reset-button","reset-button-small",3,"click"],["type","radio","name","sort",3,"ngModelChange","id","value","ngModel"],[1,"radio",3,"for"],["type","radio","name","publishedDateRange",3,"change","ngModelChange","id","value","ngModel"],["type","radio","name","durationRange",3,"change","ngModelChange","id","value","ngModel"],[3,"value"],["for","searchTarget"],["type","radio","name","searchTarget","id","searchTargetLocal","value","local",3,"ngModelChange","ngModel"],["for","searchTargetLocal",1,"radio"],["type","radio","name","searchTarget","id","searchTargetSearchIndex","value","search-index",3,"ngModelChange","ngModel"],["for","searchTargetSearchIndex",1,"radio"],["type","button",1,"reset-button","me-3",3,"click"]];},template:function(e,t){e&1&&(l(0,"form",39),S("ngSubmit",function(){return t.formUpdated();}),l(1,"div",40)(2,"div",41)(3,"fieldset",42)(4,"div",43)(5,"label",44),u(6,0),i(),p(7,kt,2,0,"button",45),i(),p(8,Gt,4,5,"div",46),i(),l(9,"div",42)(10,"div",43)(11,"label",47),u(12,1),i(),p(13,Xt,2,0,"button",45),i(),l(14,"div",48)(15,"input",49),E("ngModelChange",function(r){return f(t.advancedSearch.isLive,r)||(t.advancedSearch.isLive=r),r;}),i(),l(16,"label",50),u(17,2),i()(),l(18,"div",48)(19,"input",51),E("ngModelChange",function(r){return f(t.advancedSearch.isLive,r)||(t.advancedSearch.isLive=r),r;}),i(),l(20,"label",52),u(21,3),i()()(),l(22,"div",42)(23,"div",43)(24,"label",53),u(25,4),i(),p(26,zt,2,0,"button",45),i(),l(27,"div",48)(28,"input",54),E("ngModelChange",function(r){return f(t.advancedSearch.nsfw,r)||(t.advancedSearch.nsfw=r),r;}),i(),l(29,"label",55),u(30,5),i()(),l(31,"div",48)(32,"input",56),E("ngModelChange",function(r){return f(t.advancedSearch.nsfw,r)||(t.advancedSearch.nsfw=r),r;}),i(),l(33,"label",57),u(34,6),i()()(),l(35,"div",58)(36,"div",43)(37,"label",59),u(38,7),i(),p(39,Wt,2,0,"button",45),i(),p(40,Ut,4,5,"div",46),i(),l(41,"div",58)(42,"div",60)(43,"label",61),u(44,8),i(),p(45,Bt,2,0,"button",45),i(),l(46,"div",40)(47,"div",62)(48,"input",63),S("change",function(){return t.onDurationOrPublishedUpdated();})("keydown.enter",function(r){return r.preventDefault();}),E("ngModelChange",function(r){return f(t.originallyPublishedStartYear,r)||(t.originallyPublishedStartYear=r),r;}),i()(),l(49,"div",64)(50,"input",65),S("change",function(){return t.onDurationOrPublishedUpdated();})("keydown.enter",function(r){return r.preventDefault();}),E("ngModelChange",function(r){return f(t.originallyPublishedEndYear,r)||(t.originallyPublishedEndYear=r),r;}),i()()()()(),l(51,"div",41)(52,"div",42)(53,"div",43)(54,"label",66),u(55,9),i(),p(56,Yt,2,0,"button",45),i(),p(57,jt,4,5,"div",46),i(),l(58,"div",58)(59,"label",67),u(60,10),i(),p(61,Jt,2,0,"button",45),l(62,"div",68)(63,"select",69),E("ngModelChange",function(r){return f(t.advancedSearch.categoryOneOf,r)||(t.advancedSearch.categoryOneOf=r),r;}),l(64,"option",70),u(65,11),i(),p(66,qt,2,2,"option",71),i()()(),l(67,"div",58)(68,"label",72),u(69,12),i(),p(70,Kt,2,0,"button",45),l(71,"div",68)(72,"select",73),E("ngModelChange",function(r){return f(t.advancedSearch.licenceOneOf,r)||(t.advancedSearch.licenceOneOf=r),r;}),l(73,"option",70),u(74,13),i(),p(75,Qt,2,2,"option",71),i()()(),l(76,"div",58)(77,"label",74),u(78,14),i(),p(79,Zt,2,0,"button",45),l(80,"div",68)(81,"select",75),E("ngModelChange",function(r){return f(t.advancedSearch.languageOneOf,r)||(t.advancedSearch.languageOneOf=r),r;}),l(82,"option",70),u(83,15),i(),p(84,en,2,2,"option",71),i()()()(),l(85,"div",41)(86,"div",58)(87,"label",76),u(88,16),i(),p(89,tn,2,0,"button",45),l(90,"my-select-tags",77),E("ngModelChange",function(r){return f(t.advancedSearch.tagsAllOf,r)||(t.advancedSearch.tagsAllOf=r),r;}),i()(),l(91,"div",58)(92,"label",78),u(93,17),i(),p(94,nn,2,0,"button",45),l(95,"my-select-tags",79),E("ngModelChange",function(r){return f(t.advancedSearch.tagsOneOf,r)||(t.advancedSearch.tagsOneOf=r),r;}),i()(),l(96,"div",58)(97,"label",80),u(98,18),i(),l(99,"input",81),S("change",function(){return t.onDurationOrPublishedUpdated();})("keydown.enter",function(r){return r.preventDefault();}),E("ngModelChange",function(r){return f(t.advancedSearch.host,r)||(t.advancedSearch.host=r),r;}),i()(),l(100,"div",42)(101,"div",43)(102,"label",82),u(103,19),i(),p(104,rn,2,0,"button",45),i(),l(105,"div",48)(106,"input",83),E("ngModelChange",function(r){return f(t.advancedSearch.resultType,r)||(t.advancedSearch.resultType=r),r;}),i(),l(107,"label",84),u(108,20),i()(),l(109,"div",48)(110,"input",85),E("ngModelChange",function(r){return f(t.advancedSearch.resultType,r)||(t.advancedSearch.resultType=r),r;}),i(),l(111,"label",86),u(112,21),i()(),l(113,"div",48)(114,"input",87),E("ngModelChange",function(r){return f(t.advancedSearch.resultType,r)||(t.advancedSearch.resultType=r),r;}),i(),l(115,"label",88),u(116,22),i()()(),p(117,on,12,2,"div",89),i()(),l(118,"div",90),p(119,an,2,0,"button",91),b(120,"input",92),i()()),e&2&&(s(7),c("ngIf",t.advancedSearch.sort!=="-match"),s(),c("ngForOf",t.sorts),s(5),c("ngIf",t.advancedSearch.isLive!==void 0),s(2),m("ngModel",t.advancedSearch.isLive),s(4),m("ngModel",t.advancedSearch.isLive),s(7),c("ngIf",t.advancedSearch.nsfw!==void 0),s(2),m("ngModel",t.advancedSearch.nsfw),s(4),m("ngModel",t.advancedSearch.nsfw),s(7),c("ngIf",t.publishedDateRange!==void 0),s(),c("ngForOf",t.publishedDateRanges),s(5),c("ngIf",t.originallyPublishedStartYear||t.originallyPublishedEndYear),s(3),m("ngModel",t.originallyPublishedStartYear),s(2),m("ngModel",t.originallyPublishedEndYear),s(6),c("ngIf",t.durationRange!==void 0),s(),c("ngForOf",t.durationRanges),s(4),c("ngIf",t.advancedSearch.categoryOneOf!==void 0),s(2),m("ngModel",t.advancedSearch.categoryOneOf),s(),c("ngValue",void 0),s(2),c("ngForOf",t.videoCategories),s(4),c("ngIf",t.advancedSearch.licenceOneOf!==void 0),s(2),m("ngModel",t.advancedSearch.licenceOneOf),s(),c("ngValue",void 0),s(2),c("ngForOf",t.videoLicences),s(4),c("ngIf",t.advancedSearch.languageOneOf!==void 0),s(2),m("ngModel",t.advancedSearch.languageOneOf),s(),c("ngValue",void 0),s(2),c("ngForOf",t.videoLanguages),s(5),c("ngIf",t.advancedSearch.tagsAllOf),s(),m("ngModel",t.advancedSearch.tagsAllOf),s(4),c("ngIf",t.advancedSearch.tagsOneOf),s(),m("ngModel",t.advancedSearch.tagsOneOf),s(4),m("ngModel",t.advancedSearch.host),s(5),c("ngIf",t.advancedSearch.resultType!==void 0),s(2),m("ngModel",t.advancedSearch.resultType),s(4),m("ngModel",t.advancedSearch.resultType),s(4),m("ngModel",t.advancedSearch.resultType),s(3),c("ngIf",t.isSearchTargetEnabled()),s(2),c("ngIf",t.advancedSearch.size()));},dependencies:[Ct,dt,pt,St,at,gt,ut,lt,st,_t,ct,Q,K,$t],styles:['form[_ngcontent-%COMP%]{margin-top:40px}.radio-label[_ngcontent-%COMP%]{font-weight:700}.peertube-radio-container[_ngcontent-%COMP%]{display:inline-block;margin-inline-end:calc(1.3125rem + .75vw)}@media (min-width: 1200px){.peertube-radio-container[_ngcontent-%COMP%]{margin-inline-end:1.875rem}}.peertube-select-container[_ngcontent-%COMP%]{margin-bottom:1rem;padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;height:min-content}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{background-color:#f9f9f9}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--mainForegroundColor);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:15px;padding:3px 35px 3px 12px;position:relative;border:1px solid var(--inputBorderColor);background:transparent none;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--mainForegroundColor);line-height:23px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[value=undefined][_ngcontent-%COMP%]{font-weight:600}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor);color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:var(--greySecondaryBackgroundColor)}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0;padding:4px 35px 4px 12px}input[type=text][_ngcontent-%COMP%]{font-size:15px;padding:3px 15px;width:100%;max-width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{display:inline-block;padding:4px 13px;border:0;font-weight:600;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px}input[type=submit][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%]:active{text-decoration:none!important}input[type=submit][_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:var(--inputBorderColor)}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.submit-button[_ngcontent-%COMP%]{text-align:end}']}));var ie=k;var ln=o=>[o];function sn(o,n){o&1&&(l(0,"span",21),u(1,3),i());}function cn(o,n){o&1&&(l(0,"span",21),u(1,4),i());}function _n(o,n){if(o&1&&(l(0,"span"),j(1,5),b(2,"span",24),J(),i()),o&2){let e=_(2);s(2),G(e.currentSearch),X(1);}}function dn(o,n){if(o&1&&(l(0,"div",20)(1,"span",21),u(2,2),et(3,"myNumberFormatter"),i(),p(4,sn,2,0,"span",22)(5,cn,2,0,"span",22)(6,_n,3,1,"span",23),i()),o&2){let e=_();s(3),G(tt(3,5,e.pagination.totalItems))(e.pagination.totalItems),X(2),s(),c("ngIf",e.advancedSearch.searchTarget==="local"),s(),c("ngIf",e.advancedSearch.searchTarget==="search-index"),s(),c("ngIf",e.currentSearch);}}function un(o,n){if(o&1&&(j(0,1,1),b(1,"span",25),J()),o&2){let e=_();s(),G(e.numberOfFilters()),X(0);}}function gn(o,n){if(o&1&&(l(0,"div",26),T(1),i()),o&2){let e=_();s(),P(e.error);}}function pn(o,n){o&1&&(l(0,"div",27),u(1,6),i());}function Sn(o,n){o&1&&le(0);}function Cn(o,n){if(o&1&&(l(0,"a",38),p(1,Sn,1,0,"ng-container",39),i()),o&2){_();let e=se(6),t=_().$implicit,a=_();c("routerLink",a.getInternalChannelUrl(t)),s(),c("ngTemplateOutlet",e);}}function hn(o,n){o&1&&le(0);}function mn(o,n){if(o&1&&(l(0,"a",40),p(1,hn,1,0,"ng-container",39),i()),o&2){_();let e=se(6),t=_().$implicit,a=_();c("href",a.getExternalChannelUrl(t),qe),s(),c("ngTemplateOutlet",e);}}function fn(o,n){if(o&1&&(l(0,"div",41),T(1),i(),l(2,"div",42),T(3),i()),o&2){let e=_(2).$implicit;s(),P(e.displayName),s(2),P(e.nameWithHost);}}function En(o,n){if(o&1&&b(0,"my-subscribe-button",43),o&2){let e=_(2).$implicit;c("videoChannels",Ze(1,ln,e));}}function Mn(o,n){if(o&1&&(l(0,"div",31),b(1,"my-actor-avatar",32),l(2,"div",33),p(3,Cn,2,2,"a",34)(4,mn,2,2,"a",35)(5,fn,4,2,"ng-template",null,0,nt),l(7,"div",36),u(8,7),i()(),p(9,En,1,3,"my-subscribe-button",37),i()),o&2){let e=_().$implicit,t=_();s(),c("actor",e)("internalHref",t.getInternalChannelUrl(e))("href",t.getExternalChannelUrl(e)),s(2),c("ngIf",!t.isExternalChannelUrl()),s(),c("ngIf",t.isExternalChannelUrl()),s(4),G(e.followersCount),X(8),s(),c("ngIf",!t.hideActions());}}function vn(o,n){if(o&1){let e=M();l(0,"div",44)(1,"my-video-miniature",45),S("videoBlocked",function(){C(e);let a=_().$implicit,r=_();return h(r.removeVideoFromArray(a));})("videoRemoved",function(){C(e);let a=_().$implicit,r=_();return h(r.removeVideoFromArray(a));}),i()();}if(o&2){let e=_().$implicit,t=_();s(),c("video",e)("user",t.userMiniature)("displayAsRow",!0)("displayVideoActions",!t.hideActions())("displayOptions",t.videoDisplayOptions)("videoLinkType",t.getLinkType());}}function Rn(o,n){if(o&1&&(l(0,"div",46),b(1,"my-video-playlist-miniature",47),i()),o&2){let e=_().$implicit,t=_();s(),c("playlist",e)("displayAsRow",!0)("displayChannel",!0)("linkType",t.getLinkType());}}function Tn(o,n){if(o&1&&(oe(0),p(1,Mn,10,7,"div",28)(2,vn,2,6,"div",29)(3,Rn,2,4,"div",30),ae()),o&2){let e=n.$implicit,t=_();s(),c("ngIf",t.isVideoChannel(e)),s(),c("ngIf",t.isVideo(e)),s(),c("ngIf",t.isPlaylist(e));}}var N=class N{constructor(n,e,t,a,r,w,H,V,R){this.route=n;this.router=e;this.metaService=t;this.notifier=a;this.searchService=r;this.authService=w;this.userService=H;this.hooks=V;this.serverService=R;d(this,"error");d(this,"results",[]);d(this,"pagination",{currentPage:1,totalItems:null});d(this,"advancedSearch",new z());d(this,"isSearchFilterCollapsed",!0);d(this,"currentSearch");d(this,"videoDisplayOptions",{date:!0,views:!0,by:!0,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1});d(this,"errorMessage");d(this,"userMiniature");d(this,"onSearchDataSubject",new Be());d(this,"subActivatedRoute");d(this,"isInitialLoad",!1);d(this,"hasMoreResults",!0);d(this,"isSearching",!1);d(this,"lastSearchTarget");d(this,"serverConfig");}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.subActivatedRoute=this.route.queryParams.subscribe({next:n=>{let e=n.search,t=n.searchTarget;(this.currentSearch!==e||t!==this.advancedSearch.searchTarget)&&(this.resetPagination(),this.advancedSearch.reset(),this.currentSearch=e||void 0,this.updateTitle()),this.advancedSearch=new z(n),this.advancedSearch.searchTarget||(this.advancedSearch.searchTarget=this.getDefaultSearchTarget()),this.error=this.checkFieldsAndGetError(),this.isSearchFilterCollapsed=!this.error&&(this.isInitialLoad===!1||!this.advancedSearch.containsValues()),this.isInitialLoad=!1,this.search();},error:n=>this.notifier.error(n.message)}),this.userService.getAnonymousOrLoggedUser().subscribe(n=>this.userMiniature=n),this.hooks.runAction("action:search.init","search");}ngOnDestroy(){this.subActivatedRoute&&this.subActivatedRoute.unsubscribe();}isVideoChannel(n){return n instanceof Tt;}isVideo(n){return n instanceof te;}isPlaylist(n){return n instanceof ne;}isUserLoggedIn(){return this.authService.isLoggedIn();}search(){this.error=this.checkFieldsAndGetError(),!this.error&&(this.isSearching=!0,je([this.getVideoChannelObs(),this.getVideoPlaylistObs(),this.getVideosObs()]).subscribe({next:n=>{for(let e of n)this.results=this.results.concat(e.data);this.pagination.totalItems=n.reduce((e,t)=>e+=t.total,0),this.lastSearchTarget=this.advancedSearch.searchTarget,this.hasMoreResults=this.results.length<this.pagination.totalItems,this.onSearchDataSubject.next(n);},error:n=>{if(this.advancedSearch.searchTarget!=="search-index"){this.notifier.error(n.message);return;}this.notifier.error("L'indice di ricerca non \xE8 disponibile. Nuovo tentativo con i risultati dell'istanza.","Errore nella ricerca"),this.advancedSearch.searchTarget="local",this.search();},complete:()=>{this.isSearching=!1;}}));}onNearOfBottom(){!this.hasMoreResults||this.isSearching||(this.pagination.currentPage+=1,this.search());}onFiltered(){this.resetPagination(),this.updateUrlFromAdvancedSearch();}numberOfFilters(){return this.advancedSearch.size();}removeVideoFromArray(n){this.results=this.results.filter(e=>!this.isVideo(e)||e.id!==n.id);}getLinkType(){if(this.advancedSearch.searchTarget==="search-index"){let n=this.serverConfig.search.remoteUri;return!this.isUserLoggedIn()&&!n.anonymous||!n.users?"external":"lazy-load";}return"internal";}isExternalChannelUrl(){return this.getLinkType()==="external";}getExternalChannelUrl(n){if(this.getLinkType()==="external")return n.url;}getInternalChannelUrl(n){let e=this.getLinkType();if(e==="internal")return["/c",n.nameWithHost];if(e==="lazy-load")return["/search/lazy-load-channel",{url:n.url}];}hideActions(){return this.lastSearchTarget==="search-index";}resetPagination(){this.pagination.currentPage=1,this.pagination.totalItems=null,this.results=[];}updateTitle(){let n=this.currentSearch?"Ricerca "+this.currentSearch+"":"Ricerca";this.metaService.setTitle(n);}updateUrlFromAdvancedSearch(){let n=this.currentSearch||void 0;this.router.navigate([],{relativeTo:this.route,queryParams:Object.assign({},this.advancedSearch.toUrlObject(),{search:n})});}getVideosObs(){let n={search:this.currentSearch,componentPagination:Z(this.pagination,{itemsPerPage:10}),advancedSearch:this.advancedSearch};return this.hooks.wrapObsFun(this.searchService.searchVideos.bind(this.searchService),n,"search","filter:api.search.videos.list.params","filter:api.search.videos.list.result");}getVideoChannelObs(){let n={search:this.currentSearch,componentPagination:Z(this.pagination,{itemsPerPage:this.buildChannelsPerPage()}),advancedSearch:this.advancedSearch};return this.hooks.wrapObsFun(this.searchService.searchVideoChannels.bind(this.searchService),n,"search","filter:api.search.video-channels.list.params","filter:api.search.video-channels.list.result");}getVideoPlaylistObs(){let n={search:this.currentSearch,componentPagination:Z(this.pagination,{itemsPerPage:this.buildPlaylistsPerPage()}),advancedSearch:this.advancedSearch};return this.hooks.wrapObsFun(this.searchService.searchVideoPlaylists.bind(this.searchService),n,"search","filter:api.search.video-playlists.list.params","filter:api.search.video-playlists.list.result");}getDefaultSearchTarget(){let n=this.serverConfig.search.searchIndex;return n.enabled&&(n.isDefaultSearch||n.disableLocalSearch)?"search-index":"local";}checkFieldsAndGetError(){if(this.advancedSearch.host&&!xt(this.advancedSearch.host))return"Il filtro host dell'istanza PeerTube non \xE8 valido";}buildChannelsPerPage(){return this.advancedSearch.resultType==="channels"?10:2;}buildPlaylistsPerPage(){return this.advancedSearch.resultType==="playlists"?10:2;}};d(N,"\u0275fac",function(e){return new(e||N)(v(rt),v(A),v(ft),v(Et),v(y),v(Mt),v(Rt),v(vt),v(ee));}),d(N,"\u0275cmp",Y({type:N,selectors:[["my-search"]],standalone:!0,features:[q],decls:14,vars:10,consts:()=>{let n;n="Filtri "+"\uFFFD*8:1\uFFFD\uFFFD#1:1\uFFFD"+""+"\uFFFD0:1\uFFFD"+""+"\uFFFD/#1:1\uFFFD\uFFFD/*8:1\uFFFD"+"";let e;e="{VAR_PLURAL, plural, =1 {result} other {results}}",e=Qe(e,{VAR_PLURAL:"\uFFFD1\uFFFD"});let t;t=""+"\uFFFD0\uFFFD"+" "+e+"";let a;a="su questa istanza";let r;r="su vidiverse";let w;w="per "+"\uFFFD#2\uFFFD"+""+"\uFFFD0\uFFFD"+""+"\uFFFD/#2\uFFFD"+"";let H;H="\n    Nessun risultato trovato\n  ";let V;return V="\n          "+"\uFFFD0\uFFFD"+" iscritti\n        ",[["aContent",""],n,t,a,r,w,H,V,["myInfiniteScroller","",1,"search-result",3,"nearOfBottom","dataObservable"],[1,"results-header"],[1,"first-line"],["class","results-counter",4,"ngIf"],["aria-controls","search-results-filter",1,"results-filter-button","button-unstyle","ms-auto",3,"click"],[1,"icon","icon-filter"],["class","pt-badge badge-secondary",4,"ngIf"],["id","search-results-filter",1,"results-filter",3,"ngbCollapse","animation"],[3,"filtered","advancedSearch"],["class","alert alert-danger",4,"ngIf"],["class","no-results",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"results-counter"],[1,"me-1"],["class","me-1",4,"ngIf"],[4,"ngIf"],[1,"search-value"],[1,"pt-badge","badge-secondary"],[1,"alert","alert-danger"],[1,"no-results"],["class","entry video-channel",4,"ngIf"],["class","entry video",4,"ngIf"],["class","entry video-playlist",4,"ngIf"],[1,"entry","video-channel"],["actorType","channel","responseSize","true","size","120",3,"actor","internalHref","href"],[1,"video-channel-info"],["class","video-channel-names",3,"routerLink",4,"ngIf"],["target","_blank","class","video-channel-names",3,"href",4,"ngIf"],[1,"video-channel-followers"],[3,"videoChannels",4,"ngIf"],[1,"video-channel-names",3,"routerLink"],[4,"ngTemplateOutlet"],["target","_blank",1,"video-channel-names",3,"href"],[1,"video-channel-display-name","me-2"],[1,"video-channel-name"],[3,"videoChannels"],[1,"entry","video"],[3,"videoBlocked","videoRemoved","video","user","displayAsRow","displayVideoActions","displayOptions","videoLinkType"],[1,"entry","video-playlist"],[3,"playlist","displayAsRow","displayChannel","linkType"]];},template:function(e,t){e&1&&(l(0,"div",8),S("nearOfBottom",function(){return t.onNearOfBottom();}),l(1,"div",9)(2,"div",10),p(3,dn,7,7,"div",11),l(4,"button",12),S("click",function(){return t.isSearchFilterCollapsed=!t.isSearchFilterCollapsed;}),b(5,"span",13),oe(6),j(7,1),p(8,un,2,1,"span",14),J(),ae(),i()(),l(9,"div",15)(10,"my-search-filters",16),S("filtered",function(){return t.onFiltered();}),i(),p(11,gn,2,1,"div",17),i()(),p(12,pn,2,0,"div",18)(13,Tn,4,3,"ng-container",19),i()),e&2&&(c("dataObservable",t.onSearchDataSubject.asObservable()),s(3),c("ngIf",t.pagination.totalItems),s(),Ke("aria-expanded",!t.isSearchFilterCollapsed),s(4),c("ngIf",t.numberOfFilters()>0),s(),c("ngbCollapse",t.isSearchFilterCollapsed)("animation",!0),s(),c("advancedSearch",t.advancedSearch),s(),c("ngIf",t.error),s(),c("ngIf",t.pagination.totalItems===0&&t.results.length===0),s(),c("ngForOf",t.results));},dependencies:[yt,Q,ht,ie,K,Pt,ot,it,Ht,It,Lt,Ft],styles:['.search-result[_ngcontent-%COMP%]{padding:40px}.alert-danger[_ngcontent-%COMP%]{margin-top:10px}.results-header[_ngcontent-%COMP%]{padding-bottom:20px;margin-bottom:30px;border-bottom:1px solid #DADADA}.results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]{display:flex;flex-direction:row}.results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-counter[_ngcontent-%COMP%]{flex-grow:1}.results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-counter[_ngcontent-%COMP%]   .search-value[_ngcontent-%COMP%]{font-weight:600}.results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-filter-button[_ngcontent-%COMP%]{cursor:pointer}.results-header[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]   .results-filter-button[_ngcontent-%COMP%]   .icon.icon-filter[_ngcontent-%COMP%]{position:relative;top:-1px;background-image:url("./media/filter-BVUFJ6PU.svg");display:inline-block;background-repeat:no-repeat;background-size:contain;width:20px;height:20px;vertical-align:middle;cursor:pointer;margin-inline-end:.3125rem}.entry[_ngcontent-%COMP%]{display:flex;margin-bottom:40px;max-width:800px}.video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{width:120px;height:120px;min-height:120px;min-width:120px;margin:0 calc(80px + 1rem) 0 80px}.video-channel-info[_ngcontent-%COMP%]{flex-grow:1;width:fit-content}.video-channel-names[_ngcontent-%COMP%]{display:flex;align-items:baseline;color:var(--mainForegroundColor);width:fit-content;flex-wrap:wrap}.video-channel-names[_ngcontent-%COMP%]:hover, .video-channel-names[_ngcontent-%COMP%]:focus, .video-channel-names[_ngcontent-%COMP%]:active{text-decoration:none!important}.video-channel-names[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.video-channel-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.3em}.video-channel-name[_ngcontent-%COMP%]{font-size:14px;color:var(--greyForegroundColor)}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto}.main-col:not(.expanded)[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{grid-column:1;grid-row:1/-1;width:120px;height:120px;min-height:120px;min-width:120px;margin:0 calc(40.5px + 1rem) 0 40.5px}.main-col:not(.expanded)[_nghost-%COMP%]   .video-channel-info[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{grid-column:2;grid-row:1}.main-col:not(.expanded)[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{grid-column:2;grid-row:2;align-self:end}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto}.main-col.expanded[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{grid-column:1;grid-row:1/-1;width:120px;height:120px;min-height:120px;min-width:120px;margin:0 calc(40.5px + 1rem) 0 40.5px}.main-col.expanded[_nghost-%COMP%]   .video-channel-info[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .video-channel-info[_ngcontent-%COMP%]{grid-column:2;grid-row:1}.main-col.expanded[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{grid-column:2;grid-row:2;align-self:end}}@media screen and (max-width: 740px){.main-col:not(.expanded)[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{width:120px;height:120px;min-height:120px;min-width:120px;margin:0 calc(2.5px + 1rem) 0 2.5px}}@media screen and (max-width: 500px){.main-col.expanded[_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{width:120px;height:120px;min-height:120px;min-width:120px;margin:0 calc(2.5px + 1rem) 0 2.5px}}@media screen and (max-width: 500px){.search-result[_ngcontent-%COMP%]{padding:20px 10px}.search-result[_ngcontent-%COMP%]   .results-header[_ngcontent-%COMP%]{font-size:15px!important}.video-channel-display-name[_ngcontent-%COMP%]{font-size:14px}.video-channel-name[_ngcontent-%COMP%]{font-size:12px}}']})),Ue([mt()],N.prototype,"getInternalChannelUrl",1);var I=N;var F=class{constructor(){d(this,"router");}resolve(n){let e=n.params.url;return e?this.finder(e).pipe(Ye(t=>{if(t.data.length!==1)return ce.error("Cannot find result for this URL"),this.router.navigateByUrl("/404");let a=this.buildUrl(t.data[0]);return this.router.navigateByUrl(a);})):(ce.error("Could not find url param.",{params:n.params}),this.router.navigateByUrl("/404"));}};var L=class L extends F{constructor(e,t){super();this.router=e;this.searchService=t;}finder(e){return this.searchService.searchVideoChannels({search:e});}buildUrl(e){return"/video-channels/"+e.nameWithHost;}};d(L,"\u0275fac",function(t){return new(t||L)(O(A),O(y));}),d(L,"\u0275prov",D({token:L,factory:L.ɵfac}));var W=L;var x=class x extends F{constructor(e,t){super();this.router=e;this.searchService=t;}finder(e){return this.searchService.searchVideoPlaylists({search:e});}buildUrl(e){return ne.buildWatchUrl(e);}};d(x,"\u0275fac",function(t){return new(t||x)(O(A),O(y));}),d(x,"\u0275prov",D({token:x,factory:x.ɵfac}));var U=x;var $=class $ extends F{constructor(e,t){super();this.router=e;this.searchService=t;}finder(e){return this.searchService.searchVideos({search:e});}buildUrl(e){return te.buildWatchUrl(e);}};d($,"\u0275fac",function(t){return new(t||$)(O(A),O(y));}),d($,"\u0275prov",D({token:$,factory:$.ɵfac}));var B=$;var xi=[{path:"",component:I,data:{meta:{title:"Ricerca"}},providers:[y,At,wt,Nt,bt,Ot,B,W,U],children:[{path:"lazy-load-video",component:I,resolve:{data:B}},{path:"lazy-load-channel",component:I,resolve:{data:W}},{path:"lazy-load-playlist",component:I,resolve:{data:U}}]}];export{xi as default};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/