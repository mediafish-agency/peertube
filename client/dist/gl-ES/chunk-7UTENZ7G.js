import{k as X,l as W,n as q,r as j}from"./chunk-XEFO2OX5.js";import{Aa as P,Bb as x,Bc as z,Ca as a,Da as w,F as L,Gf as ae,Ib as A,Kb as R,Oa as _,Sa as r,Sb as D,Vb as N,Wb as V,Xf as Z,_e as J,ab as l,ac as $,ba as O,bb as c,bd as Q,cb as h,cd as K,db as k,eb as B,fb as H,gb as b,gf as Y,kb as v,la as p,ma as u,ob as f,pb as m,pc as F,qc as G,rc as T,vb as E,wb as M,wc as U,xb as y,yb as S,zb as I}from"./chunk-4A7FW7VV.js";import{g as se,j as s}from"./chunk-K6ICEIKK.js";var ne=se(ae());var de=["modal"],me=["itemsParent"],_e=["itemsRendered"],pe=n=>({item:n}),ue=n=>({"route-active":n});function fe(n,t){n&1&&H(0);}function ge(n,t){if(n&1&&(l(0,"span",7,2),_(2,fe,1,0,"ng-container",8),c()),n&2){let e=t.$implicit,i=t.index,o=m();r("id",o.getId(i)),a(2),r("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",R(3,pe,e));}}function Ce(n,t){if(n&1){let e=b();l(0,"button",11),f("click",function(){p(e);let o=m(2);return u(o.toggleModal());}),h(1,"span",12),c();}}function ve(n,t){if(n&1&&(l(0,"a",17),I(1),c()),n&2){let e=t.$implicit;r("routerLink",e.routerLink),a(),x(" ",e.label," ");}}function Oe(n,t){if(n&1){let e=b();l(0,"div",13,3),f("mouseleave",function(){p(e);let o=S(1),d=m(2);return u(d.closeDropdownIfHovered(o));})("mouseenter",function(){p(e);let o=S(1),d=m(2);return u(d.openDropdownOnHover(o));}),l(2,"button",14),f("click",function(){p(e);let o=S(1),d=m(2);return u(d.dropdownAnchorClicked(o));}),h(3,"span",12),c(),l(4,"div",15),_(5,ve,2,2,"a",16),D(6,"slice"),c()();}if(n&2){let e=m(2);a(2),r("ngClass",R(6,ue,e.active)),a(3),r("ngForOf",N(6,2,e.items,e.showItemsUntilIndexExcluded,e.items.length));}}function we(n,t){if(n&1&&(k(0),_(1,Ce,2,0,"button",9)(2,Oe,7,8,"div",10),B()),n&2){let e=m();a(),r("ngIf",e.isInMobileView),a(),r("ngIf",!e.isInMobileView);}}function be(n,t){if(n&1){let e=b();l(0,"a",20),f("click",function(){p(e);let o=m(2);return u(o.dismissOtherModals());}),I(1),c();}if(n&2){let e=t.$implicit;r("routerLink",e.routerLink),a(),x(" ",e.label," ");}}function Ee(n,t){if(n&1&&(l(0,"div",18),_(1,be,2,2,"a",19),D(2,"slice"),c()),n&2){let e=m();a(),r("ngForOf",N(2,1,e.items,e.showItemsUntilIndexExcluded,e.items.length));}}var ee=(0,ne.default)("peertube:main:ListOverflowItem"),g=class g{constructor(t,e,i){this.cdr=t;this.modalService=e;this.screenService=i;s(this,"items");s(this,"itemTemplate");s(this,"modal");s(this,"parent");s(this,"itemsRendered");s(this,"showItemsUntilIndexExcluded");s(this,"active",!1);s(this,"isInMobileView",!1);s(this,"openedOnHover",!1);}ngAfterViewInit(){setTimeout(()=>this.onWindowResize(),0);}isMenuDisplayed(){return!!this.showItemsUntilIndexExcluded;}onWindowResize(){this.isInMobileView=!!this.screenService.isInMobileView();let t=this.parent.nativeElement.getBoundingClientRect().width,e,i=0;ee("Parent width is %d",t);for(let[o,d]of this.itemsRendered.toArray().entries()){i+=d.nativeElement.getBoundingClientRect().width,e===void 0&&(e=t<i?o:void 0);let oe=document.getElementById(this.getId(o)),re=e?o<e:!0;oe.style.visibility=re?"inherit":"hidden";}ee("Accumulated children width is %d so exclude index is %d",i,e),this.showItemsUntilIndexExcluded=e,this.cdr.markForCheck();}openDropdownOnHover(t){this.openedOnHover=!0,t.open(),t.openChange.pipe(L(1)).subscribe(()=>this.openedOnHover=!1);}dropdownAnchorClicked(t){if(this.openedOnHover){this.openedOnHover=!1;return;}return t.toggle();}closeDropdownIfHovered(t){this.openedOnHover!==!1&&(t.close(),this.openedOnHover=!1);}toggleModal(){this.modalService.open(this.modal,{centered:!0});}dismissOtherModals(){this.modalService.dismissAll();}getId(t=Y()){return J(this.constructor.name)+"_"+t;}};s(g,"\u0275fac",function(e){return new(e||g)(w($),w(j),w(Z));}),s(g,"\u0275cmp",O({type:g,selectors:[["my-list-overflow"]],viewQuery:function(e,i){if(e&1&&(E(de,7),E(me,7),E(_e,5)),e&2){let o;M(o=y())&&(i.modal=o.first),M(o=y())&&(i.parent=o.first),M(o=y())&&(i.itemsRendered=o);}},hostBindings:function(e,i){e&1&&f("resize",function(){return i.onWindowResize();},!1,P);},inputs:{items:"items",itemTemplate:"itemTemplate"},standalone:!0,features:[A],decls:6,vars:2,consts:[["itemsParent",""],["modal",""],["itemsRendered",""],["dropdown","ngbDropdown"],[1,"list-overflow-parent"],[3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","btn btn-outline-secondary btn-sm list-overflow-menu",3,"click",4,"ngIf"],["class","list-overflow-menu","ngbDropdown","","container","body",3,"mouseleave","mouseenter",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","list-overflow-menu",3,"click"],[1,"chevron-down"],["ngbDropdown","","container","body",1,"list-overflow-menu",3,"mouseleave","mouseenter"],["ngbDropdownAnchor","","role","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","ngClass"],["ngbDropdownMenu",""],["routerLinkActive","active","class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"],[1,"modal-body"],["routerLinkActive","active",3,"routerLink","click",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"click","routerLink"]],template:function(e,i){e&1&&(l(0,"div",4,0),_(2,ge,3,5,"span",5)(3,we,3,2,"ng-container",6),c(),_(4,Ee,3,5,"ng-template",null,1,V)),e&2&&(a(2),r("ngForOf",i.items),a(),r("ngIf",i.isMenuDisplayed()));},dependencies:[G,U,T,q,W,F,X,K,Q,z],styles:["[_nghost-%COMP%]{width:100%}.list-overflow-parent[_ngcontent-%COMP%]{overflow:hidden;display:flex;max-width:calc(100vw - 30px)}.list-overflow-menu[_ngcontent-%COMP%]{position:absolute;right:25px}button[_ngcontent-%COMP%]{width:30px;border:0}button[_ngcontent-%COMP%]:after{display:none}button.route-active[_ngcontent-%COMP%]:after{display:inherit;border:2px solid var(--mainColor);position:relative;right:95%;top:50%}  .dropdown-menu{margin-top:0!important;position:static;right:auto;bottom:auto}.modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;box-sizing:border-box;display:block;font-size:1.2rem;padding:9px 12px;text-align:initial;text-transform:unset;width:100%}.modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important}.modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.modal-body[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--mainBackgroundColor)!important;background-color:var(--mainHoverColor);opacity:.9}"],changeDetection:0}));var te=g;function Me(n,t){n&1&&(l(0,"span",5),v(1,0),c());}function ye(n,t){n&1&&(l(0,"span",5),v(1,1),c());}function Se(n,t){n&1&&(l(0,"span",5),v(1,2),c());}function Ae(n,t){n&1&&(l(0,"span",5),v(1,3),c());}var C=class C{constructor(){s(this,"account");}};s(C,"\u0275fac",function(e){return new(e||C)();}),s(C,"\u0275cmp",O({type:C,selectors:[["my-account-block-badges"]],inputs:{account:"account"},standalone:!0,features:[A],decls:4,vars:4,consts:()=>{let t;t="Acalado";let e;e="Instancia acalada";let i;i="Acalado pola t\xFAa instancia";let o;return o="Instancia acalada pola t\xFAa instancia",[t,e,i,o,["class","pt-badge badge-danger",4,"ngIf"],[1,"pt-badge","badge-danger"]];},template:function(e,i){e&1&&_(0,Me,2,0,"span",4)(1,ye,2,0,"span",4)(2,Se,2,0,"span",4)(3,Ae,2,0,"span",4),e&2&&(r("ngIf",i.account.mutedByUser),a(),r("ngIf",i.account.mutedServerByUser),a(),r("ngIf",i.account.mutedByInstance),a(),r("ngIf",i.account.mutedServerByInstance));},dependencies:[T],styles:[".pt-badge[_ngcontent-%COMP%]{font-size:12px;margin-inline-end:.625rem}"]}));var ie=C;export{te as a,ie as b};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/