import{a as de,b as _e}from"./chunk-7UTENZ7G.js";import{a as le}from"./chunk-FLZZWV3F.js";import{a as re,c as ce}from"./chunk-P22RIXDF.js";import"./chunk-AV5N3MGJ.js";import{a as ae}from"./chunk-OOKZXLTV.js";import{b as on}from"./chunk-QMXGW4KM.js";import{a as se}from"./chunk-6HYTQZ43.js";import{a as ee,o as ie}from"./chunk-RXO3LGSG.js";import"./chunk-PZG7XDNU.js";import"./chunk-CF2PRKCK.js";import{b as oe}from"./chunk-F4NNW7U6.js";import"./chunk-AJTAIDL7.js";import{e as ne,f as te,g as tn}from"./chunk-FDM4WNGU.js";import"./chunk-24QQSIIJ.js";import"./chunk-FCT3LKDI.js";import"./chunk-K67EGD4G.js";import"./chunk-UOVZQ5E7.js";import"./chunk-NAT3JZF7.js";import{a as Zn}from"./chunk-SPKU4WOP.js";import"./chunk-JPIRBOZL.js";import"./chunk-EBTUWTIZ.js";import"./chunk-YFOGWDCQ.js";import"./chunk-3VYEMMNL.js";import"./chunk-XLVZGSUB.js";import"./chunk-RVLWM6RI.js";import"./chunk-73DTZG4O.js";import"./chunk-CVTLOUPO.js";import"./chunk-CNM6TRJ3.js";import"./chunk-X6JWC5WV.js";import{c as $}from"./chunk-GP5LX4CA.js";import"./chunk-4V7EB4W6.js";import"./chunk-KG4UYECH.js";import{a as Yn}from"./chunk-NO6VG5DO.js";import"./chunk-UDQ7P63C.js";import"./chunk-6C7DPHTS.js";import"./chunk-7HXKHM3O.js";import"./chunk-4XL6BJ7M.js";import{a as nn}from"./chunk-GOWSOB6U.js";import{a as D,b as en}from"./chunk-RBCGTDIC.js";import"./chunk-DPQ4XGHN.js";import{B as Gn}from"./chunk-XEFO2OX5.js";import{a as Kn}from"./chunk-WRZZAQTV.js";import"./chunk-5CNYD3QV.js";import"./chunk-RZGVOE4L.js";import{c as Dn,f as $n,k as Fn,z as Hn}from"./chunk-AHXSH3AS.js";import{Ab as dn,B as Mn,Bb as q,Ca as a,D as Pn,Da as d,Eb as Nn,Fb as wn,Gb as bn,H as vn,Ib as N,Kb as X,Oa as p,R as G,Sa as r,Sb as Tn,T as Q,Tb as xn,Vf as jn,Wb as En,Xf as K,Zc as Vn,_c as Rn,_f as Bn,ab as l,ad as Un,ba as A,bb as s,bd as J,c as hn,cb as C,cd as kn,db as Sn,eb as fn,fg as Qn,gb as E,gg as Wn,hg as qn,i as On,ig as Jn,kb as u,la as O,lb as y,m as B,ma as M,mb as I,nb as L,nd as _n,ob as v,pb as _,pc as yn,pf as Xn,qc as In,qg as Y,rc as w,sa as ln,ug as Z,vb as V,wb as R,xb as U,xd as zn,ya as W,yb as An,yc as Ln,zb as k}from"./chunk-4A7FW7VV.js";import"./chunk-BERSDMCF.js";import"./chunk-ONF7AOBQ.js";import{a as pn,b as un,i as mn,j as o,k as j}from"./chunk-K6ICEIKK.js";var me=i=>[i];function he(i,t){i&1&&(l(0,"div",12),u(1,1),s());}function Oe(i,t){if(i&1&&(l(0,"span",29),u(1,4),s()),i&2){let n=_().$implicit,e=_();a(),y(e.getTotalVideosOf(n))(e.getTotalVideosOf(n)),I(1);}}function Me(i,t){i&1&&(l(0,"div",30),u(1,5),s());}function Pe(i,t){if(i&1&&C(0,"my-video-miniature",31),i&2){let n=t.$implicit,e=_(2);r("video",n)("user",e.userMiniature)("displayVideoActions",!0)("displayOptions",e.miniatureDisplayOptions);}}function ve(i,t){if(i&1&&(l(0,"div",32)(1,"a",33),u(2,6),s()()),i&2){let n=_().$implicit,e=_();a(),r("routerLink",e.getVideoChannelLink(n));}}function Se(i,t){if(i&1&&(l(0,"div",13)(1,"div",14),C(2,"my-actor-avatar",15),l(3,"h2",16)(4,"a",17),k(5),s()(),l(6,"div",18)(7,"div",19),u(8,2),s(),p(9,Oe,2,2,"span",20),s(),C(10,"div",21),s(),C(11,"my-subscribe-button",22),l(12,"a",23),u(13,3),s(),l(14,"div",24)(15,"div",25),p(16,Me,2,0,"div",26)(17,Pe,1,4,"my-video-miniature",27)(18,ve,3,1,"div",28),s()()()),i&2){let n=t.$implicit,e=_();a(2),r("actor",n)("internalHref",e.getVideoChannelLink(n)),a(2),r("routerLink",e.getVideoChannelLink(n)),a(),q(" ",n.displayName," "),a(3),y(n.followersCount)(n.followersCount),I(8),a(),r("ngIf",e.getTotalVideosOf(n)!==void 0),a(),r("innerHTML",e.getChannelDescription(n),W),a(),r("videoChannels",X(13,me,n)),a(),r("routerLink",e.getVideoChannelLink(n)),a(4),r("ngIf",e.getTotalVideosOf(n)===0),a(),r("ngForOf",e.getVideosOf(n)),a(),r("ngIf",e.getTotalVideosOf(n));}}var b=class b{constructor(t,n,e,c,g){this.accountService=t;this.videoChannelService=n;this.videoService=e;this.markdown=c;this.userService=g;o(this,"account");o(this,"videoChannels",[]);o(this,"videos",{});o(this,"channelsDescriptionHTML",{});o(this,"channelPagination",{currentPage:1,itemsPerPage:2,totalItems:null});o(this,"videosPagination",{currentPage:1,itemsPerPage:5,totalItems:null});o(this,"videosSort","-publishedAt");o(this,"onChannelDataSubject",new hn());o(this,"userMiniature");o(this,"nsfwPolicy");o(this,"miniatureDisplayOptions",{date:!0,views:!0,by:!1,avatar:!1,privacyLabel:!1,privacyText:!1,state:!1,blacklistInfo:!1});o(this,"accountSub");}ngOnInit(){this.accountSub=this.accountService.accountLoaded.subscribe(t=>{this.account=t,this.videoChannels=[],this.loadMoreChannels();}),this.userService.getAnonymousOrLoggedUser().subscribe(t=>{this.userMiniature=t,this.nsfwPolicy=t.nsfwPolicy;});}ngOnDestroy(){this.accountSub&&this.accountSub.unsubscribe();}loadMoreChannels(){let t={account:this.account,componentPagination:this.channelPagination,sort:"-updatedAt"};this.videoChannelService.listAccountVideoChannels(t).pipe(Q(n=>{this.channelPagination.totalItems=n.total;}),G(n=>On(n.data)),Pn(n=>{let e={videoChannel:n,videoPagination:this.videosPagination,sort:this.videosSort,nsfw:this.videoService.nsfwPolicyToParam(this.nsfwPolicy)};return this.videoService.getVideoChannelVideos(e).pipe(B(c=>({videoChannel:n,videos:c.data,total:c.total})));})).subscribe(g=>j(this,[g],function*({videoChannel:n,videos:e,total:c}){this.channelsDescriptionHTML[n.id]=yield this.markdown.textMarkdownToHTML({markdown:n.description,withEmoji:!0,withHtml:!0}),this.videoChannels.push(n),this.videos[n.id]={videos:e,total:c},this.onChannelDataSubject.next([n]);}));}getVideosOf(t){let n=this.videos[t.id];return n?n.videos:[];}getTotalVideosOf(t){let n=this.videos[t.id];if(n)return n.total;}getChannelDescription(t){return this.channelsDescriptionHTML[t.id];}onNearOfBottom(){Jn(this.channelPagination)&&(this.channelPagination.currentPage+=1,this.loadMoreChannels());}getVideoChannelLink(t){return["/c",t.nameWithHost];}};o(b,"\u0275fac",function(n){return new(n||b)(d(D),d(en),d($),d(Y),d(Z));}),o(b,"\u0275cmp",A({type:b,selectors:[["my-account-video-channels"]],standalone:!0,features:[N],decls:6,vars:3,consts:()=>{let t;t="\u0412\u0438\u0434\u0435\u043E \u043A\u0430\u043D\u0430\u043B\u044B";let n;n="\u042D\u0442\u0430 \u0443\u0447\u0435\u0442\u043D\u0430\u044F \u0437\u0430\u043F\u0438\u0441\u044C \u043D\u0435 \u0438\u043C\u0435\u0435\u0442 \u043A\u0430\u043D\u0430\u043B\u043E\u0432.";let e;e="\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u044D\u0442\u043E\u0442 \u0432\u0438\u0434\u0435\u043E\u043A\u0430\u043D\u0430\u043B";let c;c="\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u044D\u0442\u043E\u0442 \u0432\u0438\u0434\u0435\u043E\u043A\u0430\u043D\u0430\u043B";let g;g="{VAR_PLURAL, plural, =0 {\u041D\u0435\u0442 \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u043E\u0432} one {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A} few {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u0430} other {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u043E\u0432}}",g=L(g,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let h;h="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u044D\u0442\u043E\u0442 \u043A\u0430\u043D\u0430\u043B";let S;S="{VAR_PLURAL, plural, =0 {\u041D\u0435\u0442 \u0432\u0438\u0434\u0435\u043E} other {{INTERPOLATION} \u0432\u0438\u0434\u0435\u043E}}",S=L(S,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let f;f=""+S+" ";let T;T="\u041D\u0430 \u044D\u0442\u043E\u043C \u043A\u0430\u043D\u0430\u043B\u0435 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u0432\u0438\u0434\u0435\u043E.";let x;return x="\u041F\u041E\u041A\u0410\u0417\u0410\u0422\u042C \u042D\u0422\u041E\u0422 \u041A\u0410\u041D\u0410\u041B >",[t,n,g,h,f,T,x,[1,"visually-hidden"],[1,"margin-content"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"channels",3,"nearOfBottom","dataObservable"],["class","channel",4,"ngFor","ngForOf"],[1,"no-results"],[1,"channel"],[1,"channel-avatar-row"],["actorType","channel","title",e,"size","75",3,"actor","internalHref"],[1,"fs-5","lh-1","fw-bold","m-0"],["title",c,3,"routerLink"],[1,"actor-counters"],[1,"followers"],["class","videos-count",4,"ngIf"],[1,"description-html",3,"innerHTML"],[3,"videoChannels"],[1,"button-show-channel","peertube-button-link","orange-button-inverted",3,"routerLink"],[1,"videos-overflow-workaround"],[1,"videos"],["class","no-results h-auto",4,"ngIf"],[3,"video","user","displayVideoActions","displayOptions",4,"ngFor","ngForOf"],["class","miniature-show-channel",4,"ngIf"],[1,"videos-count"],[1,"no-results","h-auto"],[3,"video","user","displayVideoActions","displayOptions"],[1,"miniature-show-channel"],[3,"routerLink"]];},template:function(n,e){n&1&&(l(0,"h1",7),u(1,0),s(),l(2,"div",8),p(3,he,2,0,"div",9),l(4,"div",10),v("nearOfBottom",function(){return e.onNearOfBottom();}),p(5,Se,19,15,"div",11),s()()),n&2&&(a(3),r("ngIf",e.channelPagination.totalItems===0),a(),r("dataObservable",e.onChannelDataSubject.asObservable()),a(),r("ngForOf",e.videoChannels));},dependencies:[w,Zn,In,nn,J,on,ie],styles:['@charset "UTF-8";.margin-content[_ngcontent-%COMP%]{--gridVideosMiniatureMargins: var(--videosHorizontalMarginContent);margin-inline-start:var(--gridVideosMiniatureMargins)!important;margin-inline-end:var(--gridVideosMiniatureMargins)!important}@media screen and (max-width: 500px){.margin-content[_ngcontent-%COMP%]{--gridVideosMiniatureMargins: 0;width:auto}}.channel[_ngcontent-%COMP%]{max-width:1200px;background-color:var(--channelBackgroundColor);display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto;column-gap:15px;padding-inline-start:calc(1.3rem + .6vw);padding-inline-end:calc(1.3rem + .6vw);padding-top:calc(1.3rem + .6vw);padding-bottom:calc(1.3rem + .6vw);margin-inline-start:0;margin-inline-end:0;margin-top:calc(1.325rem + .9vw);margin-bottom:calc(1.325rem + .9vw)}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{padding-inline-start:1.75rem}}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{padding-inline-end:1.75rem}}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{padding-top:1.75rem}}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{padding-bottom:1.75rem}}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{margin-top:2rem}}@media (min-width: 1200px){.channel[_ngcontent-%COMP%]{margin-bottom:2rem}}.channel-avatar-row[_ngcontent-%COMP%]{grid-column:1;grid-row:1;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto 1fr}.channel-avatar-row[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{grid-column:1;grid-row:1/3;margin-inline-end:.9375rem}.channel-avatar-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor);word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.channel-avatar-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{grid-row:1;grid-column:2}.channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%]{grid-row:1;grid-column:3;margin-inline-start:.9375rem;color:var(--greyForegroundColor);display:flex;align-items:center}.channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin:0 10px;color:var(--mainColor)}.channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%]{grid-column:2/4;grid-row:2;max-height:80px;position:relative;overflow:hidden}.channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%]:after{content:"";pointer-events:none;width:100%;height:100%;position:absolute;left:0;top:0;background:linear-gradient(transparent 50px,var(--channelBackgroundColor))}my-subscribe-button[_ngcontent-%COMP%]{grid-row:1;grid-column:2}.videos[_ngcontent-%COMP%]{display:flex;grid-column:1/3;grid-row:2;position:relative}.videos[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{min-width:201px;max-width:201px;margin-inline-end:.9375rem}.videos-overflow-workaround[_ngcontent-%COMP%]{overflow-x:hidden;margin-top:calc(1.325rem + .9vw)}@media (min-width: 1200px){.videos-overflow-workaround[_ngcontent-%COMP%]{margin-top:2rem}}.miniature-show-channel[_ngcontent-%COMP%]{height:100%;position:absolute;right:0;background:linear-gradient(90deg,transparent 0,var(--channelBackgroundColor) 45px);padding:47px 15px 0 60px;z-index:11}.miniature-show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor);font-weight:600}.button-show-channel[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]{grid-template-columns:auto auto auto 1fr}.main-col:not(.expanded)[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .avatar-link[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .avatar-link[_ngcontent-%COMP%]{grid-row:1/4}.main-col:not(.expanded)[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%]{margin:0;font-size:13px;grid-row:2;grid-column:2/4}.main-col:not(.expanded)[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%]{grid-row:3;font-size:14px}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;border:0;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px;padding:2px 13px;border:2px solid var(--mainColor);font-weight:600}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible), .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:var(--mainColor);background-color:var(--mainBackgroundColor)}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainColor);background-color:var(--mainColorLightest)}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default;color:var(--mainColor);background-color:var(--inputBorderColor)}.main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .main-col:not(.expanded)[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, .main-col:not(.expanded)   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--mainColor)}.main-col:not(.expanded)[_nghost-%COMP%]   .videos[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .videos[_ngcontent-%COMP%]{display:none}.main-col:not(.expanded)[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%]{grid-column:1/4;grid-row:3;margin-top:15px}.main-col:not(.expanded)[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{justify-self:start}.main-col:not(.expanded)[_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%]{display:block;justify-self:end}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]{grid-template-columns:auto auto auto 1fr}.main-col.expanded[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .avatar-link[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .avatar-link[_ngcontent-%COMP%]{grid-row:1/4}.main-col.expanded[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%]{margin:0;font-size:13px;grid-row:2;grid-column:2/4}.main-col.expanded[_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .channel-avatar-row[_ngcontent-%COMP%]   .description-html[_ngcontent-%COMP%]{grid-row:3;font-size:14px}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;border:0;border-radius:3px!important;text-align:center;cursor:pointer;font-size:15px;line-height:23px;padding:2px 13px;border:2px solid var(--mainColor);font-weight:600}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible), .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-inline-end:.25rem;margin-inline-start:.25rem}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:var(--mainColor);background-color:var(--mainBackgroundColor)}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--mainColor);background-color:var(--mainColorLightest)}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default;color:var(--mainColor);background-color:var(--inputBorderColor)}.main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .main-col.expanded[_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, .main-col.expanded   [_nghost-%COMP%]   .show-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--mainColor)}.main-col.expanded[_nghost-%COMP%]   .videos[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .videos[_ngcontent-%COMP%]{display:none}.main-col.expanded[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col.expanded[_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%]{grid-column:1/4;grid-row:3;margin-top:15px}.main-col.expanded[_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   my-subscribe-button[_ngcontent-%COMP%]{justify-self:start}.main-col.expanded[_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .button-show-channel[_ngcontent-%COMP%]{display:block;justify-self:end}}']})),mn([Xn()],b.prototype,"getVideoChannelLink",1);var an=b;var fe=["videosList"];function Ae(i,t){if(i&1&&C(0,"my-videos-list",2,0),i&2){let n=_();r("title",n.title)("getVideosObservableFunction",n.getVideosObservableFunction)("getSyndicationItemsFunction",n.getSyndicationItemsFunction)("defaultSort",n.defaultSort)("displayAsRow",n.displayAsRow())("disabled",n.disabled);}}var F=class F{constructor(t,n,e){this.screenService=t;this.accountService=n;this.videoService=e;o(this,"videosList");o(this,"getVideosObservableFunction",this.getVideosObservable.bind(this));o(this,"getSyndicationItemsFunction",this.getSyndicationItems.bind(this));o(this,"title","\u0412\u0438\u0434\u0435\u043E");o(this,"defaultSort","-publishedAt");o(this,"account");o(this,"disabled",!1);o(this,"alreadyLoaded",!1);o(this,"accountSub");}ngOnInit(){this.accountSub=this.accountService.accountLoaded.subscribe(t=>{this.account=t,this.alreadyLoaded&&this.videosList.reloadVideos(),this.alreadyLoaded=!0;});}ngOnDestroy(){this.accountSub&&this.accountSub.unsubscribe();}getVideosObservable(t,n){let e=un(pn({},n.toVideosAPIObject()),{videoPagination:t,account:this.account,skipCount:!0});return this.videoService.getAccountVideos(e);}getSyndicationItems(){return this.videoService.getAccountFeedUrls(this.account.id);}displayAsRow(){return this.screenService.isInMobileView();}disableForReuse(){this.disabled=!0;}enabledForReuse(){this.disabled=!1;}};o(F,"\u0275fac",function(n){return new(n||F)(d(K),d(D),d($));}),o(F,"\u0275cmp",A({type:F,selectors:[["my-account-videos"]],viewQuery:function(n,e){if(n&1&&V(fe,5),n&2){let c;R(c=U())&&(e.videosList=c.first);}},standalone:!0,features:[N],decls:1,vars:1,consts:[["videosList",""],["displayTitle","false","displayFilters","true","displayModerationBlock","true","hideScopeFilter","true","loadUserVideoPreferences","true","highlightLives","true",3,"title","getVideosObservableFunction","getSyndicationItemsFunction","defaultSort","displayAsRow","disabled",4,"ngIf"],["displayTitle","false","displayFilters","true","displayModerationBlock","true","hideScopeFilter","true","loadUserVideoPreferences","true","highlightLives","true",3,"title","getVideosObservableFunction","getSyndicationItemsFunction","defaultSort","displayAsRow","disabled"]],template:function(n,e){n&1&&p(0,Ae,2,6,"my-videos-list",1),n&2&&r("ngIf",e.account);},dependencies:[w,le],encapsulation:2}));var rn=F;var Ne=["ref"];function we(i,t){if(i&1){let n=E();l(0,"button",9),v("click",function(){O(n);let c=_();return M(c.hideInput());}),C(1,"my-global-icon",5),s();}}var H=class H{constructor(){o(this,"input");o(this,"name","search");o(this,"placeholder","\u041F\u043E\u0438\u0441\u043A");o(this,"iconTitle","\u041F\u043E\u0438\u0441\u043A");o(this,"alwaysShow",!0);o(this,"searchChanged",new ln());o(this,"inputDisplayChanged",new ln());o(this,"value","");o(this,"lastSearch","");o(this,"inputShown");}ngOnInit(){this.isInputShown()&&this.showInput(!1);}isInputShown(){return this.alwaysShow?!0:this.inputShown;}onIconClick(){if(!this.isInputShown()){this.showInput();return;}this.sendSearch();}showInput(t=!0){this.inputShown=!0,this.inputDisplayChanged.emit(this.inputShown),t&&setTimeout(()=>this.input.nativeElement.focus());}hideInput(){this.inputShown=!1,this.isInputShown()===!1&&this.inputDisplayChanged.emit(this.inputShown);}focusLost(){this.value||this.hideInput();}sendSearch(){this.lastSearch!==this.value&&(this.lastSearch=this.value,this.searchChanged.emit(this.value));}onResetFilter(){this.value="",this.input.nativeElement.focus(),this.sendSearch();}};o(H,"\u0275fac",function(n){return new(n||H)();}),o(H,"\u0275cmp",A({type:H,selectors:[["my-simple-search-input"]],viewQuery:function(n,e){if(n&1&&V(Ne,5),n&2){let c;R(c=U())&&(e.input=c.first);}},inputs:{name:"name",placeholder:"placeholder",iconTitle:"iconTitle",alwaysShow:"alwaysShow"},outputs:{searchChanged:"searchChanged",inputDisplayChanged:"inputDisplayChanged"},standalone:!0,features:[N],decls:9,vars:6,consts:()=>{let t;t="\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440";let n;return n="\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043F\u043E\u0438\u0441\u043A",[["ref",""],[1,"root"],[1,"input-group","has-clear",3,"hidden"],["type","text",1,"last-in-group",3,"ngModelChange","keyup.enter","ngModel","name","placeholder"],["title",t,1,"border-0","p-0","form-control-clear",3,"click"],["iconName","cross"],[1,"border-0","p-0","search-button",3,"click","title"],["iconName","search"],["class","border-0 p-0 close-search-button","title",n,3,"click",4,"ngIf"],["title",n,1,"border-0","p-0","close-search-button",3,"click"]];},template:function(n,e){if(n&1){let c=E();l(0,"div",1)(1,"div",2)(2,"input",3,0),bn("ngModelChange",function(h){return O(c),wn(e.value,h)||(e.value=h),M(h);}),v("keyup.enter",function(){return O(c),M(e.sendSearch());}),s(),l(4,"button",4),v("click",function(){return O(c),M(e.onResetFilter());}),C(5,"my-global-icon",5),s()(),l(6,"button",6),v("click",function(){return O(c),M(e.onIconClick());}),C(7,"my-global-icon",7),s(),p(8,we,2,0,"button",8),s();}n&2&&(a(),r("hidden",!e.inputShown),a(),Nn("ngModel",e.value),r("name",e.name)("placeholder",e.placeholder),a(4),r("title",e.iconTitle),a(2),r("ngIf",!e.alwaysShow&&e.inputShown));},dependencies:[Hn,Dn,$n,Fn,Kn,w],styles:[".root[_ngcontent-%COMP%]{display:flex}.search-button[_ngcontent-%COMP%], .close-search-button[_ngcontent-%COMP%]{margin-inline-start:.625rem}.search-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .close-search-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{height:28px;width:28px;color:var(--mainColor)}.search-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:hover, .close-search-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:hover{color:var(--mainHoverColor)}input[_ngcontent-%COMP%]{font-size:15px;padding:3px 15px;width:200px;max-width:200px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid var(--inputBorderColor);border-radius:3px;line-height:23px}input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: 240px){input[_ngcontent-%COMP%]{width:100%}}input[_ngcontent-%COMP%]:focus{box-shadow:0 0 5px #a5a5a5}.form-control-clear[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]}));var cn=H;var be=["accountReportModal"],Te=i=>({expanded:i}),xe=i=>({"on-channel-page":i});function Ee(i,t){if(i&1&&(l(0,"span",34),u(1,4),s()),i&2){let n=_(2);r("ngbTooltip",n.accountUser.blockedReason);}}function ye(i,t){if(i&1&&(l(0,"span",35),u(1,5),s()),i&2){let n=_(2);a(),y(n.accountVideosCount)(n.accountVideosCount),I(1);}}function Ie(i,t){if(i&1){let n=E();l(0,"button",36),v("click",function(){O(n);let c=_(2);return M(c.accountDescriptionExpanded=!c.accountDescriptionExpanded);}),u(1,6),s();}}function Le(i,t){i&1&&(l(0,"a",37),u(1,7),s());}function Ve(i,t){if(i&1&&C(0,"my-subscribe-button",38),i&2){let n=_(2);r("account",n.account)("videoChannels",n.videoChannels);}}function Re(i,t){if(i&1&&(l(0,"a",39),k(1),s()),i&2){let n=t.item;r("routerLink",n.routerLink),a(),dn(n.label);}}function Ue(i,t){if(i&1){let n=E();l(0,"div",10)(1,"div",11)(2,"div",12),C(3,"my-actor-avatar",13),l(4,"div")(5,"div",14),u(6,2),s(),l(7,"div",15)(8,"div")(9,"div",16)(10,"h1",17),Tn(11,"date"),k(12),s(),l(13,"my-user-moderation-dropdown",18),v("userChanged",function(){O(n);let c=_();return M(c.onUserChanged());})("userDeleted",function(){O(n);let c=_();return M(c.onUserDeleted());}),s(),p(14,Ee,2,1,"span",19),C(15,"my-account-block-badges",20),s(),l(16,"div",21)(17,"span"),k(18),s(),C(19,"my-copy-button",22),s(),l(20,"div",23)(21,"span"),u(22,3),s(),p(23,ye,2,2,"span",24),s()()()()(),l(24,"div",25),C(25,"div",26),s(),p(26,Ie,2,0,"button",27),l(27,"div",28),p(28,Le,2,0,"a",29)(29,Ve,1,2,"my-subscribe-button",30),s()(),l(30,"div",31),p(31,Re,2,2,"ng-template",null,0,En),C(33,"my-list-overflow",32),l(34,"my-simple-search-input",33),v("searchChanged",function(c){O(n);let g=_();return M(g.searchChanged(c));})("inputDisplayChanged",function(c){O(n);let g=_();return M(g.onSearchInputDisplayChanged(c));}),s()(),C(35,"router-outlet"),s();}if(i&2){let n=An(32),e=_();a(3),r("size",e.getAccountAvatarSize())("actor",e.account),a(7),r("title","Created on "+xn(11,24,e.account.createdAt)),a(2),dn(e.account.displayName),a(),r("prependActions",e.prependModerationActions)("account",e.account)("user",e.accountUser),a(),r("ngIf",e.accountUser==null?null:e.accountUser.blocked),a(),r("account",e.account),a(3),q("@",e.account.nameWithHost,""),a(),r("value",e.account.nameWithHostForced),a(3),y(e.naiveAggregatedSubscribers())(e.naiveAggregatedSubscribers()),I(22),a(),r("ngIf",e.accountVideosCount!==void 0),a(),r("ngClass",X(26,Te,e.accountDescriptionExpanded)),a(),r("innerHTML",e.accountDescriptionHTML,W),a(),r("ngIf",e.hasShowMoreDescription()),a(2),r("ngIf",e.isManageable()),a(),r("ngIf",e.hasVideoChannels()&&!e.isManageable()),a(),r("ngClass",X(28,xe,e.isOnChannelPage())),a(3),r("hidden",e.hideMenu)("items",e.links)("itemTemplate",n),a(),r("alwaysShow",!e.isInSmallView());}}function ke(i,t){i&1&&(Sn(0),C(1,"my-account-report",null,1),fn());}var z=class z{constructor(t,n,e,c,g,h,S,f,T,x,m,P,De,$e){this.route=t;this.router=n;this.userService=e;this.accountService=c;this.videoChannelService=g;this.notifier=h;this.restExtractor=S;this.redirectService=f;this.authService=T;this.videoService=x;this.markdown=m;this.blocklist=P;this.screenService=De;this.metaService=$e;o(this,"accountReportModal");o(this,"account");o(this,"accountUser");o(this,"videoChannels",[]);o(this,"links",[]);o(this,"hideMenu",!1);o(this,"accountVideosCount");o(this,"accountDescriptionHTML","");o(this,"accountDescriptionExpanded",!1);o(this,"prependModerationActions",[]);o(this,"routeSub");}ngOnInit(){this.routeSub=this.route.params.pipe(B(t=>t.accountId),vn(),G(t=>this.accountService.getAccount(t)),Q(t=>this.onAccount(t)),G(t=>this.videoChannelService.listAccountVideoChannels({account:t})),Mn(t=>this.restExtractor.redirectTo404IfNotFound(t,"other",[_n.BAD_REQUEST_400,_n.NOT_FOUND_404]))).subscribe({next:t=>{this.videoChannels=t.data;},error:t=>this.notifier.error(t.message)}),this.links=[{label:"\u041A\u0410\u041D\u0410\u041B\u042B",routerLink:"video-channels"},{label:"\u0412\u0418\u0414\u0415\u041E",routerLink:"videos"}];}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe();}naiveAggregatedSubscribers(){return this.videoChannels.reduce((t,n)=>t+n.followersCount,this.account.followersCount);}isUserLoggedIn(){return this.authService.isLoggedIn();}isInSmallView(){return this.screenService.isInSmallView();}getAccountAvatarSize(){return this.isInSmallView()?80:120;}isManageable(){var t;return this.isUserLoggedIn()?((t=this.account)==null?void 0:t.userId)===this.authService.getUser().id:!1;}onUserChanged(){this.loadUserIfNeeded(this.account);}onUserDeleted(){this.redirectService.redirectToHomepage();}searchChanged(t){let n={search:t};this.router.navigate(["./videos"],{queryParams:n,relativeTo:this.route,queryParamsHandling:"merge"});}onSearchInputDisplayChanged(t){this.hideMenu=this.isInSmallView()&&t;}hasVideoChannels(){return this.videoChannels.length!==0;}hasShowMoreDescription(){return!this.accountDescriptionExpanded&&this.accountDescriptionHTML.length>100;}isOnChannelPage(){return this.route.children[0].snapshot.url[0].path==="video-channels";}onAccount(t){return j(this,null,function*(){this.metaService.setTitle(t.displayName),this.accountDescriptionHTML=yield this.markdown.textMarkdownToHTML({markdown:t.description,withEmoji:!0,withHtml:!0}),this.account=t,this.updateModerationActions(),this.loadUserIfNeeded(t),this.loadAccountVideosCount(),this.loadAccountBlockStatus();});}showReportModal(){this.accountReportModal.show(this.account);}loadUserIfNeeded(t){if(!t.userId||!this.authService.isLoggedIn())return;this.authService.getUser().hasRight(zn.MANAGE_USERS)&&this.userService.getUser(t.userId).subscribe({next:e=>{this.accountUser=e;},error:e=>this.notifier.error(e.message)});}updateModerationActions(){this.prependModerationActions=[],this.authService.isLoggedIn()&&(this.isManageable()||(this.prependModerationActions=[{label:"\u041F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C\u0441\u044F",isHeader:!0},{label:"\u041F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \u044D\u0442\u043E\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442",handler:()=>this.showReportModal()}]));}loadAccountVideosCount(){this.videoService.getAccountVideos({account:this.account,videoPagination:{currentPage:1,itemsPerPage:0},sort:"-publishedAt"}).subscribe(t=>{this.accountVideosCount=t.total;});}loadAccountBlockStatus(){this.blocklist.getStatus({accounts:[this.account.nameWithHostForced],hosts:[this.account.host]}).subscribe(t=>this.account.updateBlockStatus(t));}};o(z,"\u0275fac",function(n){return new(n||z)(d(Vn),d(Un),d(Z),d(D),d(en),d(Qn),d(Wn),d(jn),d(qn),d($),d(Y),d(tn),d(K),d(Bn));}),o(z,"\u0275cmp",A({type:z,selectors:[["ng-component"]],viewQuery:function(n,e){if(n&1&&V(be,5),n&2){let c;R(c=U())&&(e.accountReportModal=c.first);}},standalone:!0,features:[N],decls:2,vars:2,consts:()=>{let t;t="\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043E";let n;n="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0434\u0435\u0441\u043A\u0440\u0438\u043F\u0442\u043E\u0440 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430";let e;e="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u043B\u043D\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435";let c;c="\u0418\u0441\u043A\u0430\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0435";let g;g="\u0423\u0427\u0415\u0422\u041D\u0410\u042F \u0417\u0410\u041F\u0418\u0421\u042C";let h;h="{VAR_PLURAL, plural, =0 {\u041D\u0435\u0442 \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u043E\u0432} one {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A} few {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u0430} other {{INTERPOLATION} \u043F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u043E\u0432}}",h=L(h,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let S;S="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D";let f;f="{VAR_PLURAL, plural, =0 {\u041D\u0435\u0442 \u0432\u0438\u0434\u0435\u043E} other {{INTERPOLATION} \u0432\u0438\u0434\u0435\u043E}}",f=L(f,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let T;T=""+f+" ";let x;x="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435...";let m;return m="\u0423\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u043E\u043C",[["linkTemplate",""],["accountReportModal",""],g,h,S,T,x,m,["class","root",4,"ngIf"],[4,"ngIf"],[1,"root"],[1,"account-info","d-md-grid","d-block"],[1,"account-avatar-row"],["actorType","account",3,"size","actor"],[1,"section-label"],[1,"actor-info"],[1,"actor-display-name","align-items-center"],[3,"title"],["buttonSize","small","placement","bottom-left auto",1,"mx-3",3,"userChanged","userDeleted","prependActions","account","user"],["tabindex","0","class","pt-badge badge-danger",3,"ngbTooltip",4,"ngIf"],[3,"account"],[1,"actor-handle"],["notification",t,"title",n,3,"value"],[1,"actor-counters"],["class","videos-count",4,"ngIf"],[1,"description",3,"ngClass"],[1,"description-html",3,"innerHTML"],["class","show-more d-md-none d-block button-unstyle","title",e,3,"click",4,"ngIf"],[1,"buttons"],["routerLink","/my-account","class","peertube-button-link orange-button",4,"ngIf"],[3,"account","videoChannels",4,"ngIf"],[1,"links",3,"ngClass"],[3,"hidden","items","itemTemplate"],["name","search-videos","icon-title","Search account videos","placeholder",c,3,"searchChanged","inputDisplayChanged","alwaysShow"],["tabindex","0",1,"pt-badge","badge-danger",3,"ngbTooltip"],[1,"videos-count"],["title",e,1,"show-more","d-md-none","d-block","button-unstyle",3,"click"],["routerLink","/my-account",1,"peertube-button-link","orange-button"],[3,"account","videoChannels"],["routerLinkActive","active",1,"sub-menu-entry",3,"routerLink"]];},template:function(n,e){n&1&&p(0,Ue,36,30,"div",8)(1,ke,3,0,"ng-container",9),n&2&&(r("ngIf",e.account),a(),r("ngIf",e.prependModerationActions));},dependencies:[w,nn,ce,Gn,_e,Yn,yn,J,on,kn,de,cn,Rn,ee,Ln],styles:['@charset "UTF-8";.root[_ngcontent-%COMP%]{--myFontSize: 1rem;--myGreyFontSize: 1rem}.section-label[_ngcontent-%COMP%]{color:var(--mainColor);font-size:12px;margin-bottom:15px;font-weight:700;letter-spacing:2.5px}@media screen and (max-width: 500px){.section-label[_ngcontent-%COMP%]{font-size:10px;letter-spacing:2.1px;margin-bottom:5px}}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;--gridVideosMiniatureMargins: var(--videosHorizontalMarginContent);margin-inline-start:var(--gridVideosMiniatureMargins)!important;margin-inline-end:var(--gridVideosMiniatureMargins)!important}@media screen and (max-width: 500px){.links[_ngcontent-%COMP%]{--gridVideosMiniatureMargins: 0;width:auto}}.links.on-channel-page[_ngcontent-%COMP%]{max-width:1200px}.links[_ngcontent-%COMP%]   simple-search-input[_ngcontent-%COMP%]{margin-inline-start:auto}my-copy-button[_ngcontent-%COMP%]{margin-inline-start:.1875rem}.account-info[_ngcontent-%COMP%]{grid-template-columns:1fr min-content;grid-template-rows:auto auto;background-color:var(--submenuBackgroundColor);--gridVideosMiniatureMargins: var(--videosHorizontalMarginContent);padding-inline-start:var(--gridVideosMiniatureMargins)!important;padding-inline-end:var(--gridVideosMiniatureMargins)!important;padding-top:calc(1.5rem + 3vw);padding-bottom:calc(1.5rem + 3vw);margin-bottom:calc(1.425rem + 2.1vw);font-size:1rem}@media screen and (max-width: 500px){.account-info[_ngcontent-%COMP%]{--gridVideosMiniatureMargins: 15px;width:auto}}@media (min-width: 1200px){.account-info[_ngcontent-%COMP%]{padding-top:3.75rem}}@media (min-width: 1200px){.account-info[_ngcontent-%COMP%]{padding-bottom:3.75rem}}@media (min-width: 1200px){.account-info[_ngcontent-%COMP%]{margin-bottom:3rem}}.account-avatar-row[_ngcontent-%COMP%]{display:flex;grid-column:1;margin-bottom:calc(1.325rem + .9vw)}@media (min-width: 1200px){.account-avatar-row[_ngcontent-%COMP%]{margin-bottom:2rem}}.account-avatar-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:1px;margin-inline-start:calc(1.325rem + .9vw)}@media (min-width: 1200px){.account-avatar-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-inline-start:2rem}}.account-avatar-row[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]{display:flex}.account-avatar-row[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1;min-width:1px}.account-avatar-row[_ngcontent-%COMP%]   .actor-display-name[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.account-avatar-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:calc(1.325rem + .9vw)}@media (min-width: 1200px){.account-avatar-row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.account-avatar-row[_ngcontent-%COMP%]   .actor-handle[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.account-avatar-row[_ngcontent-%COMP%]   .actor-handle[_ngcontent-%COMP%], .account-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:var(--myGreyFontSize)}.account-avatar-row[_ngcontent-%COMP%]   .actor-counters[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin:0 10px;color:var(--mainColor)}.actor-display-name[_ngcontent-%COMP%]{align-items:center}.description[_ngcontent-%COMP%]{grid-column:1/3;max-width:1000px;word-break:break-word}.show-more[_ngcontent-%COMP%]{text-align:center;color:var(--mainColor);cursor:pointer;margin-inline-start:auto;margin-inline-end:auto;margin-top:.625rem;margin-bottom:calc(1.40625rem + 1.875vw);padding-bottom:calc(1.5rem + 3vw)}@media (min-width: 1200px){.show-more[_ngcontent-%COMP%]{margin-bottom:2.8125rem}}@media (min-width: 1200px){.show-more[_ngcontent-%COMP%]{padding-bottom:3.75rem}}.buttons[_ngcontent-%COMP%]{grid-column:2;grid-row:1;display:flex;flex-wrap:wrap;justify-content:flex-end;align-content:flex-start}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.buttons[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{white-space:nowrap}.pt-badge[_ngcontent-%COMP%]{margin-inline-end:.3125rem}@media screen and (max-width: 800px){.description[_ngcontent-%COMP%]:not(.expanded){max-height:70px;position:relative;overflow:hidden}.description[_ngcontent-%COMP%]:not(.expanded):after{content:"";pointer-events:none;width:100%;height:100%;position:absolute;left:0;top:0;background:linear-gradient(transparent 30px,var(--submenuBackgroundColor))}.buttons[_ngcontent-%COMP%]{justify-content:center}}@media screen and (max-width: 500px){.root[_ngcontent-%COMP%]{--myFontSize: 14px;--myGreyFontSize: 13px}.links[_ngcontent-%COMP%]{margin:auto!important;width:min-content}}']}));var sn=z;var Yt=[{path:"peertube",redirectTo:"/videos/local"},{path:":accountId",component:sn,providers:[se,tn,oe,te,ne,re,ae],children:[{path:"",redirectTo:"video-channels",pathMatch:"full"},{path:"video-channels",component:an},{path:"videos",component:rn,data:{reuse:{enabled:!0,key:"account-videos-list"}}},{path:"search",redirectTo:"videos"}]}];export{Yt as default};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/