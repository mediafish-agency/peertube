import{b as te}from"./chunk-JGX4RESL.js";import{a as ne}from"./chunk-KOE64Z5J.js";import{c as j,d as Q,e as W,f as q,g as V,h as J}from"./chunk-XEFO2OX5.js";import{a as ee}from"./chunk-WRZZAQTV.js";import{Ab as O,Bb as w,Ca as r,Da as C,Ib as T,Kb as U,Na as D,Oa as _,Qf as K,Rd as k,Sa as o,ab as a,ba as I,bb as i,bc as z,cb as s,db as A,eb as g,fg as Y,kb as m,lb as x,mb as $,pb as d,pc as G,qc as X,rc as v,sa as y,sg as Z,vb as L,wb as B,xb as F,ya as p,za as h,zb as E}from"./chunk-4A7FW7VV.js";import{j as c,k as b}from"./chunk-K6ICEIKK.js";var se=n=>({rounded:n});function le(n,t){if(n&1&&(a(0,"div",1),s(1,"img",2),i()),n&2){let e=d();o("ngClass",U(2,se,e.rounded)),r(),o("src",e.instanceBannerUrl,h);}}var S=class S{constructor(t){this.server=t;c(this,"rounded",!1);c(this,"instanceBannerUrl");}ngOnInit(){var e;let{instance:t}=this.server.getHTMLConfig();this.instanceBannerUrl=(e=k(t.banners,"width"))==null?void 0:e.path;}};c(S,"\u0275fac",function(e){return new(e||S)(C(K));}),c(S,"\u0275cmp",I({type:S,selectors:[["my-instance-banner"]],inputs:{rounded:[2,"rounded","rounded",z]},standalone:!0,features:[D,T],decls:1,vars:1,consts:[["class","banner",3,"ngClass",4,"ngIf"],[1,"banner",3,"ngClass"],["alt","",1,"rounded",3,"src"]],template:function(e,l){e&1&&_(0,le,2,4,"div",0),e&2&&o("ngIf",l.instanceBannerUrl);},dependencies:[v,G],encapsulation:2}));var ie=S;var _e=["accordion"];function de(n,t){if(n&1&&(a(0,"h2",14),E(1),i()),n&2){let e=d();r(),O(e.about==null?null:e.about.instance.name);}}function me(n,t){if(n&1&&(a(0,"div",15),E(1),i()),n&2){let e=d();r(),O(e.about==null?null:e.about.instance.shortDescription);}}function pe(n,t){n&1&&s(0,"my-instance-features-table");}function ue(n,t){n&1&&(a(0,"div",16)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),A(4),m(5,1),g(),i()(),a(6,"div",20)(7,"div",21),_(8,pe,1,0,"ng-template"),i()()());}function Ae(n,t){if(n&1&&(a(0,"div",28)(1,"strong"),m(2,3),i(),s(3,"div",29),i(),a(4,"div",28)(5,"strong"),m(6,4),i(),s(7,"div",29),i(),a(8,"div",28)(9,"strong"),m(10,5),i(),s(11,"div",29),i()),n&2){let e=d(3);r(3),o("innerHTML",e.aboutHtml.administrator,p),r(4),o("innerHTML",e.about.instance.maintenanceLifetime,p),r(4),o("innerHTML",e.about.instance.businessModel,p);}}function ge(n,t){n&1&&(a(0,"div",27)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),A(4),m(5,2),g(),i()(),a(6,"div",20)(7,"div",21),_(8,Ae,12,3,"ng-template"),i()()());}function Ce(n,t){if(n&1&&s(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.terms,p);}}function Se(n,t){if(n&1&&(a(0,"div",30)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),E(4),i()(),a(5,"div",20)(6,"div",21),_(7,Ce,1,1,"ng-template"),i()()()),n&2){let e=d(2);r(4),w(" ",e.getTermsTitle()," ");}}function fe(n,t){if(n&1&&s(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.moderationInformation,p);}}function Ne(n,t){n&1&&(a(0,"div",32)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),A(4),m(5,6),g(),i()(),a(6,"div",20)(7,"div",21),_(8,fe,1,1,"ng-template"),i()()());}function Ie(n,t){if(n&1&&s(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.codeOfConduct,p);}}function Ee(n,t){n&1&&(a(0,"div",33)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),A(4),m(5,7),g(),i()(),a(6,"div",20)(7,"div",21),_(8,Ie,1,1,"ng-template"),i()()());}function Te(n,t){if(n&1&&s(0,"div",31),n&2){let e=d().$implicit;o("innerHTML",e.html,p);}}function ve(n,t){if(n&1&&(a(0,"div",34)(1,"div",17)(2,"button",18),s(3,"my-global-icon",19),A(4),m(5,8),g(),i()(),a(6,"div",20)(7,"div",21),_(8,Te,1,1,"ng-template"),i()()()),n&2){let e=t.$implicit;o("id",e.id),r(5),x(e.title),$(5);}}function be(n,t){if(n&1&&(A(0),_(1,ge,9,0,"div",22)(2,Se,8,1,"div",23)(3,Ne,9,0,"div",24)(4,Ee,9,0,"div",25)(5,ve,9,2,"div",26),g()),n&2){let e=d();r(),o("ngIf",e.getAdministratorsPanel()),r(),o("ngIf",e.termsPanel),r(),o("ngIf",e.moderationPanel),r(),o("ngIf",e.codeOfConductPanel),r(),o("ngForOf",e.pluginPanels);}}var f=class f{constructor(t,e,l){this.instanceService=t;this.notifier=e;this.hookService=l;c(this,"accordion");c(this,"init",new y());c(this,"displayInstanceName",!0);c(this,"displayInstanceShortDescription",!0);c(this,"pluginScope");c(this,"pluginHook");c(this,"panels",{features:!0,administrators:!0,moderation:!0,codeOfConduct:!0,terms:!0});c(this,"about");c(this,"aboutHtml",{terms:"",codeOfConduct:"",moderationInformation:"",administrator:""});c(this,"pluginPanels",[]);}ngOnInit(){return b(this,null,function*(){this.instanceService.getAbout().subscribe({next:t=>b(this,null,function*(){this.about=t,this.aboutHtml=yield this.instanceService.buildHtml(t),this.init.emit(this);}),error:t=>this.notifier.error(t.message)}),this.pluginPanels=yield this.hookService.wrapObject([],this.pluginScope,this.pluginHook);});}expandTerms(){this.accordion.expand("terms");}expandCodeOfConduct(){this.accordion.expand("code-of-conduct");}getAdministratorsPanel(){var t,e,l;return!this.about||!this.panels.administrators?!1:!!((t=this.aboutHtml)!=null&&t.administrator||(e=this.about)!=null&&e.instance.maintenanceLifetime||(l=this.about)!=null&&l.instance.businessModel);}getTermsTitle(){return"\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F "+this.about.instance.name+"";}get moderationPanel(){return this.panels.moderation&&!!this.aboutHtml.moderationInformation;}get codeOfConductPanel(){return this.panels.codeOfConduct&&!!this.aboutHtml.codeOfConduct;}get termsPanel(){return this.panels.terms&&!!this.aboutHtml.terms;}};c(f,"\u0275fac",function(e){return new(e||f)(C(ne),C(Y),C(Z));}),c(f,"\u0275cmp",I({type:f,selectors:[["my-instance-about-accordion"]],viewQuery:function(e,l){if(e&1&&L(_e,7),e&2){let N;B(N=F())&&(l.accordion=N.first);}},inputs:{displayInstanceName:"displayInstanceName",displayInstanceShortDescription:"displayInstanceShortDescription",pluginScope:"pluginScope",pluginHook:"pluginHook",panels:"panels"},outputs:{init:"init"},standalone:!0,features:[T],decls:6,vars:5,consts:()=>{let t;t="\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043D\u0430 \u044D\u0442\u043E\u043C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u0435";let e;e="\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u044B & \u0423\u0441\u0442\u043E\u0439\u0447\u0438\u0432\u043E\u0441\u0442\u044C";let l;l="\u041A\u0442\u043E \u043C\u044B \u0442\u0430\u043A\u0438\u0435?";let N;N="\u041A\u0430\u043A \u0434\u043E\u043B\u0433\u043E \u043C\u044B \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u043C \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044C \u044D\u0442\u043E\u0442 \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440?";let R;R="\u041A\u0430\u043A \u043C\u044B \u0431\u0443\u0434\u0435\u043C \u0444\u0438\u043D\u0430\u043D\u0441\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u0442\u043E\u0442 \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440?";let M;M="\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043C\u043E\u0434\u0435\u0440\u0430\u0446\u0438\u0438";let H;H="\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u043F\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F";let P;return P=""+"\uFFFD0\uFFFD"+"",[["accordion","ngbAccordion"],t,e,l,N,R,M,H,P,["class","instance-name",4,"ngIf"],["class","instance-short-description ellipsis-multiline-3",4,"ngIf"],["ngbAccordion","",3,"closeOthers"],["ngbAccordionItem","instance-features",4,"ngIf"],[4,"ngIf"],[1,"instance-name"],[1,"instance-short-description","ellipsis-multiline-3"],["ngbAccordionItem","instance-features"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["iconName","playlists"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","",4,"ngIf"],["ngbAccordionItem","terms",4,"ngIf"],["ngbAccordionItem","moderation-information",4,"ngIf"],["ngbAccordionItem","code-of-conduct",4,"ngIf"],["ngbAccordionItem","",3,"id",4,"ngFor","ngForOf"],["ngbAccordionItem",""],[1,"block"],[3,"innerHTML"],["ngbAccordionItem","terms"],[1,"block",3,"innerHTML"],["ngbAccordionItem","moderation-information"],["ngbAccordionItem","code-of-conduct"],["ngbAccordionItem","",3,"id"]];},template:function(e,l){e&1&&(_(0,de,2,1,"h2",9)(1,me,2,1,"div",10),a(2,"div",11,0),_(4,ue,9,0,"div",12)(5,be,6,5,"ng-container",13),i()),e&2&&(o("ngIf",l.displayInstanceName),r(),o("ngIf",l.displayInstanceShortDescription),r(),o("closeOthers",!0),r(2),o("ngIf",l.panels.features),r(),o("ngIf",l.about));},dependencies:[v,J,V,q,W,ee,Q,j,te,X],styles:[".instance-name[_ngcontent-%COMP%]{line-height:1.7rem}.instance-short-description[_ngcontent-%COMP%]{font-size:1rem;margin:25px 0}.block[_ngcontent-%COMP%]{margin-bottom:15px}my-global-icon[_ngcontent-%COMP%]{line-height:24px;margin-inline-end:.9375rem}"]}));var oe=f;export{ie as a,oe as b};/**i18n:2f710d33ac9c4f1483429afcadbb48fcf333aac524700807e70179670fe63b48*/